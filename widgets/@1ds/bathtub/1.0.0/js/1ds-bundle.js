System.register(["react"],function(exports,module){"use strict";var React__default,React$2,forwardRef,useContext,useRef$1,useCallback,useDebugValue$2,memo,useState$1,useEffect$2,useImperativeHandle,Component,createElement,createContext,useMemo$1;return{setters:[J=>{React__default=J.default,React$2=J,forwardRef=J.forwardRef,useContext=J.useContext,useRef$1=J.useRef,useCallback=J.useCallback,useDebugValue$2=J.useDebugValue,memo=J.memo,useState$1=J.useState,useEffect$2=J.useEffect,useImperativeHandle=J.useImperativeHandle,Component=J.Component,createElement=J.createElement,createContext=J.createContext,useMemo$1=J.useMemo}],execute:function(){var __vite_style__=document.createElement("style");__vite_style__.textContent=`html,body{height:100%}
/*$vite$:1*/`,document.head.appendChild(__vite_style__);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J}function getAugmentedNamespace(J){if(J.__esModule)return J;var $=J.default;if(typeof $=="function"){var _e=function et(){return this instanceof et?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(J).forEach(function(et){var tt=Object.getOwnPropertyDescriptor(J,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return J[et]}})}),_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=React__default,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$3(J,$,_e){var et,tt={},nt=null,rt=null;_e!==void 0&&(nt=""+_e),$.key!==void 0&&(nt=""+$.key),$.ref!==void 0&&(rt=$.ref);for(et in $)m$3.call($,et)&&!p$4.hasOwnProperty(et)&&(tt[et]=$[et]);if(J&&J.defaultProps)for(et in $=J.defaultProps,$)tt[et]===void 0&&(tt[et]=$[et]);return{$$typeof:k$3,type:J,key:nt,ref:rt,props:tt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3,reactJsxRuntime_production_min.jsx=q$3,reactJsxRuntime_production_min.jsxs=q$3,jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(J){if(J.sheet)return J.sheet;for(var $=0;$<document.styleSheets.length;$++)if(document.styleSheets[$].ownerNode===J)return document.styleSheets[$]}function createStyleElement(J){var $=document.createElement("style");return $.setAttribute("data-emotion",J.key),J.nonce!==void 0&&$.setAttribute("nonce",J.nonce),$.appendChild(document.createTextNode("")),$.setAttribute("data-s",""),$}var StyleSheet=function(){function J(_e){var et=this;this._insertTag=function(tt){var nt;et.tags.length===0?et.insertionPoint?nt=et.insertionPoint.nextSibling:et.prepend?nt=et.container.firstChild:nt=et.before:nt=et.tags[et.tags.length-1].nextSibling,et.container.insertBefore(tt,nt),et.tags.push(tt)},this.isSpeedy=_e.speedy===void 0?!0:_e.speedy,this.tags=[],this.ctr=0,this.nonce=_e.nonce,this.key=_e.key,this.container=_e.container,this.prepend=_e.prepend,this.insertionPoint=_e.insertionPoint,this.before=null}var $=J.prototype;return $.hydrate=function(et){et.forEach(this._insertTag)},$.insert=function(et){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var tt=this.tags[this.tags.length-1];if(this.isSpeedy){var nt=sheetForTag(tt);try{nt.insertRule(et,nt.cssRules.length)}catch{}}else tt.appendChild(document.createTextNode(et));this.ctr++},$.flush=function(){this.tags.forEach(function(et){var tt;return(tt=et.parentNode)==null?void 0:tt.removeChild(et)}),this.tags=[],this.ctr=0},J}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(J,$){return charat(J,0)^45?((($<<2^charat(J,0))<<2^charat(J,1))<<2^charat(J,2))<<2^charat(J,3):0}function trim(J){return J.trim()}function match(J,$){return(J=$.exec(J))?J[0]:J}function replace$1(J,$,_e){return J.replace($,_e)}function indexof(J,$){return J.indexOf($)}function charat(J,$){return J.charCodeAt($)|0}function substr(J,$,_e){return J.slice($,_e)}function strlen(J){return J.length}function sizeof(J){return J.length}function append(J,$){return $.push(J),J}function combine(J,$){return J.map($).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(J,$,_e,et,tt,nt,rt){return{value:J,root:$,parent:_e,type:et,props:tt,children:nt,line,column,length:rt,return:""}}function copy(J,$){return assign(node("",null,null,"",null,null,0),J,{length:-J.length},$)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(J,$){return substr(characters,J,$)}function token(J){switch(J){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(J){return line=column=1,length=strlen(characters=J),position=0,[]}function dealloc(J){return characters="",J}function delimit(J){return trim(slice(position-1,delimiter(J===91?J+2:J===40?J+1:J)))}function whitespace(J){for(;(character=peek())&&character<33;)next();return token(J)>2||token(character)>3?"":" "}function escaping(J,$){for(;--$&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(J,caret()+($<6&&peek()==32&&next()==32))}function delimiter(J){for(;next();)switch(character){case J:return position;case 34:case 39:J!==34&&J!==39&&delimiter(character);break;case 40:J===41&&delimiter(J);break;case 92:next();break}return position}function commenter(J,$){for(;next()&&J+character!==57;)if(J+character===84&&peek()===47)break;return"/*"+slice($,position-1)+"*"+from(J===47?J:next())}function identifier(J){for(;!token(peek());)next();return slice(J,position)}function compile(J){return dealloc(parse("",null,null,null,[""],J=alloc(J),0,[0],J))}function parse(J,$,_e,et,tt,nt,rt,it,ot){for(var st=0,at=0,ct=rt,ut=0,ft=0,dt=0,pt=1,vt=1,mt=1,Ot=0,yt="",wt=tt,bt=nt,Ct=et,kt=yt;vt;)switch(dt=Ot,Ot=next()){case 40:if(dt!=108&&charat(kt,ct-1)==58){indexof(kt+=replace$1(delimit(Ot),"&","&\f"),"&\f")!=-1&&(mt=-1);break}case 34:case 39:case 91:kt+=delimit(Ot);break;case 9:case 10:case 13:case 32:kt+=whitespace(dt);break;case 92:kt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment$1(commenter(next(),caret()),$,_e),ot);break;default:kt+="/"}break;case 123*pt:it[st++]=strlen(kt)*mt;case 125*pt:case 59:case 0:switch(Ot){case 0:case 125:vt=0;case 59+at:mt==-1&&(kt=replace$1(kt,/\f/g,"")),ft>0&&strlen(kt)-ct&&append(ft>32?declaration(kt+";",et,_e,ct-1):declaration(replace$1(kt," ","")+";",et,_e,ct-2),ot);break;case 59:kt+=";";default:if(append(Ct=ruleset(kt,$,_e,st,at,tt,it,yt,wt=[],bt=[],ct),nt),Ot===123)if(at===0)parse(kt,$,Ct,Ct,wt,nt,ct,it,bt);else switch(ut===99&&charat(kt,3)===110?100:ut){case 100:case 108:case 109:case 115:parse(J,Ct,Ct,et&&append(ruleset(J,Ct,Ct,0,0,tt,it,yt,tt,wt=[],ct),bt),tt,bt,ct,it,et?wt:bt);break;default:parse(kt,Ct,Ct,Ct,[""],bt,0,it,bt)}}st=at=ft=0,pt=mt=1,yt=kt="",ct=rt;break;case 58:ct=1+strlen(kt),ft=dt;default:if(pt<1){if(Ot==123)--pt;else if(Ot==125&&pt++==0&&prev()==125)continue}switch(kt+=from(Ot),Ot*pt){case 38:mt=at>0?1:(kt+="\f",-1);break;case 44:it[st++]=(strlen(kt)-1)*mt,mt=1;break;case 64:peek()===45&&(kt+=delimit(next())),ut=peek(),at=ct=strlen(yt=kt+=identifier(caret())),Ot++;break;case 45:dt===45&&strlen(kt)==2&&(pt=0)}}return nt}function ruleset(J,$,_e,et,tt,nt,rt,it,ot,st,at){for(var ct=tt-1,ut=tt===0?nt:[""],ft=sizeof(ut),dt=0,pt=0,vt=0;dt<et;++dt)for(var mt=0,Ot=substr(J,ct+1,ct=abs(pt=rt[dt])),yt=J;mt<ft;++mt)(yt=trim(pt>0?ut[mt]+" "+Ot:replace$1(Ot,/&\f/g,ut[mt])))&&(ot[vt++]=yt);return node(J,$,_e,tt===0?RULESET:it,ot,st,at)}function comment$1(J,$,_e){return node(J,$,_e,COMMENT,from(char()),substr(J,2,-2),0)}function declaration(J,$,_e,et){return node(J,$,_e,DECLARATION,substr(J,0,et),substr(J,et+1,-1),et)}function serialize$1(J,$){for(var _e="",et=sizeof(J),tt=0;tt<et;tt++)_e+=$(J[tt],tt,J,$)||"";return _e}function stringify(J,$,_e,et){switch(J.type){case LAYER:if(J.children.length)break;case IMPORT:case DECLARATION:return J.return=J.return||J.value;case COMMENT:return"";case KEYFRAMES:return J.return=J.value+"{"+serialize$1(J.children,et)+"}";case RULESET:J.value=J.props.join(",")}return strlen(_e=serialize$1(J.children,et))?J.return=J.value+"{"+_e+"}":""}function middleware(J){var $=sizeof(J);return function(_e,et,tt,nt){for(var rt="",it=0;it<$;it++)rt+=J[it](_e,et,tt,nt)||"";return rt}}function rulesheet(J){return function($){$.root||($=$.return)&&J($)}}function memoize(J){var $=Object.create(null);return function(_e){return $[_e]===void 0&&($[_e]=J(_e)),$[_e]}}var identifierWithPointTracking=function($,_e,et){for(var tt=0,nt=0;tt=nt,nt=peek(),tt===38&&nt===12&&(_e[et]=1),!token(nt);)next();return slice($,position)},toRules=function($,_e){var et=-1,tt=44;do switch(token(tt)){case 0:tt===38&&peek()===12&&(_e[et]=1),$[et]+=identifierWithPointTracking(position-1,_e,et);break;case 2:$[et]+=delimit(tt);break;case 4:if(tt===44){$[++et]=peek()===58?"&\f":"",_e[et]=$[et].length;break}default:$[et]+=from(tt)}while(tt=next());return $},getRules=function($,_e){return dealloc(toRules(alloc($),_e))},fixedElements=new WeakMap,compat=function($){if(!($.type!=="rule"||!$.parent||$.length<1)){for(var _e=$.value,et=$.parent,tt=$.column===et.column&&$.line===et.line;et.type!=="rule";)if(et=et.parent,!et)return;if(!($.props.length===1&&_e.charCodeAt(0)!==58&&!fixedElements.get(et))&&!tt){fixedElements.set($,!0);for(var nt=[],rt=getRules(_e,nt),it=et.props,ot=0,st=0;ot<rt.length;ot++)for(var at=0;at<it.length;at++,st++)$.props[st]=nt[ot]?rt[ot].replace(/&\f/g,it[at]):it[at]+" "+rt[ot]}}},removeLabel=function($){if($.type==="decl"){var _e=$.value;_e.charCodeAt(0)===108&&_e.charCodeAt(2)===98&&($.return="",$.value="")}};function prefix(J,$){switch(hash(J,$)){case 5103:return WEBKIT+"print-"+J+J;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+J+J;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+J+MOZ+J+MS+J+J;case 6828:case 4268:return WEBKIT+J+MS+J+J;case 6165:return WEBKIT+J+MS+"flex-"+J+J;case 5187:return WEBKIT+J+replace$1(J,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+J;case 5443:return WEBKIT+J+MS+"flex-item-"+replace$1(J,/flex-|-self/,"")+J;case 4675:return WEBKIT+J+MS+"flex-line-pack"+replace$1(J,/align-content|flex-|-self/,"")+J;case 5548:return WEBKIT+J+MS+replace$1(J,"shrink","negative")+J;case 5292:return WEBKIT+J+MS+replace$1(J,"basis","preferred-size")+J;case 6060:return WEBKIT+"box-"+replace$1(J,"-grow","")+WEBKIT+J+MS+replace$1(J,"grow","positive")+J;case 4554:return WEBKIT+replace$1(J,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+J;case 6187:return replace$1(replace$1(replace$1(J,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),J,"")+J;case 5495:case 3959:return replace$1(J,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$1(replace$1(J,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+J+J;case 4095:case 3583:case 4068:case 2532:return replace$1(J,/(.+)-inline(.+)/,WEBKIT+"$1$2")+J;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(J)-1-$>6)switch(charat(J,$+1)){case 109:if(charat(J,$+4)!==45)break;case 102:return replace$1(J,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(J,$+3)==108?"$3":"$2-$3"))+J;case 115:return~indexof(J,"stretch")?prefix(replace$1(J,"stretch","fill-available"),$)+J:J}break;case 4949:if(charat(J,$+1)!==115)break;case 6444:switch(charat(J,strlen(J)-3-(~indexof(J,"!important")&&10))){case 107:return replace$1(J,":",":"+WEBKIT)+J;case 101:return replace$1(J,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(J,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+J}break;case 5936:switch(charat(J,$+11)){case 114:return WEBKIT+J+MS+replace$1(J,/[svh]\w+-[tblr]{2}/,"tb")+J;case 108:return WEBKIT+J+MS+replace$1(J,/[svh]\w+-[tblr]{2}/,"tb-rl")+J;case 45:return WEBKIT+J+MS+replace$1(J,/[svh]\w+-[tblr]{2}/,"lr")+J}return WEBKIT+J+MS+J+J}return J}var prefixer=function($,_e,et,tt){if($.length>-1&&!$.return)switch($.type){case DECLARATION:$.return=prefix($.value,$.length);break;case KEYFRAMES:return serialize$1([copy($,{value:replace$1($.value,"@","@"+WEBKIT)})],tt);case RULESET:if($.length)return combine($.props,function(nt){switch(match(nt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy($,{props:[replace$1(nt,/:(read-\w+)/,":"+MOZ+"$1")]})],tt);case"::placeholder":return serialize$1([copy($,{props:[replace$1(nt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy($,{props:[replace$1(nt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy($,{props:[replace$1(nt,/:(plac\w+)/,MS+"input-$1")]})],tt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function($){var _e=$.key;if(_e==="css"){var et=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(et,function(pt){var vt=pt.getAttribute("data-emotion");vt.indexOf(" ")!==-1&&(document.head.appendChild(pt),pt.setAttribute("data-s",""))})}var tt=$.stylisPlugins||defaultStylisPlugins,nt={},rt,it=[];rt=$.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+_e+' "]'),function(pt){for(var vt=pt.getAttribute("data-emotion").split(" "),mt=1;mt<vt.length;mt++)nt[vt[mt]]=!0;it.push(pt)});var ot,st=[compat,removeLabel];{var at,ct=[stringify,rulesheet(function(pt){at.insert(pt)})],ut=middleware(st.concat(tt,ct)),ft=function(vt){return serialize$1(compile(vt),ut)};ot=function(vt,mt,Ot,yt){at=Ot,ft(vt?vt+"{"+mt.styles+"}":mt.styles),yt&&(dt.inserted[mt.name]=!0)}}var dt={key:_e,sheet:new StyleSheet({key:_e,container:rt,nonce:$.nonce,speedy:$.speedy,prepend:$.prepend,insertionPoint:$.insertionPoint}),nonce:$.nonce,inserted:nt,registered:{},insert:ot};return dt.sheet.hydrate(it),dt};function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(J){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)({}).hasOwnProperty.call(_e,et)&&(J[et]=_e[et])}return J},_extends$3.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$1=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$3=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$3=b$2?Symbol.for("react.lazy"):60116,v$3=b$2?Symbol.for("react.block"):60121,w$1=b$2?Symbol.for("react.fundamental"):60117,x$1=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$3(J){if(typeof J=="object"&&J!==null){var $=J.$$typeof;switch($){case c$2:switch(J=J.type,J){case l$2:case m$2:case e$1:case g$2:case f$2:case p$3:return J;default:switch(J=J&&J.$$typeof,J){case k$2:case n$2:case t$3:case r$1:case h$2:return J;default:return $}}case d$2:return $}}}function A$2(J){return z$3(J)===m$2}reactIs_production_min$1.AsyncMode=l$2,reactIs_production_min$1.ConcurrentMode=m$2,reactIs_production_min$1.ContextConsumer=k$2,reactIs_production_min$1.ContextProvider=h$2,reactIs_production_min$1.Element=c$2,reactIs_production_min$1.ForwardRef=n$2,reactIs_production_min$1.Fragment=e$1,reactIs_production_min$1.Lazy=t$3,reactIs_production_min$1.Memo=r$1,reactIs_production_min$1.Portal=d$2,reactIs_production_min$1.Profiler=g$2,reactIs_production_min$1.StrictMode=f$2,reactIs_production_min$1.Suspense=p$3,reactIs_production_min$1.isAsyncMode=function(J){return A$2(J)||z$3(J)===l$2},reactIs_production_min$1.isConcurrentMode=A$2,reactIs_production_min$1.isContextConsumer=function(J){return z$3(J)===k$2},reactIs_production_min$1.isContextProvider=function(J){return z$3(J)===h$2},reactIs_production_min$1.isElement=function(J){return typeof J=="object"&&J!==null&&J.$$typeof===c$2},reactIs_production_min$1.isForwardRef=function(J){return z$3(J)===n$2},reactIs_production_min$1.isFragment=function(J){return z$3(J)===e$1},reactIs_production_min$1.isLazy=function(J){return z$3(J)===t$3},reactIs_production_min$1.isMemo=function(J){return z$3(J)===r$1},reactIs_production_min$1.isPortal=function(J){return z$3(J)===d$2},reactIs_production_min$1.isProfiler=function(J){return z$3(J)===g$2},reactIs_production_min$1.isStrictMode=function(J){return z$3(J)===f$2},reactIs_production_min$1.isSuspense=function(J){return z$3(J)===p$3},reactIs_production_min$1.isValidElementType=function(J){return typeof J=="string"||typeof J=="function"||J===e$1||J===m$2||J===g$2||J===f$2||J===p$3||J===q$2||typeof J=="object"&&J!==null&&(J.$$typeof===t$3||J.$$typeof===r$1||J.$$typeof===h$2||J.$$typeof===k$2||J.$$typeof===n$2||J.$$typeof===w$1||J.$$typeof===x$1||J.$$typeof===y$1||J.$$typeof===v$3)},reactIs_production_min$1.typeOf=z$3,reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS,TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(J,$,_e){var et="";return _e.split(" ").forEach(function(tt){J[tt]!==void 0?$.push(J[tt]+";"):tt&&(et+=tt+" ")}),et}var registerStyles=function($,_e,et){var tt=$.key+"-"+_e.name;(et===!1||isBrowser===!1)&&$.registered[tt]===void 0&&($.registered[tt]=_e.styles)},insertStyles=function($,_e,et){registerStyles($,_e,et);var tt=$.key+"-"+_e.name;if($.inserted[_e.name]===void 0){var nt=_e;do $.insert(_e===nt?"."+tt:"",nt,$.sheet,!0),nt=nt.next;while(nt!==void 0)}};function murmur2(J){for(var $=0,_e,et=0,tt=J.length;tt>=4;++et,tt-=4)_e=J.charCodeAt(et)&255|(J.charCodeAt(++et)&255)<<8|(J.charCodeAt(++et)&255)<<16|(J.charCodeAt(++et)&255)<<24,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16),_e^=_e>>>24,$=(_e&65535)*1540483477+((_e>>>16)*59797<<16)^($&65535)*1540483477+(($>>>16)*59797<<16);switch(tt){case 3:$^=(J.charCodeAt(et+2)&255)<<16;case 2:$^=(J.charCodeAt(et+1)&255)<<8;case 1:$^=J.charCodeAt(et)&255,$=($&65535)*1540483477+(($>>>16)*59797<<16)}return $^=$>>>13,$=($&65535)*1540483477+(($>>>16)*59797<<16),(($^$>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function($){return $.charCodeAt(1)===45},isProcessableValue=function($){return $!=null&&typeof $!="boolean"},processStyleName=memoize(function(J){return isCustomProperty(J)?J:J.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function($,_e){switch($){case"animation":case"animationName":if(typeof _e=="string")return _e.replace(animationRegex,function(et,tt,nt){return cursor$1={name:tt,styles:nt,next:cursor$1},tt})}return unitlessKeys[$]!==1&&!isCustomProperty($)&&typeof _e=="number"&&_e!==0?_e+"px":_e};function handleInterpolation(J,$,_e){if(_e==null)return"";var et=_e;if(et.__emotion_styles!==void 0)return et;switch(typeof _e){case"boolean":return"";case"object":{var tt=_e;if(tt.anim===1)return cursor$1={name:tt.name,styles:tt.styles,next:cursor$1},tt.name;var nt=_e;if(nt.styles!==void 0){var rt=nt.next;if(rt!==void 0)for(;rt!==void 0;)cursor$1={name:rt.name,styles:rt.styles,next:cursor$1},rt=rt.next;var it=nt.styles+";";return it}return createStringFromObject(J,$,_e)}case"function":{if(J!==void 0){var ot=cursor$1,st=_e(J);return cursor$1=ot,handleInterpolation(J,$,st)}break}}var at=_e;if($==null)return at;var ct=$[at];return ct!==void 0?ct:at}function createStringFromObject(J,$,_e){var et="";if(Array.isArray(_e))for(var tt=0;tt<_e.length;tt++)et+=handleInterpolation(J,$,_e[tt])+";";else for(var nt in _e){var rt=_e[nt];if(typeof rt!="object"){var it=rt;$!=null&&$[it]!==void 0?et+=nt+"{"+$[it]+"}":isProcessableValue(it)&&(et+=processStyleName(nt)+":"+processStyleValue(nt,it)+";")}else if(Array.isArray(rt)&&typeof rt[0]=="string"&&($==null||$[rt[0]]===void 0))for(var ot=0;ot<rt.length;ot++)isProcessableValue(rt[ot])&&(et+=processStyleName(nt)+":"+processStyleValue(nt,rt[ot])+";");else{var st=handleInterpolation(J,$,rt);switch(nt){case"animation":case"animationName":{et+=processStyleName(nt)+":"+st+";";break}default:et+=nt+"{"+st+"}"}}}return et}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor$1;function serializeStyles(J,$,_e){if(J.length===1&&typeof J[0]=="object"&&J[0]!==null&&J[0].styles!==void 0)return J[0];var et=!0,tt="";cursor$1=void 0;var nt=J[0];if(nt==null||nt.raw===void 0)et=!1,tt+=handleInterpolation(_e,$,nt);else{var rt=nt;tt+=rt[0]}for(var it=1;it<J.length;it++)if(tt+=handleInterpolation(_e,$,J[it]),et){var ot=nt;tt+=ot[it]}labelPattern.lastIndex=0;for(var st="",at;(at=labelPattern.exec(tt))!==null;)st+="-"+at[1];var ct=murmur2(tt)+st;return{name:ct,styles:tt,next:cursor$1}}var syncFallback=function($){return $()},useInsertionEffect=React$2.useInsertionEffect?React$2.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=React$2.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function($){return forwardRef(function(_e,et){var tt=useContext(EmotionCacheContext);return $(_e,tt,et)})},ThemeContext=React$2.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function($,_e){var et={};for(var tt in _e)hasOwn.call(_e,tt)&&(et[tt]=_e[tt]);return et[typePropName]=$,et},Insertion$1=function($){var _e=$.cache,et=$.serialized,tt=$.isStringTag;return registerStyles(_e,et,tt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(_e,et,tt)}),null},Emotion=withEmotionCache(function(J,$,_e){var et=J.css;typeof et=="string"&&$.registered[et]!==void 0&&(et=$.registered[et]);var tt=J[typePropName],nt=[et],rt="";typeof J.className=="string"?rt=getRegisteredStyles($.registered,nt,J.className):J.className!=null&&(rt=J.className+" ");var it=serializeStyles(nt,void 0,React$2.useContext(ThemeContext));rt+=$.key+"-"+it.name;var ot={};for(var st in J)hasOwn.call(J,st)&&st!=="css"&&st!==typePropName&&(ot[st]=J[st]);return ot.className=rt,_e&&(ot.ref=_e),React$2.createElement(React$2.Fragment,null,React$2.createElement(Insertion$1,{cache:$,serialized:it,isStringTag:typeof tt=="string"}),React$2.createElement(tt,ot))}),Emotion$1=Emotion,Fragment=jsxRuntimeExports.Fragment,jsx$1=function($,_e,et){return hasOwn.call(_e,"css")?jsxRuntimeExports.jsx(Emotion$1,createEmotionProps($,_e),et):jsxRuntimeExports.jsx($,_e,et)},jsxs=function($,_e,et){return hasOwn.call(_e,"css")?jsxRuntimeExports.jsxs(Emotion$1,createEmotionProps($,_e),et):jsxRuntimeExports.jsxs($,_e,et)},reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(J){return reactPropsRegex.test(J)||J.charCodeAt(0)===111&&J.charCodeAt(1)===110&&J.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function($){return $!=="theme"},getDefaultShouldForwardProp=function($){return typeof $=="string"&&$.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function($,_e,et){var tt;if(_e){var nt=_e.shouldForwardProp;tt=$.__emotion_forwardProp&&nt?function(rt){return $.__emotion_forwardProp(rt)&&nt(rt)}:nt}return typeof tt!="function"&&et&&(tt=$.__emotion_forwardProp),tt},Insertion=function($){var _e=$.cache,et=$.serialized,tt=$.isStringTag;return registerStyles(_e,et,tt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(_e,et,tt)}),null},createStyled=function J($,_e){var et=$.__emotion_real===$,tt=et&&$.__emotion_base||$,nt,rt;_e!==void 0&&(nt=_e.label,rt=_e.target);var it=composeShouldForwardProps($,_e,et),ot=it||getDefaultShouldForwardProp(tt),st=!ot("as");return function(){var at=arguments,ct=et&&$.__emotion_styles!==void 0?$.__emotion_styles.slice(0):[];if(nt!==void 0&&ct.push("label:"+nt+";"),at[0]==null||at[0].raw===void 0)ct.push.apply(ct,at);else{var ut=at[0];ct.push(ut[0]);for(var ft=at.length,dt=1;dt<ft;dt++)ct.push(at[dt],ut[dt])}var pt=withEmotionCache(function(vt,mt,Ot){var yt=st&&vt.as||tt,wt="",bt=[],Ct=vt;if(vt.theme==null){Ct={};for(var kt in vt)Ct[kt]=vt[kt];Ct.theme=React$2.useContext(ThemeContext)}typeof vt.className=="string"?wt=getRegisteredStyles(mt.registered,bt,vt.className):vt.className!=null&&(wt=vt.className+" ");var Et=serializeStyles(ct.concat(bt),mt.registered,Ct);wt+=mt.key+"-"+Et.name,rt!==void 0&&(wt+=" "+rt);var _t=st&&it===void 0?getDefaultShouldForwardProp(yt):ot,At={};for(var Dt in vt)st&&Dt==="as"||_t(Dt)&&(At[Dt]=vt[Dt]);return At.className=wt,Ot&&(At.ref=Ot),React$2.createElement(React$2.Fragment,null,React$2.createElement(Insertion,{cache:mt,serialized:Et,isStringTag:typeof yt=="string"}),React$2.createElement(yt,At))});return pt.displayName=nt!==void 0?nt:"Styled("+(typeof tt=="string"?tt:tt.displayName||tt.name||"Component")+")",pt.defaultProps=$.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=tt,pt.__emotion_styles=ct,pt.__emotion_forwardProp=it,Object.defineProperty(pt,"toString",{value:function(){return"."+rt}}),pt.withComponent=function(vt,mt){var Ot=J(vt,_extends$3({},_e,mt,{shouldForwardProp:composeShouldForwardProps(pt,mt,!0)}));return Ot.apply(void 0,ct)},pt}},tags$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags$1.forEach(function(J){newStyled[J]=newStyled(J)});function n$1(J){for(var $=arguments.length,_e=Array($>1?$-1:0),et=1;et<$;et++)_e[et-1]=arguments[et];throw Error("[Immer] minified error nr: "+J+(_e.length?" "+_e.map(function(tt){return"'"+tt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(J){return!!J&&!!J[Q$1]}function t$2(J){var $;return!!J&&(function(_e){if(!_e||typeof _e!="object")return!1;var et=Object.getPrototypeOf(_e);if(et===null)return!0;var tt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return tt===Object||typeof tt=="function"&&Function.toString.call(tt)===Z$1}(J)||Array.isArray(J)||!!J[L$1]||!!(!(($=J.constructor)===null||$===void 0)&&$[L$1])||s(J)||v$2(J))}function i$2(J,$,_e){_e===void 0&&(_e=!1),o(J)===0?(_e?Object.keys:nn)(J).forEach(function(et){_e&&typeof et=="symbol"||$(et,J[et],J)}):J.forEach(function(et,tt){return $(tt,et,J)})}function o(J){var $=J[Q$1];return $?$.i>3?$.i-4:$.i:Array.isArray(J)?1:s(J)?2:v$2(J)?3:0}function u$1(J,$){return o(J)===2?J.has($):Object.prototype.hasOwnProperty.call(J,$)}function a(J,$){return o(J)===2?J.get($):J[$]}function f$1(J,$,_e){var et=o(J);et===2?J.set($,_e):et===3?J.add(_e):J[$]=_e}function c$1(J,$){return J===$?J!==0||1/J==1/$:J!=J&&$!=$}function s(J){return X$1&&J instanceof Map}function v$2(J){return q$1&&J instanceof Set}function p$2(J){return J.o||J.t}function l$1(J){if(Array.isArray(J))return Array.prototype.slice.call(J);var $=rn(J);delete $[Q$1];for(var _e=nn($),et=0;et<_e.length;et++){var tt=_e[et],nt=$[tt];nt.writable===!1&&(nt.writable=!0,nt.configurable=!0),(nt.get||nt.set)&&($[tt]={configurable:!0,writable:!0,enumerable:nt.enumerable,value:J[tt]})}return Object.create(Object.getPrototypeOf(J),$)}function d$1(J,$){return $===void 0&&($=!1),y(J)||r(J)||!t$2(J)||(o(J)>1&&(J.set=J.add=J.clear=J.delete=h$1),Object.freeze(J),$&&i$2(J,function(_e,et){return d$1(et,!0)},!0)),J}function h$1(){n$1(2)}function y(J){return J==null||typeof J!="object"||Object.isFrozen(J)}function b$1(J){var $=tn[J];return $||n$1(18,J),$}function m$1(J,$){tn[J]||(tn[J]=$)}function _(){return U$1}function j(J,$){$&&(b$1("Patches"),J.u=[],J.s=[],J.v=$)}function g$1(J){O$1(J),J.p.forEach(S$1),J.p=null}function O$1(J){J===U$1&&(U$1=J.l)}function w(J){return U$1={p:[],l:U$1,h:J,m:!0,_:0}}function S$1(J){var $=J[Q$1];$.i===0||$.i===1?$.j():$.g=!0}function P$1(J,$){$._=$.p.length;var _e=$.p[0],et=J!==void 0&&J!==_e;return $.h.O||b$1("ES5").S($,J,et),et?(_e[Q$1].P&&(g$1($),n$1(4)),t$2(J)&&(J=M$1($,J),$.l||x($,J)),$.u&&b$1("Patches").M(_e[Q$1].t,J,$.u,$.s)):J=M$1($,_e,[]),g$1($),$.u&&$.v($.u,$.s),J!==H$1?J:void 0}function M$1(J,$,_e){if(y($))return $;var et=$[Q$1];if(!et)return i$2($,function(it,ot){return A$1(J,et,$,it,ot,_e)},!0),$;if(et.A!==J)return $;if(!et.P)return x(J,et.t,!0),et.t;if(!et.I){et.I=!0,et.A._--;var tt=et.i===4||et.i===5?et.o=l$1(et.k):et.o,nt=tt,rt=!1;et.i===3&&(nt=new Set(tt),tt.clear(),rt=!0),i$2(nt,function(it,ot){return A$1(J,et,tt,it,ot,_e,rt)}),x(J,tt,!1),_e&&J.u&&b$1("Patches").N(et,_e,J.u,J.s)}return et.o}function A$1(J,$,_e,et,tt,nt,rt){if(r(tt)){var it=M$1(J,tt,nt&&$&&$.i!==3&&!u$1($.R,et)?nt.concat(et):void 0);if(f$1(_e,et,it),!r(it))return;J.m=!1}else rt&&_e.add(tt);if(t$2(tt)&&!y(tt)){if(!J.h.D&&J._<1)return;M$1(J,tt),$&&$.A.l||x(J,tt)}}function x(J,$,_e){_e===void 0&&(_e=!1),!J.l&&J.h.D&&J.m&&d$1($,_e)}function z$2(J,$){var _e=J[Q$1];return(_e?p$2(_e):J)[$]}function I$1(J,$){if($ in J)for(var _e=Object.getPrototypeOf(J);_e;){var et=Object.getOwnPropertyDescriptor(_e,$);if(et)return et;_e=Object.getPrototypeOf(_e)}}function k$1(J){J.P||(J.P=!0,J.l&&k$1(J.l))}function E$1(J){J.o||(J.o=l$1(J.t))}function N$1(J,$,_e){var et=s($)?b$1("MapSet").F($,_e):v$2($)?b$1("MapSet").T($,_e):J.O?function(tt,nt){var rt=Array.isArray(tt),it={i:rt?1:0,A:nt?nt.A:_(),P:!1,I:!1,R:{},l:nt,t:tt,k:null,o:null,j:null,C:!1},ot=it,st=en;rt&&(ot=[it],st=on);var at=Proxy.revocable(ot,st),ct=at.revoke,ut=at.proxy;return it.k=ut,it.j=ct,ut}($,_e):b$1("ES5").J($,_e);return(_e?_e.A:_()).p.push(et),et}function R$1(J){return r(J)||n$1(22,J),function $(_e){if(!t$2(_e))return _e;var et,tt=_e[Q$1],nt=o(_e);if(tt){if(!tt.P&&(tt.i<4||!b$1("ES5").K(tt)))return tt.t;tt.I=!0,et=D$1(_e,nt),tt.I=!1}else et=D$1(_e,nt);return i$2(et,function(rt,it){tt&&a(tt.t,rt)===it||f$1(et,rt,$(it))}),nt===3?new Set(et):et}(J)}function D$1(J,$){switch($){case 2:return new Map(J);case 3:return Array.from(J)}return l$1(J)}function F(){function J(nt,rt){var it=tt[nt];return it?it.enumerable=rt:tt[nt]=it={configurable:!0,enumerable:rt,get:function(){var ot=this[Q$1];return en.get(ot,nt)},set:function(ot){var st=this[Q$1];en.set(st,nt,ot)}},it}function $(nt){for(var rt=nt.length-1;rt>=0;rt--){var it=nt[rt][Q$1];if(!it.P)switch(it.i){case 5:et(it)&&k$1(it);break;case 4:_e(it)&&k$1(it)}}}function _e(nt){for(var rt=nt.t,it=nt.k,ot=nn(it),st=ot.length-1;st>=0;st--){var at=ot[st];if(at!==Q$1){var ct=rt[at];if(ct===void 0&&!u$1(rt,at))return!0;var ut=it[at],ft=ut&&ut[Q$1];if(ft?ft.t!==ct:!c$1(ut,ct))return!0}}var dt=!!rt[Q$1];return ot.length!==nn(rt).length+(dt?0:1)}function et(nt){var rt=nt.k;if(rt.length!==nt.t.length)return!0;var it=Object.getOwnPropertyDescriptor(rt,rt.length-1);if(it&&!it.get)return!0;for(var ot=0;ot<rt.length;ot++)if(!rt.hasOwnProperty(ot))return!0;return!1}var tt={};m$1("ES5",{J:function(nt,rt){var it=Array.isArray(nt),ot=function(at,ct){if(at){for(var ut=Array(ct.length),ft=0;ft<ct.length;ft++)Object.defineProperty(ut,""+ft,J(ft,!0));return ut}var dt=rn(ct);delete dt[Q$1];for(var pt=nn(dt),vt=0;vt<pt.length;vt++){var mt=pt[vt];dt[mt]=J(mt,at||!!dt[mt].enumerable)}return Object.create(Object.getPrototypeOf(ct),dt)}(it,nt),st={i:it?5:4,A:rt?rt.A:_(),P:!1,I:!1,R:{},l:rt,t:nt,k:ot,o:null,g:!1,C:!1};return Object.defineProperty(ot,Q$1,{value:st,writable:!0}),ot},S:function(nt,rt,it){it?r(rt)&&rt[Q$1].A===nt&&$(nt.p):(nt.u&&function ot(st){if(st&&typeof st=="object"){var at=st[Q$1];if(at){var ct=at.t,ut=at.k,ft=at.R,dt=at.i;if(dt===4)i$2(ut,function(yt){yt!==Q$1&&(ct[yt]!==void 0||u$1(ct,yt)?ft[yt]||ot(ut[yt]):(ft[yt]=!0,k$1(at)))}),i$2(ct,function(yt){ut[yt]!==void 0||u$1(ut,yt)||(ft[yt]=!1,k$1(at))});else if(dt===5){if(et(at)&&(k$1(at),ft.length=!0),ut.length<ct.length)for(var pt=ut.length;pt<ct.length;pt++)ft[pt]=!1;else for(var vt=ct.length;vt<ut.length;vt++)ft[vt]=!0;for(var mt=Math.min(ut.length,ct.length),Ot=0;Ot<mt;Ot++)ut.hasOwnProperty(Ot)||(ft[Ot]=!0),ft[Ot]===void 0&&ot(ut[Ot])}}}}(nt.p[0]),$(nt.p))},K:function(nt){return nt.i===4?_e(nt):et(nt)}})}var G$1,U$1,W$1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$1=typeof Map<"u",q$1=typeof Set<"u",B$1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$1=W$1?Symbol.for("immer-nothing"):((G$1={})["immer-nothing"]=!0,G$1),L$1=W$1?Symbol.for("immer-draftable"):"__$immer_draftable",Q$1=W$1?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(J){return Object.getOwnPropertyNames(J).concat(Object.getOwnPropertySymbols(J))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(J){var $={};return nn(J).forEach(function(_e){$[_e]=Object.getOwnPropertyDescriptor(J,_e)}),$},tn={},en={get:function(J,$){if($===Q$1)return J;var _e=p$2(J);if(!u$1(_e,$))return function(tt,nt,rt){var it,ot=I$1(nt,rt);return ot?"value"in ot?ot.value:(it=ot.get)===null||it===void 0?void 0:it.call(tt.k):void 0}(J,_e,$);var et=_e[$];return J.I||!t$2(et)?et:et===z$2(J.t,$)?(E$1(J),J.o[$]=N$1(J.A.h,et,J)):et},has:function(J,$){return $ in p$2(J)},ownKeys:function(J){return Reflect.ownKeys(p$2(J))},set:function(J,$,_e){var et=I$1(p$2(J),$);if(et!=null&&et.set)return et.set.call(J.k,_e),!0;if(!J.P){var tt=z$2(p$2(J),$),nt=tt==null?void 0:tt[Q$1];if(nt&&nt.t===_e)return J.o[$]=_e,J.R[$]=!1,!0;if(c$1(_e,tt)&&(_e!==void 0||u$1(J.t,$)))return!0;E$1(J),k$1(J)}return J.o[$]===_e&&(_e!==void 0||$ in J.o)||Number.isNaN(_e)&&Number.isNaN(J.o[$])||(J.o[$]=_e,J.R[$]=!0),!0},deleteProperty:function(J,$){return z$2(J.t,$)!==void 0||$ in J.t?(J.R[$]=!1,E$1(J),k$1(J)):delete J.R[$],J.o&&delete J.o[$],!0},getOwnPropertyDescriptor:function(J,$){var _e=p$2(J),et=Reflect.getOwnPropertyDescriptor(_e,$);return et&&{writable:!0,configurable:J.i!==1||$!=="length",enumerable:et.enumerable,value:_e[$]}},defineProperty:function(){n$1(11)},getPrototypeOf:function(J){return Object.getPrototypeOf(J.t)},setPrototypeOf:function(){n$1(12)}},on={};i$2(en,function(J,$){on[J]=function(){return arguments[0]=arguments[0][0],$.apply(this,arguments)}}),on.deleteProperty=function(J,$){return on.set.call(this,J,$,void 0)},on.set=function(J,$,_e){return en.set.call(this,J[0],$,_e,J[0])};var un=function(){function J(_e){var et=this;this.O=B$1,this.D=!0,this.produce=function(tt,nt,rt){if(typeof tt=="function"&&typeof nt!="function"){var it=nt;nt=tt;var ot=et;return function(pt){var vt=this;pt===void 0&&(pt=it);for(var mt=arguments.length,Ot=Array(mt>1?mt-1:0),yt=1;yt<mt;yt++)Ot[yt-1]=arguments[yt];return ot.produce(pt,function(wt){var bt;return(bt=nt).call.apply(bt,[vt,wt].concat(Ot))})}}var st;if(typeof nt!="function"&&n$1(6),rt!==void 0&&typeof rt!="function"&&n$1(7),t$2(tt)){var at=w(et),ct=N$1(et,tt,void 0),ut=!0;try{st=nt(ct),ut=!1}finally{ut?g$1(at):O$1(at)}return typeof Promise<"u"&&st instanceof Promise?st.then(function(pt){return j(at,rt),P$1(pt,at)},function(pt){throw g$1(at),pt}):(j(at,rt),P$1(st,at))}if(!tt||typeof tt!="object"){if((st=nt(tt))===void 0&&(st=tt),st===H$1&&(st=void 0),et.D&&d$1(st,!0),rt){var ft=[],dt=[];b$1("Patches").M(tt,st,ft,dt),rt(ft,dt)}return st}n$1(21,tt)},this.produceWithPatches=function(tt,nt){if(typeof tt=="function")return function(st){for(var at=arguments.length,ct=Array(at>1?at-1:0),ut=1;ut<at;ut++)ct[ut-1]=arguments[ut];return et.produceWithPatches(st,function(ft){return tt.apply(void 0,[ft].concat(ct))})};var rt,it,ot=et.produce(tt,nt,function(st,at){rt=st,it=at});return typeof Promise<"u"&&ot instanceof Promise?ot.then(function(st){return[st,rt,it]}):[ot,rt,it]},typeof(_e==null?void 0:_e.useProxies)=="boolean"&&this.setUseProxies(_e.useProxies),typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze)}var $=J.prototype;return $.createDraft=function(_e){t$2(_e)||n$1(8),r(_e)&&(_e=R$1(_e));var et=w(this),tt=N$1(this,_e,void 0);return tt[Q$1].C=!0,O$1(et),tt},$.finishDraft=function(_e,et){var tt=_e&&_e[Q$1],nt=tt.A;return j(nt,et),P$1(void 0,nt)},$.setAutoFreeze=function(_e){this.D=_e},$.setUseProxies=function(_e){_e&&!B$1&&n$1(20),this.O=_e},$.applyPatches=function(_e,et){var tt;for(tt=et.length-1;tt>=0;tt--){var nt=et[tt];if(nt.path.length===0&&nt.op==="replace"){_e=nt.value;break}}tt>-1&&(et=et.slice(tt+1));var rt=b$1("Patches").$;return r(_e)?rt(_e,et):this.produce(_e,function(it){return rt(it,et)})},J}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an),an.setAutoFreeze.bind(an),an.setUseProxies.bind(an),an.applyPatches.bind(an),an.createDraft.bind(an),an.finishDraft.bind(an);function _typeof(J){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(J)}function toPrimitive(J,$){if(_typeof(J)!="object"||!J)return J;var _e=J[Symbol.toPrimitive];if(_e!==void 0){var et=_e.call(J,$);if(_typeof(et)!="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(J)}function toPropertyKey(J){var $=toPrimitive(J,"string");return _typeof($)=="symbol"?$:$+""}function _defineProperty(J,$,_e){return($=toPropertyKey($))in J?Object.defineProperty(J,$,{value:_e,enumerable:!0,configurable:!0,writable:!0}):J[$]=_e,J}function ownKeys(J,$){var _e=Object.keys(J);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(J);$&&(et=et.filter(function(tt){return Object.getOwnPropertyDescriptor(J,tt).enumerable})),_e.push.apply(_e,et)}return _e}function _objectSpread2(J){for(var $=1;$<arguments.length;$++){var _e=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(_e),!0).forEach(function(et){_defineProperty(J,et,_e[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(et){Object.defineProperty(J,et,Object.getOwnPropertyDescriptor(_e,et))})}return J}function formatProdErrorMessage(J){return"Minified Redux error #"+J+"; visit https://redux.js.org/Errors?code="+J+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1(J){if(typeof J!="object"||J===null)return!1;for(var $=J;Object.getPrototypeOf($)!==null;)$=Object.getPrototypeOf($);return Object.getPrototypeOf(J)===$}function createStore(J,$,_e){var et;if(typeof $=="function"&&typeof _e=="function"||typeof _e=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof $=="function"&&typeof _e>"u"&&(_e=$,$=void 0),typeof _e<"u"){if(typeof _e!="function")throw new Error(formatProdErrorMessage(1));return _e(createStore)(J,$)}if(typeof J!="function")throw new Error(formatProdErrorMessage(2));var tt=J,nt=$,rt=[],it=rt,ot=!1;function st(){it===rt&&(it=rt.slice())}function at(){if(ot)throw new Error(formatProdErrorMessage(3));return nt}function ct(pt){if(typeof pt!="function")throw new Error(formatProdErrorMessage(4));if(ot)throw new Error(formatProdErrorMessage(5));var vt=!0;return st(),it.push(pt),function(){if(vt){if(ot)throw new Error(formatProdErrorMessage(6));vt=!1,st();var Ot=it.indexOf(pt);it.splice(Ot,1),rt=null}}}function ut(pt){if(!isPlainObject$1(pt))throw new Error(formatProdErrorMessage(7));if(typeof pt.type>"u")throw new Error(formatProdErrorMessage(8));if(ot)throw new Error(formatProdErrorMessage(9));try{ot=!0,nt=tt(nt,pt)}finally{ot=!1}for(var vt=rt=it,mt=0;mt<vt.length;mt++){var Ot=vt[mt];Ot()}return pt}function ft(pt){if(typeof pt!="function")throw new Error(formatProdErrorMessage(10));tt=pt,ut({type:ActionTypes.REPLACE})}function dt(){var pt,vt=ct;return pt={subscribe:function(Ot){if(typeof Ot!="object"||Ot===null)throw new Error(formatProdErrorMessage(11));function yt(){Ot.next&&Ot.next(at())}yt();var wt=vt(yt);return{unsubscribe:wt}}},pt[$$observable]=function(){return this},pt}return ut({type:ActionTypes.INIT}),et={dispatch:ut,subscribe:ct,getState:at,replaceReducer:ft},et[$$observable]=dt,et}function assertReducerShape(J){Object.keys(J).forEach(function($){var _e=J[$],et=_e(void 0,{type:ActionTypes.INIT});if(typeof et>"u")throw new Error(formatProdErrorMessage(12));if(typeof _e(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(J){for(var $=Object.keys(J),_e={},et=0;et<$.length;et++){var tt=$[et];typeof J[tt]=="function"&&(_e[tt]=J[tt])}var nt=Object.keys(_e),rt;try{assertReducerShape(_e)}catch(it){rt=it}return function(ot,st){if(ot===void 0&&(ot={}),rt)throw rt;for(var at=!1,ct={},ut=0;ut<nt.length;ut++){var ft=nt[ut],dt=_e[ft],pt=ot[ft],vt=dt(pt,st);if(typeof vt>"u")throw st&&st.type,new Error(formatProdErrorMessage(14));ct[ft]=vt,at=at||vt!==pt}return at=at||nt.length!==Object.keys(ot).length,at?ct:ot}}function compose(){for(var J=arguments.length,$=new Array(J),_e=0;_e<J;_e++)$[_e]=arguments[_e];return $.length===0?function(et){return et}:$.length===1?$[0]:$.reduce(function(et,tt){return function(){return et(tt.apply(void 0,arguments))}})}function applyMiddleware(){for(var J=arguments.length,$=new Array(J),_e=0;_e<J;_e++)$[_e]=arguments[_e];return function(et){return function(){var tt=et.apply(void 0,arguments),nt=function(){throw new Error(formatProdErrorMessage(15))},rt={getState:tt.getState,dispatch:function(){return nt.apply(void 0,arguments)}},it=$.map(function(ot){return ot(rt)});return nt=compose.apply(void 0,it)(tt.dispatch),_objectSpread2(_objectSpread2({},tt),{},{dispatch:nt})}}}var NOT_FOUND="NOT_FOUND";function createSingletonCache(J){var $;return{get:function(et){return $&&J($.key,et)?$.value:NOT_FOUND},put:function(et,tt){$={key:et,value:tt}},getEntries:function(){return $?[$]:[]},clear:function(){$=void 0}}}function createLruCache(J,$){var _e=[];function et(it){var ot=_e.findIndex(function(at){return $(it,at.key)});if(ot>-1){var st=_e[ot];return ot>0&&(_e.splice(ot,1),_e.unshift(st)),st.value}return NOT_FOUND}function tt(it,ot){et(it)===NOT_FOUND&&(_e.unshift({key:it,value:ot}),_e.length>J&&_e.pop())}function nt(){return _e}function rt(){_e=[]}return{get:et,put:tt,getEntries:nt,clear:rt}}var defaultEqualityCheck=function($,_e){return $===_e};function createCacheKeyComparator(J){return function(_e,et){if(_e===null||et===null||_e.length!==et.length)return!1;for(var tt=_e.length,nt=0;nt<tt;nt++)if(!J(_e[nt],et[nt]))return!1;return!0}}function defaultMemoize(J,$){var _e=typeof $=="object"?$:{equalityCheck:$},et=_e.equalityCheck,tt=et===void 0?defaultEqualityCheck:et,nt=_e.maxSize,rt=nt===void 0?1:nt,it=_e.resultEqualityCheck,ot=createCacheKeyComparator(tt),st=rt===1?createSingletonCache(ot):createLruCache(rt,ot);function at(){var ct=st.get(arguments);if(ct===NOT_FOUND){if(ct=J.apply(null,arguments),it){var ut=st.getEntries(),ft=ut.find(function(dt){return it(dt.value,ct)});ft&&(ct=ft.value)}st.put(arguments,ct)}return ct}return at.clearCache=function(){return st.clear()},at}function getDependencies(J){var $=Array.isArray(J[0])?J[0]:J;if(!$.every(function(et){return typeof et=="function"})){var _e=$.map(function(et){return typeof et=="function"?"function "+(et.name||"unnamed")+"()":typeof et}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+_e+"]")}return $}function createSelectorCreator(J){for(var $=arguments.length,_e=new Array($>1?$-1:0),et=1;et<$;et++)_e[et-1]=arguments[et];var tt=function(){for(var rt=arguments.length,it=new Array(rt),ot=0;ot<rt;ot++)it[ot]=arguments[ot];var st=0,at,ct={memoizeOptions:void 0},ut=it.pop();if(typeof ut=="object"&&(ct=ut,ut=it.pop()),typeof ut!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ut+"]");var ft=ct,dt=ft.memoizeOptions,pt=dt===void 0?_e:dt,vt=Array.isArray(pt)?pt:[pt],mt=getDependencies(it),Ot=J.apply(void 0,[function(){return st++,ut.apply(null,arguments)}].concat(vt)),yt=J(function(){for(var bt=[],Ct=mt.length,kt=0;kt<Ct;kt++)bt.push(mt[kt].apply(null,arguments));return at=Ot.apply(null,bt),at});return Object.assign(yt,{resultFunc:ut,memoizedResultFunc:Ot,dependencies:mt,lastResult:function(){return at},recomputations:function(){return st},resetRecomputations:function(){return st=0}}),yt};return tt}var createSelector=createSelectorCreator(defaultMemoize);function createThunkMiddleware(J){var $=function(et){var tt=et.dispatch,nt=et.getState;return function(rt){return function(it){return typeof it=="function"?it(tt,nt,J):rt(it)}}};return $}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var __extends=function(){var J=function($,_e){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])},J($,_e)};return function($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");J($,_e);function et(){this.constructor=$}$.prototype=_e===null?Object.create(_e):(et.prototype=_e.prototype,new et)}}(),__generator=function(J,$){var _e={label:0,sent:function(){if(nt[0]&1)throw nt[1];return nt[1]},trys:[],ops:[]},et,tt,nt,rt;return rt={next:it(0),throw:it(1),return:it(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function it(st){return function(at){return ot([st,at])}}function ot(st){if(et)throw new TypeError("Generator is already executing.");for(;_e;)try{if(et=1,tt&&(nt=st[0]&2?tt.return:st[0]?tt.throw||((nt=tt.return)&&nt.call(tt),0):tt.next)&&!(nt=nt.call(tt,st[1])).done)return nt;switch(tt=0,nt&&(st=[st[0]&2,nt.value]),st[0]){case 0:case 1:nt=st;break;case 4:return _e.label++,{value:st[1],done:!1};case 5:_e.label++,tt=st[1],st=[0];continue;case 7:st=_e.ops.pop(),_e.trys.pop();continue;default:if(nt=_e.trys,!(nt=nt.length>0&&nt[nt.length-1])&&(st[0]===6||st[0]===2)){_e=0;continue}if(st[0]===3&&(!nt||st[1]>nt[0]&&st[1]<nt[3])){_e.label=st[1];break}if(st[0]===6&&_e.label<nt[1]){_e.label=nt[1],nt=st;break}if(nt&&_e.label<nt[2]){_e.label=nt[2],_e.ops.push(st);break}nt[2]&&_e.ops.pop(),_e.trys.pop();continue}st=$.call(J,_e)}catch(at){st=[6,at],tt=0}finally{et=nt=0}if(st[0]&5)throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}},__spreadArray=function(J,$){for(var _e=0,et=$.length,tt=J.length;_e<et;_e++,tt++)J[tt]=$[_e];return J},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(J,$,_e){return $ in J?__defProp(J,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):J[$]=_e},__spreadValues=function(J,$){for(var _e in $||($={}))__hasOwnProp.call($,_e)&&__defNormalProp(J,_e,$[_e]);if(__getOwnPropSymbols)for(var et=0,tt=__getOwnPropSymbols($);et<tt.length;et++){var _e=tt[et];__propIsEnum.call($,_e)&&__defNormalProp(J,_e,$[_e])}return J},__spreadProps=function(J,$){return __defProps(J,__getOwnPropDescs($))},__async=function(J,$,_e){return new Promise(function(et,tt){var nt=function(ot){try{it(_e.next(ot))}catch(st){tt(st)}},rt=function(ot){try{it(_e.throw(ot))}catch(st){tt(st)}},it=function(ot){return ot.done?et(ot.value):Promise.resolve(ot.value).then(nt,rt)};it((_e=_e.apply(J,$)).next())})},createDraftSafeSelector=function(){for(var J=[],$=0;$<arguments.length;$++)J[$]=arguments[$];var _e=createSelector.apply(void 0,J),et=function(tt){for(var nt=[],rt=1;rt<arguments.length;rt++)nt[rt-1]=arguments[rt];return _e.apply(void 0,__spreadArray([r(tt)?R$1(tt):tt],nt))};return et},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject(J){if(typeof J!="object"||J===null)return!1;var $=Object.getPrototypeOf(J);if($===null)return!0;for(var _e=$;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return $===_e}var MiddlewareArray=function(J){__extends($,J);function $(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];var tt=J.apply(this,_e)||this;return Object.setPrototypeOf(tt,$.prototype),tt}return Object.defineProperty($,Symbol.species,{get:function(){return $},enumerable:!1,configurable:!0}),$.prototype.concat=function(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];return J.prototype.concat.apply(this,_e)},$.prototype.prepend=function(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];return _e.length===1&&Array.isArray(_e[0])?new($.bind.apply($,__spreadArray([void 0],_e[0].concat(this)))):new($.bind.apply($,__spreadArray([void 0],_e.concat(this))))},$}(Array);function freezeDraftable(J){return t$2(J)?fn(J,function(){}):J}function isBoolean(J){return typeof J=="boolean"}function curryGetDefaultMiddleware(){return function($){return getDefaultMiddleware($)}}function getDefaultMiddleware(J){J===void 0&&(J={});var $=J.thunk,_e=$===void 0?!0:$;J.immutableCheck,J.serializableCheck;var et=new MiddlewareArray;return _e&&(isBoolean(_e)?et.push(thunk):et.push(thunk.withExtraArgument(_e.extraArgument))),et}function configureStore(J){var $=curryGetDefaultMiddleware(),_e=J||{},et=_e.reducer,tt=et===void 0?void 0:et,nt=_e.middleware,rt=nt===void 0?$():nt,it=_e.devTools,ot=it===void 0?!0:it,st=_e.preloadedState,at=st===void 0?void 0:st,ct=_e.enhancers,ut=ct===void 0?void 0:ct,ft;if(typeof tt=="function")ft=tt;else if(isPlainObject(tt))ft=combineReducers(tt);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var dt=rt;typeof dt=="function"&&(dt=dt($));var pt=applyMiddleware.apply(void 0,dt),vt=compose;ot&&(vt=composeWithDevTools(__spreadValues({trace:!1},typeof ot=="object"&&ot)));var mt=[pt];Array.isArray(ut)?mt=__spreadArray([pt],ut):typeof ut=="function"&&(mt=ut(mt));var Ot=vt.apply(void 0,mt);return createStore(ft,at,Ot)}function createAction(J,$){function _e(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];if($){var nt=$.apply(void 0,et);if(!nt)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:J,payload:nt.payload},"meta"in nt&&{meta:nt.meta}),"error"in nt&&{error:nt.error})}return{type:J,payload:et[0]}}return _e.toString=function(){return""+J},_e.type=J,_e.match=function(et){return et.type===J},_e}function isFSA(J){return isPlainObject(J)&&typeof J.type=="string"&&Object.keys(J).every(isValidKey)}function isValidKey(J){return["type","payload","error","meta"].indexOf(J)>-1}function executeReducerBuilderCallback(J){var $={},_e=[],et,tt={addCase:function(nt,rt){var it=typeof nt=="string"?nt:nt.type;if(it in $)throw new Error("addCase cannot be called with two reducers for the same action type");return $[it]=rt,tt},addMatcher:function(nt,rt){return _e.push({matcher:nt,reducer:rt}),tt},addDefaultCase:function(nt){return et=nt,tt}};return J(tt),[$,_e,et]}function isStateFunction(J){return typeof J=="function"}function createReducer(J,$,_e,et){_e===void 0&&(_e=[]);var tt=typeof $=="function"?executeReducerBuilderCallback($):[$,_e,et],nt=tt[0],rt=tt[1],it=tt[2],ot;if(isStateFunction(J))ot=function(){return freezeDraftable(J())};else{var st=freezeDraftable(J);ot=function(){return st}}function at(ct,ut){ct===void 0&&(ct=ot());var ft=__spreadArray([nt[ut.type]],rt.filter(function(dt){var pt=dt.matcher;return pt(ut)}).map(function(dt){var pt=dt.reducer;return pt}));return ft.filter(function(dt){return!!dt}).length===0&&(ft=[it]),ft.reduce(function(dt,pt){if(pt)if(r(dt)){var vt=dt,mt=pt(vt,ut);return mt===void 0?dt:mt}else{if(t$2(dt))return fn(dt,function(Ot){return pt(Ot,ut)});var mt=pt(dt,ut);if(mt===void 0){if(dt===null)return dt;throw Error("A case reducer on a non-draftable value must not return undefined")}return mt}return dt},ct)}return at.getInitialState=ot,at}function getType2(J,$){return J+"/"+$}function createSlice(J){var $=J.name,_e=typeof J.initialState=="function"?J.initialState:freezeDraftable(J.initialState),et=J.reducers||{},tt=Object.keys(et),nt={},rt={},it={};tt.forEach(function(at){var ct=et[at],ut=getType2($,at),ft,dt;"reducer"in ct?(ft=ct.reducer,dt=ct.prepare):ft=ct,nt[at]=ft,rt[ut]=ft,it[at]=dt?createAction(ut,dt):createAction(ut)});function ot(){var at=typeof J.extraReducers=="function"?executeReducerBuilderCallback(J.extraReducers):[J.extraReducers],ct=at[0],ut=ct===void 0?{}:ct,ft=at[1],dt=ft===void 0?[]:ft,pt=at[2],vt=pt===void 0?void 0:pt,mt=__spreadValues(__spreadValues({},ut),rt);return createReducer(_e,function(Ot){for(var yt in mt)Ot.addCase(yt,mt[yt]);for(var wt=0,bt=dt;wt<bt.length;wt++){var Ct=bt[wt];Ot.addMatcher(Ct.matcher,Ct.reducer)}vt&&Ot.addDefaultCase(vt)})}var st;return{name:$,reducer:function(at,ct){return st||(st=ot()),st(at,ct)},actions:it,caseReducers:nt,getInitialState:function(){return st||(st=ot()),st.getInitialState()}}}function getInitialEntityState(){return{ids:[],entities:{}}}function createInitialStateFactory(){function J($){return $===void 0&&($={}),Object.assign(getInitialEntityState(),$)}return{getInitialState:J}}function createSelectorsFactory(){function J($){var _e=function(st){return st.ids},et=function(st){return st.entities},tt=createDraftSafeSelector(_e,et,function(st,at){return st.map(function(ct){return at[ct]})}),nt=function(st,at){return at},rt=function(st,at){return st[at]},it=createDraftSafeSelector(_e,function(st){return st.length});if(!$)return{selectIds:_e,selectEntities:et,selectAll:tt,selectTotal:it,selectById:createDraftSafeSelector(et,nt,rt)};var ot=createDraftSafeSelector($,et);return{selectIds:createDraftSafeSelector($,_e),selectEntities:ot,selectAll:createDraftSafeSelector($,tt),selectTotal:createDraftSafeSelector($,it),selectById:createDraftSafeSelector(ot,nt,rt)}}return{getSelectors:J}}function createSingleArgumentStateOperator(J){var $=createStateOperator(function(_e,et){return J(et)});return function(et){return $(et,void 0)}}function createStateOperator(J){return function(_e,et){function tt(rt){return isFSA(rt)}var nt=function(rt){tt(et)?J(et.payload,rt):J(et,rt)};return r(_e)?(nt(_e),_e):fn(_e,nt)}}function selectIdValue(J,$){var _e=$(J);return _e}function ensureEntitiesArray(J){return Array.isArray(J)||(J=Object.values(J)),J}function splitAddedUpdatedEntities(J,$,_e){J=ensureEntitiesArray(J);for(var et=[],tt=[],nt=0,rt=J;nt<rt.length;nt++){var it=rt[nt],ot=selectIdValue(it,$);ot in _e.entities?tt.push({id:ot,changes:it}):et.push(it)}return[et,tt]}function createUnsortedStateAdapter(J){function $(dt,pt){var vt=selectIdValue(dt,J);vt in pt.entities||(pt.ids.push(vt),pt.entities[vt]=dt)}function _e(dt,pt){dt=ensureEntitiesArray(dt);for(var vt=0,mt=dt;vt<mt.length;vt++){var Ot=mt[vt];$(Ot,pt)}}function et(dt,pt){var vt=selectIdValue(dt,J);vt in pt.entities||pt.ids.push(vt),pt.entities[vt]=dt}function tt(dt,pt){dt=ensureEntitiesArray(dt);for(var vt=0,mt=dt;vt<mt.length;vt++){var Ot=mt[vt];et(Ot,pt)}}function nt(dt,pt){dt=ensureEntitiesArray(dt),pt.ids=[],pt.entities={},_e(dt,pt)}function rt(dt,pt){return it([dt],pt)}function it(dt,pt){var vt=!1;dt.forEach(function(mt){mt in pt.entities&&(delete pt.entities[mt],vt=!0)}),vt&&(pt.ids=pt.ids.filter(function(mt){return mt in pt.entities}))}function ot(dt){Object.assign(dt,{ids:[],entities:{}})}function st(dt,pt,vt){var mt=vt.entities[pt.id],Ot=Object.assign({},mt,pt.changes),yt=selectIdValue(Ot,J),wt=yt!==pt.id;return wt&&(dt[pt.id]=yt,delete vt.entities[pt.id]),vt.entities[yt]=Ot,wt}function at(dt,pt){return ct([dt],pt)}function ct(dt,pt){var vt={},mt={};dt.forEach(function(wt){wt.id in pt.entities&&(mt[wt.id]={id:wt.id,changes:__spreadValues(__spreadValues({},mt[wt.id]?mt[wt.id].changes:null),wt.changes)})}),dt=Object.values(mt);var Ot=dt.length>0;if(Ot){var yt=dt.filter(function(wt){return st(vt,wt,pt)}).length>0;yt&&(pt.ids=Object.keys(pt.entities))}}function ut(dt,pt){return ft([dt],pt)}function ft(dt,pt){var vt=splitAddedUpdatedEntities(dt,J,pt),mt=vt[0],Ot=vt[1];ct(Ot,pt),_e(mt,pt)}return{removeAll:createSingleArgumentStateOperator(ot),addOne:createStateOperator($),addMany:createStateOperator(_e),setOne:createStateOperator(et),setMany:createStateOperator(tt),setAll:createStateOperator(nt),updateOne:createStateOperator(at),updateMany:createStateOperator(ct),upsertOne:createStateOperator(ut),upsertMany:createStateOperator(ft),removeOne:createStateOperator(rt),removeMany:createStateOperator(it)}}function createSortedStateAdapter(J,$){var _e=createUnsortedStateAdapter(J),et=_e.removeOne,tt=_e.removeMany,nt=_e.removeAll;function rt(Ot,yt){return it([Ot],yt)}function it(Ot,yt){Ot=ensureEntitiesArray(Ot);var wt=Ot.filter(function(bt){return!(selectIdValue(bt,J)in yt.entities)});wt.length!==0&&vt(wt,yt)}function ot(Ot,yt){return st([Ot],yt)}function st(Ot,yt){Ot=ensureEntitiesArray(Ot),Ot.length!==0&&vt(Ot,yt)}function at(Ot,yt){Ot=ensureEntitiesArray(Ot),yt.entities={},yt.ids=[],it(Ot,yt)}function ct(Ot,yt){return ut([Ot],yt)}function ut(Ot,yt){for(var wt=!1,bt=0,Ct=Ot;bt<Ct.length;bt++){var kt=Ct[bt],Et=yt.entities[kt.id];if(Et){wt=!0,Object.assign(Et,kt.changes);var _t=J(Et);kt.id!==_t&&(delete yt.entities[kt.id],yt.entities[_t]=Et)}}wt&&mt(yt)}function ft(Ot,yt){return dt([Ot],yt)}function dt(Ot,yt){var wt=splitAddedUpdatedEntities(Ot,J,yt),bt=wt[0],Ct=wt[1];ut(Ct,yt),it(bt,yt)}function pt(Ot,yt){if(Ot.length!==yt.length)return!1;for(var wt=0;wt<Ot.length&&wt<yt.length;wt++)if(Ot[wt]!==yt[wt])return!1;return!0}function vt(Ot,yt){Ot.forEach(function(wt){yt.entities[J(wt)]=wt}),mt(yt)}function mt(Ot){var yt=Object.values(Ot.entities);yt.sort($);var wt=yt.map(J),bt=Ot.ids;pt(bt,wt)||(Ot.ids=wt)}return{removeOne:et,removeMany:tt,removeAll:nt,addOne:createStateOperator(rt),updateOne:createStateOperator(ct),upsertOne:createStateOperator(ft),setOne:createStateOperator(ot),setMany:createStateOperator(st),setAll:createStateOperator(at),addMany:createStateOperator(it),updateMany:createStateOperator(ut),upsertMany:createStateOperator(dt)}}function createEntityAdapter(J){J===void 0&&(J={});var $=__spreadValues({sortComparer:!1,selectId:function(it){return it.id}},J),_e=$.selectId,et=$.sortComparer,tt=createInitialStateFactory(),nt=createSelectorsFactory(),rt=et?createSortedStateAdapter(_e,et):createUnsortedStateAdapter(_e);return __spreadValues(__spreadValues(__spreadValues({selectId:_e,sortComparer:et},tt),nt),rt)}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(J){J===void 0&&(J=21);for(var $="",_e=J;_e--;)$+=urlAlphabet[Math.random()*64|0];return $},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function J($,_e){this.payload=$,this.meta=_e}return J}(),FulfillWithMeta=function(){function J($,_e){this.payload=$,this.meta=_e}return J}(),miniSerializeError=function(J){if(typeof J=="object"&&J!==null){for(var $={},_e=0,et=commonProperties;_e<et.length;_e++){var tt=et[_e];typeof J[tt]=="string"&&($[tt]=J[tt])}return $}return{message:String(J)}},createAsyncThunk=function(){function J($,_e,et){var tt=createAction($+"/fulfilled",function(st,at,ct,ut){return{payload:st,meta:__spreadProps(__spreadValues({},ut||{}),{arg:ct,requestId:at,requestStatus:"fulfilled"})}}),nt=createAction($+"/pending",function(st,at,ct){return{payload:void 0,meta:__spreadProps(__spreadValues({},ct||{}),{arg:at,requestId:st,requestStatus:"pending"})}}),rt=createAction($+"/rejected",function(st,at,ct,ut,ft){return{payload:ut,error:(et&&et.serializeError||miniSerializeError)(st||"Rejected"),meta:__spreadProps(__spreadValues({},ft||{}),{arg:ct,requestId:at,rejectedWithValue:!!ut,requestStatus:"rejected",aborted:(st==null?void 0:st.name)==="AbortError",condition:(st==null?void 0:st.name)==="ConditionError"})}}),it=typeof AbortController<"u"?AbortController:function(){function st(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return st.prototype.abort=function(){},st}();function ot(st){return function(at,ct,ut){var ft=et!=null&&et.idGenerator?et.idGenerator(st):nanoid(),dt=new it,pt;function vt(Ot){pt=Ot,dt.abort()}var mt=function(){return __async(this,null,function(){var Ot,yt,wt,bt,Ct,kt,Et;return __generator(this,function(_t){switch(_t.label){case 0:return _t.trys.push([0,4,,5]),bt=(Ot=et==null?void 0:et.condition)==null?void 0:Ot.call(et,st,{getState:ct,extra:ut}),isThenable(bt)?[4,bt]:[3,2];case 1:bt=_t.sent(),_t.label=2;case 2:if(bt===!1||dt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Ct=new Promise(function(At,Dt){return dt.signal.addEventListener("abort",function(){return Dt({name:"AbortError",message:pt||"Aborted"})})}),at(nt(ft,st,(yt=et==null?void 0:et.getPendingMeta)==null?void 0:yt.call(et,{requestId:ft,arg:st},{getState:ct,extra:ut}))),[4,Promise.race([Ct,Promise.resolve(_e(st,{dispatch:at,getState:ct,extra:ut,requestId:ft,signal:dt.signal,abort:vt,rejectWithValue:function(At,Dt){return new RejectWithValue(At,Dt)},fulfillWithValue:function(At,Dt){return new FulfillWithMeta(At,Dt)}})).then(function(At){if(At instanceof RejectWithValue)throw At;return At instanceof FulfillWithMeta?tt(At.payload,ft,st,At.meta):tt(At,ft,st)})])];case 3:return wt=_t.sent(),[3,5];case 4:return kt=_t.sent(),wt=kt instanceof RejectWithValue?rt(null,ft,st,kt.payload,kt.meta):rt(kt,ft,st),[3,5];case 5:return Et=et&&!et.dispatchConditionRejection&&rt.match(wt)&&wt.meta.condition,Et||at(wt),[2,wt]}})})}();return Object.assign(mt,{abort:vt,requestId:ft,arg:st,unwrap:function(){return mt.then(unwrapResult)}})}}return Object.assign(ot,{pending:nt,rejected:rt,fulfilled:tt,typePrefix:$})}return J.withTypes=function(){return J},J}();function unwrapResult(J){if(J.meta&&J.meta.rejectedWithValue)throw J.payload;if(J.error)throw J.error;return J.payload}function isThenable(J){return J!==null&&typeof J=="object"&&typeof J.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add"),createAction(alm+"/removeAll"),createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),F();var shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=React__default;function is$2(J,$){return J===$&&(J!==0||1/J===1/$)||J!==J&&$!==$}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(J,$){var _e=$(),et=useState({inst:{value:_e,getSnapshot:$}}),tt=et[0].inst,nt=et[1];return useLayoutEffect(function(){tt.value=_e,tt.getSnapshot=$,checkIfSnapshotChanged(tt)&&nt({inst:tt})},[J,_e,$]),useEffect$1(function(){return checkIfSnapshotChanged(tt)&&nt({inst:tt}),J(function(){checkIfSnapshotChanged(tt)&&nt({inst:tt})})},[J]),useDebugValue$1(_e),_e}function checkIfSnapshotChanged(J){var $=J.getSnapshot;J=J.value;try{var _e=$();return!objectIs$1(J,_e)}catch{return!0}}function useSyncExternalStore$1(J,$){return $()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1,shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports,withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=React__default,shim=shimExports;function is$1(J,$){return J===$&&(J!==0||1/J===1/$)||J!==J&&$!==$}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(J,$,_e,et,tt){var nt=useRef(null);if(nt.current===null){var rt={hasValue:!1,value:null};nt.current=rt}else rt=nt.current;nt=useMemo(function(){function ot(ft){if(!st){if(st=!0,at=ft,ft=et(ft),tt!==void 0&&rt.hasValue){var dt=rt.value;if(tt(dt,ft))return ct=dt}return ct=ft}if(dt=ct,objectIs(at,ft))return dt;var pt=et(ft);return tt!==void 0&&tt(dt,pt)?(at=ft,dt):(at=ft,ct=pt)}var st=!1,at,ct,ut=_e===void 0?null:_e;return[function(){return ot($())},ut===null?void 0:function(){return ot(ut())}]},[$,_e,et,tt]);var it=useSyncExternalStore(J,nt[0],nt[1]);return useEffect(function(){rt.hasValue=!0,rt.value=it},[it]),useDebugValue(it),it},withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(J){function $(Tt,Rt){var Lt=Tt.length;Tt.push(Rt);e:for(;0<Lt;){var Nt=Lt-1>>>1,Bt=Tt[Nt];if(0<tt(Bt,Rt))Tt[Nt]=Rt,Tt[Lt]=Bt,Lt=Nt;else break e}}function _e(Tt){return Tt.length===0?null:Tt[0]}function et(Tt){if(Tt.length===0)return null;var Rt=Tt[0],Lt=Tt.pop();if(Lt!==Rt){Tt[0]=Lt;e:for(var Nt=0,Bt=Tt.length,zt=Bt>>>1;Nt<zt;){var qt=2*(Nt+1)-1,Kt=Tt[qt],Gt=qt+1,Jt=Tt[Gt];if(0>tt(Kt,Lt))Gt<Bt&&0>tt(Jt,Kt)?(Tt[Nt]=Jt,Tt[Gt]=Lt,Nt=Gt):(Tt[Nt]=Kt,Tt[qt]=Lt,Nt=qt);else if(Gt<Bt&&0>tt(Jt,Lt))Tt[Nt]=Jt,Tt[Gt]=Lt,Nt=Gt;else break e}}return Rt}function tt(Tt,Rt){var Lt=Tt.sortIndex-Rt.sortIndex;return Lt!==0?Lt:Tt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;J.unstable_now=function(){return nt.now()}}else{var rt=Date,it=rt.now();J.unstable_now=function(){return rt.now()-it}}var ot=[],st=[],at=1,ct=null,ut=3,ft=!1,dt=!1,pt=!1,vt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,Ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Tt){for(var Rt=_e(st);Rt!==null;){if(Rt.callback===null)et(st);else if(Rt.startTime<=Tt)et(st),Rt.sortIndex=Rt.expirationTime,$(ot,Rt);else break;Rt=_e(st)}}function wt(Tt){if(pt=!1,yt(Tt),!dt)if(_e(ot)!==null)dt=!0,Vt(bt);else{var Rt=_e(st);Rt!==null&&$t(wt,Rt.startTime-Tt)}}function bt(Tt,Rt){dt=!1,pt&&(pt=!1,mt(Et),Et=-1),ft=!0;var Lt=ut;try{for(yt(Rt),ct=_e(ot);ct!==null&&(!(ct.expirationTime>Rt)||Tt&&!Dt());){var Nt=ct.callback;if(typeof Nt=="function"){ct.callback=null,ut=ct.priorityLevel;var Bt=Nt(ct.expirationTime<=Rt);Rt=J.unstable_now(),typeof Bt=="function"?ct.callback=Bt:ct===_e(ot)&&et(ot),yt(Rt)}else et(ot);ct=_e(ot)}if(ct!==null)var zt=!0;else{var qt=_e(st);qt!==null&&$t(wt,qt.startTime-Rt),zt=!1}return zt}finally{ct=null,ut=Lt,ft=!1}}var Ct=!1,kt=null,Et=-1,_t=5,At=-1;function Dt(){return!(J.unstable_now()-At<_t)}function jt(){if(kt!==null){var Tt=J.unstable_now();At=Tt;var Rt=!0;try{Rt=kt(!0,Tt)}finally{Rt?Wt():(Ct=!1,kt=null)}}else Ct=!1}var Wt;if(typeof Ot=="function")Wt=function(){Ot(jt)};else if(typeof MessageChannel<"u"){var Zt=new MessageChannel,It=Zt.port2;Zt.port1.onmessage=jt,Wt=function(){It.postMessage(null)}}else Wt=function(){vt(jt,0)};function Vt(Tt){kt=Tt,Ct||(Ct=!0,Wt())}function $t(Tt,Rt){Et=vt(function(){Tt(J.unstable_now())},Rt)}J.unstable_IdlePriority=5,J.unstable_ImmediatePriority=1,J.unstable_LowPriority=4,J.unstable_NormalPriority=3,J.unstable_Profiling=null,J.unstable_UserBlockingPriority=2,J.unstable_cancelCallback=function(Tt){Tt.callback=null},J.unstable_continueExecution=function(){dt||ft||(dt=!0,Vt(bt))},J.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<Tt?Math.floor(1e3/Tt):5},J.unstable_getCurrentPriorityLevel=function(){return ut},J.unstable_getFirstCallbackNode=function(){return _e(ot)},J.unstable_next=function(Tt){switch(ut){case 1:case 2:case 3:var Rt=3;break;default:Rt=ut}var Lt=ut;ut=Rt;try{return Tt()}finally{ut=Lt}},J.unstable_pauseExecution=function(){},J.unstable_requestPaint=function(){},J.unstable_runWithPriority=function(Tt,Rt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Lt=ut;ut=Tt;try{return Rt()}finally{ut=Lt}},J.unstable_scheduleCallback=function(Tt,Rt,Lt){var Nt=J.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Nt+Lt:Nt):Lt=Nt,Tt){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=Lt+Bt,Tt={id:at++,callback:Rt,priorityLevel:Tt,startTime:Lt,expirationTime:Bt,sortIndex:-1},Lt>Nt?(Tt.sortIndex=Lt,$(st,Tt),_e(ot)===null&&Tt===_e(st)&&(pt?(mt(Et),Et=-1):pt=!0,$t(wt,Lt-Nt))):(Tt.sortIndex=Bt,$(ot,Tt),dt||ft||(dt=!0,Vt(bt))),Tt},J.unstable_shouldYield=Dt,J.unstable_wrapCallback=function(Tt){var Rt=ut;return function(){var Lt=ut;ut=Rt;try{return Tt.apply(this,arguments)}finally{ut=Lt}}}})(scheduler_production_min),scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=React__default,ca=schedulerExports;function p$1(J){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+J,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+J+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(J,$){ha(J,$),ha(J+"Capture",$)}function ha(J,$){for(ea[J]=$,J=0;J<$.length;J++)da.add($[J])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(J){return ja.call(ma,J)?!0:ja.call(la,J)?!1:ka.test(J)?ma[J]=!0:(la[J]=!0,!1)}function pa(J,$,_e,et){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return et?!1:_e!==null?!_e.acceptsBooleans:(J=J.toLowerCase().slice(0,5),J!=="data-"&&J!=="aria-");default:return!1}}function qa(J,$,_e,et){if($===null||typeof $>"u"||pa(J,$,_e,et))return!0;if(et)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(J,$,_e,et,tt,nt,rt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=et,this.attributeNamespace=tt,this.mustUseProperty=_e,this.propertyName=J,this.type=$,this.sanitizeURL=nt,this.removeEmptyString=rt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(J){z$1[J]=new v$1(J,0,!1,J,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(J){var $=J[0];z$1[$]=new v$1($,1,!1,J[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(J){z$1[J]=new v$1(J,2,!1,J.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(J){z$1[J]=new v$1(J,2,!1,J,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(J){z$1[J]=new v$1(J,3,!1,J.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(J){z$1[J]=new v$1(J,3,!0,J,null,!1,!1)}),["capture","download"].forEach(function(J){z$1[J]=new v$1(J,4,!1,J,null,!1,!1)}),["cols","rows","size","span"].forEach(function(J){z$1[J]=new v$1(J,6,!1,J,null,!1,!1)}),["rowSpan","start"].forEach(function(J){z$1[J]=new v$1(J,5,!1,J.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(J){return J[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(J){var $=J.replace(ra,sa);z$1[$]=new v$1($,1,!1,J,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(J){var $=J.replace(ra,sa);z$1[$]=new v$1($,1,!1,J,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(J){var $=J.replace(ra,sa);z$1[$]=new v$1($,1,!1,J,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(J){z$1[J]=new v$1(J,1,!1,J.toLowerCase(),null,!1,!1)}),z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(J){z$1[J]=new v$1(J,1,!1,J.toLowerCase(),null,!0,!0)});function ta(J,$,_e,et){var tt=z$1.hasOwnProperty($)?z$1[$]:null;(tt!==null?tt.type!==0:et||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,tt,et)&&(_e=null),et||tt===null?oa($)&&(_e===null?J.removeAttribute($):J.setAttribute($,""+_e)):tt.mustUseProperty?J[tt.propertyName]=_e===null?tt.type===3?!1:"":_e:($=tt.attributeName,et=tt.attributeNamespace,_e===null?J.removeAttribute($):(tt=tt.type,_e=tt===3||tt===4&&_e===!0?"":""+_e,et?J.setAttributeNS(et,$,_e):J.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(J){return J===null||typeof J!="object"?null:(J=Ja&&J[Ja]||J["@@iterator"],typeof J=="function"?J:null)}var A=Object.assign,La;function Ma(J){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+J}var Na=!1;function Oa(J,$){if(!J||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(st){var et=st}Reflect.construct(J,[],$)}else{try{$.call()}catch(st){et=st}J.call($.prototype)}else{try{throw Error()}catch(st){et=st}J()}}catch(st){if(st&&et&&typeof st.stack=="string"){for(var tt=st.stack.split(`
`),nt=et.stack.split(`
`),rt=tt.length-1,it=nt.length-1;1<=rt&&0<=it&&tt[rt]!==nt[it];)it--;for(;1<=rt&&0<=it;rt--,it--)if(tt[rt]!==nt[it]){if(rt!==1||it!==1)do if(rt--,it--,0>it||tt[rt]!==nt[it]){var ot=`
`+tt[rt].replace(" at new "," at ");return J.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",J.displayName)),ot}while(1<=rt&&0<=it);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(J=J?J.displayName||J.name:"")?Ma(J):""}function Pa(J){switch(J.tag){case 5:return Ma(J.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return J=Oa(J.type,!1),J;case 11:return J=Oa(J.type.render,!1),J;case 1:return J=Oa(J.type,!0),J;default:return""}}function Qa(J){if(J==null)return null;if(typeof J=="function")return J.displayName||J.name||null;if(typeof J=="string")return J;switch(J){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof J=="object")switch(J.$$typeof){case Ca:return(J.displayName||"Context")+".Consumer";case Ba:return(J._context.displayName||"Context")+".Provider";case Da:var $=J.render;return J=J.displayName,J||(J=$.displayName||$.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case Ga:return $=J.displayName||null,$!==null?$:Qa(J.type)||"Memo";case Ha:$=J._payload,J=J._init;try{return Qa(J($))}catch{}}return null}function Ra(J){var $=J.type;switch(J.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return J=$.render,J=J.displayName||J.name||"",$.displayName||(J!==""?"ForwardRef("+J+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(J){switch(typeof J){case"boolean":case"number":case"string":case"undefined":return J;case"object":return J;default:return""}}function Ta(J){var $=J.type;return(J=J.nodeName)&&J.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(J){var $=Ta(J)?"checked":"value",_e=Object.getOwnPropertyDescriptor(J.constructor.prototype,$),et=""+J[$];if(!J.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var tt=_e.get,nt=_e.set;return Object.defineProperty(J,$,{configurable:!0,get:function(){return tt.call(this)},set:function(rt){et=""+rt,nt.call(this,rt)}}),Object.defineProperty(J,$,{enumerable:_e.enumerable}),{getValue:function(){return et},setValue:function(rt){et=""+rt},stopTracking:function(){J._valueTracker=null,delete J[$]}}}}function Va(J){J._valueTracker||(J._valueTracker=Ua(J))}function Wa(J){if(!J)return!1;var $=J._valueTracker;if(!$)return!0;var _e=$.getValue(),et="";return J&&(et=Ta(J)?J.checked?"true":"false":J.value),J=et,J!==_e?($.setValue(J),!0):!1}function Xa(J){if(J=J||(typeof document<"u"?document:void 0),typeof J>"u")return null;try{return J.activeElement||J.body}catch{return J.body}}function Ya(J,$){var _e=$.checked;return A({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??J._wrapperState.initialChecked})}function Za(J,$){var _e=$.defaultValue==null?"":$.defaultValue,et=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),J._wrapperState={initialChecked:et,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(J,$){$=$.checked,$!=null&&ta(J,"checked",$,!1)}function bb(J,$){ab(J,$);var _e=Sa($.value),et=$.type;if(_e!=null)et==="number"?(_e===0&&J.value===""||J.value!=_e)&&(J.value=""+_e):J.value!==""+_e&&(J.value=""+_e);else if(et==="submit"||et==="reset"){J.removeAttribute("value");return}$.hasOwnProperty("value")?cb(J,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(J,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(J.defaultChecked=!!$.defaultChecked)}function db(J,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var et=$.type;if(!(et!=="submit"&&et!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+J._wrapperState.initialValue,_e||$===J.value||(J.value=$),J.defaultValue=$}_e=J.name,_e!==""&&(J.name=""),J.defaultChecked=!!J._wrapperState.initialChecked,_e!==""&&(J.name=_e)}function cb(J,$,_e){($!=="number"||Xa(J.ownerDocument)!==J)&&(_e==null?J.defaultValue=""+J._wrapperState.initialValue:J.defaultValue!==""+_e&&(J.defaultValue=""+_e))}var eb=Array.isArray;function fb(J,$,_e,et){if(J=J.options,$){$={};for(var tt=0;tt<_e.length;tt++)$["$"+_e[tt]]=!0;for(_e=0;_e<J.length;_e++)tt=$.hasOwnProperty("$"+J[_e].value),J[_e].selected!==tt&&(J[_e].selected=tt),tt&&et&&(J[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,tt=0;tt<J.length;tt++){if(J[tt].value===_e){J[tt].selected=!0,et&&(J[tt].defaultSelected=!0);return}$!==null||J[tt].disabled||($=J[tt])}$!==null&&($.selected=!0)}}function gb(J,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},$,{value:void 0,defaultValue:void 0,children:""+J._wrapperState.initialValue})}function hb(J,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$1(92));if(eb(_e)){if(1<_e.length)throw Error(p$1(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}J._wrapperState={initialValue:Sa(_e)}}function ib(J,$){var _e=Sa($.value),et=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==J.value&&(J.value=_e),$.defaultValue==null&&J.defaultValue!==_e&&(J.defaultValue=_e)),et!=null&&(J.defaultValue=""+et)}function jb(J){var $=J.textContent;$===J._wrapperState.initialValue&&$!==""&&$!==null&&(J.value=$)}function kb(J){switch(J){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(J,$){return J==null||J==="http://www.w3.org/1999/xhtml"?kb($):J==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":J}var mb,nb=function(J){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,et,tt){MSApp.execUnsafeLocalFunction(function(){return J($,_e,et,tt)})}:J}(function(J,$){if(J.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in J)J.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;J.firstChild;)J.removeChild(J.firstChild);for(;$.firstChild;)J.appendChild($.firstChild)}});function ob(J,$){if($){var _e=J.firstChild;if(_e&&_e===J.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}J.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(J){qb.forEach(function($){$=$+J.charAt(0).toUpperCase()+J.substring(1),pb[$]=pb[J]})});function rb(J,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(J)&&pb[J]?(""+$).trim():$+"px"}function sb(J,$){J=J.style;for(var _e in $)if($.hasOwnProperty(_e)){var et=_e.indexOf("--")===0,tt=rb(_e,$[_e],et);_e==="float"&&(_e="cssFloat"),et?J.setProperty(_e,tt):J[_e]=tt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(J,$){if($){if(tb[J]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$1(137,J));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$1(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$1(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$1(62))}}function vb(J,$){if(J.indexOf("-")===-1)return typeof $.is=="string";switch(J){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(J){return J=J.target||J.srcElement||window,J.correspondingUseElement&&(J=J.correspondingUseElement),J.nodeType===3?J.parentNode:J}var yb=null,zb=null,Ab=null;function Bb(J){if(J=Cb(J)){if(typeof yb!="function")throw Error(p$1(280));var $=J.stateNode;$&&($=Db($),yb(J.stateNode,J.type,$))}}function Eb(J){zb?Ab?Ab.push(J):Ab=[J]:zb=J}function Fb(){if(zb){var J=zb,$=Ab;if(Ab=zb=null,Bb(J),$)for(J=0;J<$.length;J++)Bb($[J])}}function Gb(J,$){return J($)}function Hb(){}var Ib=!1;function Jb(J,$,_e){if(Ib)return J($,_e);Ib=!0;try{return Gb(J,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(J,$){var _e=J.stateNode;if(_e===null)return null;var et=Db(_e);if(et===null)return null;_e=et[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(J=J.type,et=!(J==="button"||J==="input"||J==="select"||J==="textarea")),J=!et;break e;default:J=!1}if(J)return null;if(_e&&typeof _e!="function")throw Error(p$1(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(J,$,_e,et,tt,nt,rt,it,ot){var st=Array.prototype.slice.call(arguments,3);try{$.apply(_e,st)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(J){Ob=!0,Pb=J}};function Tb(J,$,_e,et,tt,nt,rt,it,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(J,$,_e,et,tt,nt,rt,it,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=st)}}function Vb(J){var $=J,_e=J;if(J.alternate)for(;$.return;)$=$.return;else{J=$;do $=J,$.flags&4098&&(_e=$.return),J=$.return;while(J)}return $.tag===3?_e:null}function Wb(J){if(J.tag===13){var $=J.memoizedState;if($===null&&(J=J.alternate,J!==null&&($=J.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(J){if(Vb(J)!==J)throw Error(p$1(188))}function Yb(J){var $=J.alternate;if(!$){if($=Vb(J),$===null)throw Error(p$1(188));return $!==J?null:J}for(var _e=J,et=$;;){var tt=_e.return;if(tt===null)break;var nt=tt.alternate;if(nt===null){if(et=tt.return,et!==null){_e=et;continue}break}if(tt.child===nt.child){for(nt=tt.child;nt;){if(nt===_e)return Xb(tt),J;if(nt===et)return Xb(tt),$;nt=nt.sibling}throw Error(p$1(188))}if(_e.return!==et.return)_e=tt,et=nt;else{for(var rt=!1,it=tt.child;it;){if(it===_e){rt=!0,_e=tt,et=nt;break}if(it===et){rt=!0,et=tt,_e=nt;break}it=it.sibling}if(!rt){for(it=nt.child;it;){if(it===_e){rt=!0,_e=nt,et=tt;break}if(it===et){rt=!0,et=nt,_e=tt;break}it=it.sibling}if(!rt)throw Error(p$1(189))}}if(_e.alternate!==et)throw Error(p$1(190))}if(_e.tag!==3)throw Error(p$1(188));return _e.stateNode.current===_e?J:$}function Zb(J){return J=Yb(J),J!==null?$b(J):null}function $b(J){if(J.tag===5||J.tag===6)return J;for(J=J.child;J!==null;){var $=$b(J);if($!==null)return $;J=J.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(J){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,J,void 0,(J.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(J){return J>>>=0,J===0?32:31-(pc(J)/qc|0)|0}var rc=64,sc=4194304;function tc(J){switch(J&-J){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return J&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return J&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return J}}function uc(J,$){var _e=J.pendingLanes;if(_e===0)return 0;var et=0,tt=J.suspendedLanes,nt=J.pingedLanes,rt=_e&268435455;if(rt!==0){var it=rt&~tt;it!==0?et=tc(it):(nt&=rt,nt!==0&&(et=tc(nt)))}else rt=_e&~tt,rt!==0?et=tc(rt):nt!==0&&(et=tc(nt));if(et===0)return 0;if($!==0&&$!==et&&!($&tt)&&(tt=et&-et,nt=$&-$,tt>=nt||tt===16&&(nt&4194240)!==0))return $;if(et&4&&(et|=_e&16),$=J.entangledLanes,$!==0)for(J=J.entanglements,$&=et;0<$;)_e=31-oc($),tt=1<<_e,et|=J[_e],$&=~tt;return et}function vc(J,$){switch(J){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(J,$){for(var _e=J.suspendedLanes,et=J.pingedLanes,tt=J.expirationTimes,nt=J.pendingLanes;0<nt;){var rt=31-oc(nt),it=1<<rt,ot=tt[rt];ot===-1?(!(it&_e)||it&et)&&(tt[rt]=vc(it,$)):ot<=$&&(J.expiredLanes|=it),nt&=~it}}function xc(J){return J=J.pendingLanes&-1073741825,J!==0?J:J&1073741824?1073741824:0}function yc(){var J=rc;return rc<<=1,!(rc&4194240)&&(rc=64),J}function zc(J){for(var $=[],_e=0;31>_e;_e++)$.push(J);return $}function Ac(J,$,_e){J.pendingLanes|=$,$!==536870912&&(J.suspendedLanes=0,J.pingedLanes=0),J=J.eventTimes,$=31-oc($),J[$]=_e}function Bc(J,$){var _e=J.pendingLanes&~$;J.pendingLanes=$,J.suspendedLanes=0,J.pingedLanes=0,J.expiredLanes&=$,J.mutableReadLanes&=$,J.entangledLanes&=$,$=J.entanglements;var et=J.eventTimes;for(J=J.expirationTimes;0<_e;){var tt=31-oc(_e),nt=1<<tt;$[tt]=0,et[tt]=-1,J[tt]=-1,_e&=~nt}}function Cc(J,$){var _e=J.entangledLanes|=$;for(J=J.entanglements;_e;){var et=31-oc(_e),tt=1<<et;tt&$|J[et]&$&&(J[et]|=$),_e&=~tt}}var C$1=0;function Dc(J){return J&=-J,1<J?4<J?J&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(J,$){switch(J){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(J,$,_e,et,tt,nt){return J===null||J.nativeEvent!==nt?(J={blockedOn:$,domEventName:_e,eventSystemFlags:et,nativeEvent:nt,targetContainers:[tt]},$!==null&&($=Cb($),$!==null&&Fc($)),J):(J.eventSystemFlags|=et,$=J.targetContainers,tt!==null&&$.indexOf(tt)===-1&&$.push(tt),J)}function Uc(J,$,_e,et,tt){switch($){case"focusin":return Lc=Tc(Lc,J,$,_e,et,tt),!0;case"dragenter":return Mc=Tc(Mc,J,$,_e,et,tt),!0;case"mouseover":return Nc=Tc(Nc,J,$,_e,et,tt),!0;case"pointerover":var nt=tt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,J,$,_e,et,tt)),!0;case"gotpointercapture":return nt=tt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,J,$,_e,et,tt)),!0}return!1}function Vc(J){var $=Wc(J.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){J.blockedOn=$,Ic(J.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){J.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}J.blockedOn=null}function Xc(J){if(J.blockedOn!==null)return!1;for(var $=J.targetContainers;0<$.length;){var _e=Yc(J.domEventName,J.eventSystemFlags,$[0],J.nativeEvent);if(_e===null){_e=J.nativeEvent;var et=new _e.constructor(_e.type,_e);wb=et,_e.target.dispatchEvent(et),wb=null}else return $=Cb(_e),$!==null&&Fc($),J.blockedOn=_e,!1;$.shift()}return!0}function Zc(J,$,_e){Xc(J)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(J,$){J.blockedOn===$&&(J.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(J){function $(tt){return ad(tt,J)}if(0<Kc.length){ad(Kc[0],J);for(var _e=1;_e<Kc.length;_e++){var et=Kc[_e];et.blockedOn===J&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,J),Mc!==null&&ad(Mc,J),Nc!==null&&ad(Nc,J),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)et=Qc[_e],et.blockedOn===J&&(et.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(J,$,_e,et){var tt=C$1,nt=cd.transition;cd.transition=null;try{C$1=1,fd(J,$,_e,et)}finally{C$1=tt,cd.transition=nt}}function gd(J,$,_e,et){var tt=C$1,nt=cd.transition;cd.transition=null;try{C$1=4,fd(J,$,_e,et)}finally{C$1=tt,cd.transition=nt}}function fd(J,$,_e,et){if(dd){var tt=Yc(J,$,_e,et);if(tt===null)hd(J,$,et,id$1,_e),Sc(J,et);else if(Uc(tt,J,$,_e,et))et.stopPropagation();else if(Sc(J,et),$&4&&-1<Rc.indexOf(J)){for(;tt!==null;){var nt=Cb(tt);if(nt!==null&&Ec(nt),nt=Yc(J,$,_e,et),nt===null&&hd(J,$,et,id$1,_e),nt===tt)break;tt=nt}tt!==null&&et.stopPropagation()}else hd(J,$,et,null,_e)}}var id$1=null;function Yc(J,$,_e,et){if(id$1=null,J=xb(et),J=Wc(J),J!==null)if($=Vb(J),$===null)J=null;else if(_e=$.tag,_e===13){if(J=Wb($),J!==null)return J;J=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;J=null}else $!==J&&(J=null);return id$1=J,null}function jd(J){switch(J){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var J,$=ld,_e=$.length,et,tt="value"in kd?kd.value:kd.textContent,nt=tt.length;for(J=0;J<_e&&$[J]===tt[J];J++);var rt=_e-J;for(et=1;et<=rt&&$[_e-et]===tt[nt-et];et++);return md=tt.slice(J,1<et?1-et:void 0)}function od(J){var $=J.keyCode;return"charCode"in J?(J=J.charCode,J===0&&$===13&&(J=13)):J=$,J===10&&(J=13),32<=J||J===13?J:0}function pd(){return!0}function qd(){return!1}function rd(J){function $(_e,et,tt,nt,rt){this._reactName=_e,this._targetInst=tt,this.type=et,this.nativeEvent=nt,this.target=rt,this.currentTarget=null;for(var it in J)J.hasOwnProperty(it)&&(_e=J[it],this[it]=_e?_e(nt):nt[it]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(J){return J.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(J){return J.relatedTarget===void 0?J.fromElement===J.srcElement?J.toElement:J.fromElement:J.relatedTarget},movementX:function(J){return"movementX"in J?J.movementX:(J!==yd&&(yd&&J.type==="mousemove"?(wd=J.screenX-yd.screenX,xd=J.screenY-yd.screenY):xd=wd=0,yd=J),wd)},movementY:function(J){return"movementY"in J?J.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(J){return"clipboardData"in J?J.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(J){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(J):(J=Od[J])?!!$[J]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(J){if(J.key){var $=Md[J.key]||J.key;if($!=="Unidentified")return $}return J.type==="keypress"?(J=od(J),J===13?"Enter":String.fromCharCode(J)):J.type==="keydown"||J.type==="keyup"?Nd[J.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(J){return J.type==="keypress"?od(J):0},keyCode:function(J){return J.type==="keydown"||J.type==="keyup"?J.keyCode:0},which:function(J){return J.type==="keypress"?od(J):J.type==="keydown"||J.type==="keyup"?J.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(J){return"deltaX"in J?J.deltaX:"wheelDeltaX"in J?-J.wheelDeltaX:0},deltaY:function(J){return"deltaY"in J?J.deltaY:"wheelDeltaY"in J?-J.wheelDeltaY:"wheelDelta"in J?-J.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(J,$){switch(J){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(J){return J=J.detail,typeof J=="object"&&"data"in J?J.data:null}var ie$2=!1;function je(J,$){switch(J){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return J=$.data,J===ee&&fe?null:J;default:return null}}function ke(J,$){if(ie$2)return J==="compositionend"||!ae&&ge(J,$)?(J=nd(),md=ld=kd=null,ie$2=!1,J):null;switch(J){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(J){var $=J&&J.nodeName&&J.nodeName.toLowerCase();return $==="input"?!!le[J.type]:$==="textarea"}function ne(J,$,_e,et){Eb(et),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,et),J.push({event:_e,listeners:$}))}var pe=null,qe=null;function re(J){se(J,0)}function te(J){var $=ue(J);if(Wa($))return J}function ve(J,$){if(J==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(J){if(J.propertyName==="value"&&te(qe)){var $=[];ne($,qe,J,xb(J)),Jb(re,$)}}function Ce(J,$,_e){J==="focusin"?(Ae(),pe=$,qe=_e,pe.attachEvent("onpropertychange",Be)):J==="focusout"&&Ae()}function De(J){if(J==="selectionchange"||J==="keyup"||J==="keydown")return te(qe)}function Ee(J,$){if(J==="click")return te($)}function Fe(J,$){if(J==="input"||J==="change")return te($)}function Ge(J,$){return J===$&&(J!==0||1/J===1/$)||J!==J&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(J,$){if(He(J,$))return!0;if(typeof J!="object"||J===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(J),et=Object.keys($);if(_e.length!==et.length)return!1;for(et=0;et<_e.length;et++){var tt=_e[et];if(!ja.call($,tt)||!He(J[tt],$[tt]))return!1}return!0}function Je(J){for(;J&&J.firstChild;)J=J.firstChild;return J}function Ke(J,$){var _e=Je(J);J=0;for(var et;_e;){if(_e.nodeType===3){if(et=J+_e.textContent.length,J<=$&&et>=$)return{node:_e,offset:$-J};J=et}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le(J,$){return J&&$?J===$?!0:J&&J.nodeType===3?!1:$&&$.nodeType===3?Le(J,$.parentNode):"contains"in J?J.contains($):J.compareDocumentPosition?!!(J.compareDocumentPosition($)&16):!1:!1}function Me(){for(var J=window,$=Xa();$ instanceof J.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)J=$.contentWindow;else break;$=Xa(J.document)}return $}function Ne(J){var $=J&&J.nodeName&&J.nodeName.toLowerCase();return $&&($==="input"&&(J.type==="text"||J.type==="search"||J.type==="tel"||J.type==="url"||J.type==="password")||$==="textarea"||J.contentEditable==="true")}function Oe(J){var $=Me(),_e=J.focusedElem,et=J.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(et!==null&&Ne(_e)){if($=et.start,J=et.end,J===void 0&&(J=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(J,_e.value.length);else if(J=($=_e.ownerDocument||document)&&$.defaultView||window,J.getSelection){J=J.getSelection();var tt=_e.textContent.length,nt=Math.min(et.start,tt);et=et.end===void 0?nt:Math.min(et.end,tt),!J.extend&&nt>et&&(tt=et,et=nt,nt=tt),tt=Ke(_e,nt);var rt=Ke(_e,et);tt&&rt&&(J.rangeCount!==1||J.anchorNode!==tt.node||J.anchorOffset!==tt.offset||J.focusNode!==rt.node||J.focusOffset!==rt.offset)&&($=$.createRange(),$.setStart(tt.node,tt.offset),J.removeAllRanges(),nt>et?(J.addRange($),J.extend(rt.node,rt.offset)):($.setEnd(rt.node,rt.offset),J.addRange($)))}}for($=[],J=_e;J=J.parentNode;)J.nodeType===1&&$.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)J=$[_e],J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(J,$,_e){var et=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&($=new td("onSelect","select",null,$,_e),J.push({event:$,listeners:et}),$.target=Qe)))}function Ve(J,$){var _e={};return _e[J.toLowerCase()]=$.toLowerCase(),_e["Webkit"+J]="webkit"+$,_e["Moz"+J]="moz"+$,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(J){if(Xe[J])return Xe[J];if(!We[J])return J;var $=We[J],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye)return Xe[J]=$[_e];return J}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(J,$){df.set(J,$),fa($,[J])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd"),ff(af,"onAnimationIteration"),ff(bf,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(cf,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(J,$,_e){var et=J.type||"unknown-event";J.currentTarget=_e,Ub(et,$,void 0,J),J.currentTarget=null}function se(J,$){$=($&4)!==0;for(var _e=0;_e<J.length;_e++){var et=J[_e],tt=et.event;et=et.listeners;e:{var nt=void 0;if($)for(var rt=et.length-1;0<=rt;rt--){var it=et[rt],ot=it.instance,st=it.currentTarget;if(it=it.listener,ot!==nt&&tt.isPropagationStopped())break e;nf(tt,it,st),nt=ot}else for(rt=0;rt<et.length;rt++){if(it=et[rt],ot=it.instance,st=it.currentTarget,it=it.listener,ot!==nt&&tt.isPropagationStopped())break e;nf(tt,it,st),nt=ot}}}if(Qb)throw J=Rb,Qb=!1,Rb=null,J}function D(J,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var et=J+"__bubble";_e.has(et)||(pf($,J,2,!1),_e.add(et))}function qf(J,$,_e){var et=0;$&&(et|=4),pf(_e,J,et,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(J){if(!J[rf]){J[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,J),qf(_e,!0,J))});var $=J.nodeType===9?J:J.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(J,$,_e,et){switch(jd($)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_e=tt.bind(null,$,_e,J),tt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(tt=!0),et?tt!==void 0?J.addEventListener($,_e,{capture:!0,passive:tt}):J.addEventListener($,_e,!0):tt!==void 0?J.addEventListener($,_e,{passive:tt}):J.addEventListener($,_e,!1)}function hd(J,$,_e,et,tt){var nt=et;if(!($&1)&&!($&2)&&et!==null)e:for(;;){if(et===null)return;var rt=et.tag;if(rt===3||rt===4){var it=et.stateNode.containerInfo;if(it===tt||it.nodeType===8&&it.parentNode===tt)break;if(rt===4)for(rt=et.return;rt!==null;){var ot=rt.tag;if((ot===3||ot===4)&&(ot=rt.stateNode.containerInfo,ot===tt||ot.nodeType===8&&ot.parentNode===tt))return;rt=rt.return}for(;it!==null;){if(rt=Wc(it),rt===null)return;if(ot=rt.tag,ot===5||ot===6){et=nt=rt;continue e}it=it.parentNode}}et=et.return}Jb(function(){var st=nt,at=xb(_e),ct=[];e:{var ut=df.get(J);if(ut!==void 0){var ft=td,dt=J;switch(J){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":dt="focus",ft=Fd;break;case"focusout":dt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var pt=($&4)!==0,vt=!pt&&J==="scroll",mt=pt?ut!==null?ut+"Capture":null:ut;pt=[];for(var Ot=st,yt;Ot!==null;){yt=Ot;var wt=yt.stateNode;if(yt.tag===5&&wt!==null&&(yt=wt,mt!==null&&(wt=Kb(Ot,mt),wt!=null&&pt.push(tf(Ot,wt,yt)))),vt)break;Ot=Ot.return}0<pt.length&&(ut=new ft(ut,dt,null,_e,at),ct.push({event:ut,listeners:pt}))}}if(!($&7)){e:{if(ut=J==="mouseover"||J==="pointerover",ft=J==="mouseout"||J==="pointerout",ut&&_e!==wb&&(dt=_e.relatedTarget||_e.fromElement)&&(Wc(dt)||dt[uf]))break e;if((ft||ut)&&(ut=at.window===at?at:(ut=at.ownerDocument)?ut.defaultView||ut.parentWindow:window,ft?(dt=_e.relatedTarget||_e.toElement,ft=st,dt=dt?Wc(dt):null,dt!==null&&(vt=Vb(dt),dt!==vt||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ft=null,dt=st),ft!==dt)){if(pt=Bd,wt="onMouseLeave",mt="onMouseEnter",Ot="mouse",(J==="pointerout"||J==="pointerover")&&(pt=Td,wt="onPointerLeave",mt="onPointerEnter",Ot="pointer"),vt=ft==null?ut:ue(ft),yt=dt==null?ut:ue(dt),ut=new pt(wt,Ot+"leave",ft,_e,at),ut.target=vt,ut.relatedTarget=yt,wt=null,Wc(at)===st&&(pt=new pt(mt,Ot+"enter",dt,_e,at),pt.target=yt,pt.relatedTarget=vt,wt=pt),vt=wt,ft&&dt)t:{for(pt=ft,mt=dt,Ot=0,yt=pt;yt;yt=vf(yt))Ot++;for(yt=0,wt=mt;wt;wt=vf(wt))yt++;for(;0<Ot-yt;)pt=vf(pt),Ot--;for(;0<yt-Ot;)mt=vf(mt),yt--;for(;Ot--;){if(pt===mt||mt!==null&&pt===mt.alternate)break t;pt=vf(pt),mt=vf(mt)}pt=null}else pt=null;ft!==null&&wf(ct,ut,ft,pt,!1),dt!==null&&vt!==null&&wf(ct,vt,dt,pt,!0)}}e:{if(ut=st?ue(st):window,ft=ut.nodeName&&ut.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ut.type==="file")var bt=ve;else if(me(ut))if(we)bt=Fe;else{bt=De;var Ct=Ce}else(ft=ut.nodeName)&&ft.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(bt=Ee);if(bt&&(bt=bt(J,st))){ne(ct,bt,_e,at);break e}Ct&&Ct(J,ut,st),J==="focusout"&&(Ct=ut._wrapperState)&&Ct.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Ct=st?ue(st):window,J){case"focusin":(me(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,_e,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,_e,at)}var kt;if(ae)e:{switch(J){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ie$2?ge(J,_e)&&(Et="onCompositionEnd"):J==="keydown"&&_e.keyCode===229&&(Et="onCompositionStart");Et&&(de&&_e.locale!=="ko"&&(ie$2||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ie$2&&(kt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Ct=oe(st,Et),0<Ct.length&&(Et=new Ld(Et,J,null,_e,at),ct.push({event:Et,listeners:Ct}),kt?Et.data=kt:(kt=he(_e),kt!==null&&(Et.data=kt)))),(kt=ce?je(J,_e):ke(J,_e))&&(st=oe(st,"onBeforeInput"),0<st.length&&(at=new Ld("onBeforeInput","beforeinput",null,_e,at),ct.push({event:at,listeners:st}),at.data=kt))}se(ct,$)})}function tf(J,$,_e){return{instance:J,listener:$,currentTarget:_e}}function oe(J,$){for(var _e=$+"Capture",et=[];J!==null;){var tt=J,nt=tt.stateNode;tt.tag===5&&nt!==null&&(tt=nt,nt=Kb(J,_e),nt!=null&&et.unshift(tf(J,nt,tt)),nt=Kb(J,$),nt!=null&&et.push(tf(J,nt,tt))),J=J.return}return et}function vf(J){if(J===null)return null;do J=J.return;while(J&&J.tag!==5);return J||null}function wf(J,$,_e,et,tt){for(var nt=$._reactName,rt=[];_e!==null&&_e!==et;){var it=_e,ot=it.alternate,st=it.stateNode;if(ot!==null&&ot===et)break;it.tag===5&&st!==null&&(it=st,tt?(ot=Kb(_e,nt),ot!=null&&rt.unshift(tf(_e,ot,it))):tt||(ot=Kb(_e,nt),ot!=null&&rt.push(tf(_e,ot,it)))),_e=_e.return}rt.length!==0&&J.push({event:$,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(J){return(typeof J=="string"?J:""+J).replace(xf,`
`).replace(yf,"")}function Af(J,$,_e){if($=zf($),zf(J)!==$&&_e)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(J,$){return J==="textarea"||J==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(J){return Hf.resolve(null).then(J).catch(If)}:Ff;function If(J){setTimeout(function(){throw J})}function Kf(J,$){var _e=$,et=0;do{var tt=_e.nextSibling;if(J.removeChild(_e),tt&&tt.nodeType===8)if(_e=tt.data,_e==="/$"){if(et===0){J.removeChild(tt),bd($);return}et--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||et++;_e=tt}while(_e);bd($)}function Lf(J){for(;J!=null;J=J.nextSibling){var $=J.nodeType;if($===1||$===3)break;if($===8){if($=J.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return J}function Mf(J){J=J.previousSibling;for(var $=0;J;){if(J.nodeType===8){var _e=J.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return J;$--}else _e==="/$"&&$++}J=J.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(J){var $=J[Of];if($)return $;for(var _e=J.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(J=Mf(J);J!==null;){if(_e=J[Of])return _e;J=Mf(J)}return $}J=_e,_e=J.parentNode}return null}function Cb(J){return J=J[Of]||J[uf],!J||J.tag!==5&&J.tag!==6&&J.tag!==13&&J.tag!==3?null:J}function ue(J){if(J.tag===5||J.tag===6)return J.stateNode;throw Error(p$1(33))}function Db(J){return J[Pf]||null}var Sf=[],Tf=-1;function Uf(J){return{current:J}}function E(J){0>Tf||(J.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(J,$){Tf++,Sf[Tf]=J.current,J.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(J,$){var _e=J.type.contextTypes;if(!_e)return Vf;var et=J.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===$)return et.__reactInternalMemoizedMaskedChildContext;var tt={},nt;for(nt in _e)tt[nt]=$[nt];return et&&(J=J.stateNode,J.__reactInternalMemoizedUnmaskedChildContext=$,J.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(J){return J=J.childContextTypes,J!=null}function $f(){E(Wf),E(H)}function ag(J,$,_e){if(H.current!==Vf)throw Error(p$1(168));G(H,$),G(Wf,_e)}function bg(J,$,_e){var et=J.stateNode;if($=$.childContextTypes,typeof et.getChildContext!="function")return _e;et=et.getChildContext();for(var tt in et)if(!(tt in $))throw Error(p$1(108,Ra(J)||"Unknown",tt));return A({},_e,et)}function cg(J){return J=(J=J.stateNode)&&J.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,J),G(Wf,Wf.current),!0}function dg(J,$,_e){var et=J.stateNode;if(!et)throw Error(p$1(169));_e?(J=bg(J,$,Xf),et.__reactInternalMemoizedMergedChildContext=J,E(Wf),E(H),G(H,J)):E(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(J){eg===null?eg=[J]:eg.push(J)}function ig(J){fg=!0,hg(J)}function jg(){if(!gg&&eg!==null){gg=!0;var J=0,$=C$1;try{var _e=eg;for(C$1=1;J<_e.length;J++){var et=_e[J];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(J+1)),ac(fc,jg),tt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(J,$){kg[lg++]=ng,kg[lg++]=mg,mg=J,ng=$}function ug(J,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=J;var et=rg;J=sg;var tt=32-oc(et)-1;et&=~(1<<tt),_e+=1;var nt=32-oc($)+tt;if(30<nt){var rt=tt-tt%5;nt=(et&(1<<rt)-1).toString(32),et>>=rt,tt-=rt,rg=1<<32-oc($)+tt|_e<<tt|et,sg=nt+J}else rg=1<<nt|_e<<tt|et,sg=J}function vg(J){J.return!==null&&(tg(J,1),ug(J,1,0))}function wg(J){for(;J===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;J===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(J,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=J,$=J.deletions,$===null?(J.deletions=[_e],J.flags|=16):$.push(_e)}function Cg(J,$){switch(J.tag){case 5:var _e=J.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(J.stateNode=$,xg=J,yg=Lf($.firstChild),!0):!1;case 6:return $=J.pendingProps===""||$.nodeType!==3?null:$,$!==null?(J.stateNode=$,xg=J,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,J.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=J,J.child=_e,xg=J,yg=null,!0):!1;default:return!1}}function Dg(J){return(J.mode&1)!==0&&(J.flags&128)===0}function Eg(J){if(I){var $=yg;if($){var _e=$;if(!Cg(J,$)){if(Dg(J))throw Error(p$1(418));$=Lf(_e.nextSibling);var et=xg;$&&Cg(J,$)?Ag(et,_e):(J.flags=J.flags&-4097|2,I=!1,xg=J)}}else{if(Dg(J))throw Error(p$1(418));J.flags=J.flags&-4097|2,I=!1,xg=J}}}function Fg(J){for(J=J.return;J!==null&&J.tag!==5&&J.tag!==3&&J.tag!==13;)J=J.return;xg=J}function Gg(J){if(J!==xg)return!1;if(!I)return Fg(J),I=!0,!1;var $;if(($=J.tag!==3)&&!($=J.tag!==5)&&($=J.type,$=$!=="head"&&$!=="body"&&!Ef(J.type,J.memoizedProps)),$&&($=yg)){if(Dg(J))throw Hg(),Error(p$1(418));for(;$;)Ag(J,$),$=Lf($.nextSibling)}if(Fg(J),J.tag===13){if(J=J.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(p$1(317));e:{for(J=J.nextSibling,$=0;J;){if(J.nodeType===8){var _e=J.data;if(_e==="/$"){if($===0){yg=Lf(J.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}J=J.nextSibling}yg=null}}else yg=xg?Lf(J.stateNode.nextSibling):null;return!0}function Hg(){for(var J=yg;J;)J=Lf(J.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(J){zg===null?zg=[J]:zg.push(J)}var Kg=ua.ReactCurrentBatchConfig;function Lg(J,$,_e){if(J=_e.ref,J!==null&&typeof J!="function"&&typeof J!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$1(309));var et=_e.stateNode}if(!et)throw Error(p$1(147,J));var tt=et,nt=""+J;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===nt?$.ref:($=function(rt){var it=tt.refs;rt===null?delete it[nt]:it[nt]=rt},$._stringRef=nt,$)}if(typeof J!="string")throw Error(p$1(284));if(!_e._owner)throw Error(p$1(290,J))}return J}function Mg(J,$){throw J=Object.prototype.toString.call($),Error(p$1(31,J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J))}function Ng(J){var $=J._init;return $(J._payload)}function Og(J){function $(mt,Ot){if(J){var yt=mt.deletions;yt===null?(mt.deletions=[Ot],mt.flags|=16):yt.push(Ot)}}function _e(mt,Ot){if(!J)return null;for(;Ot!==null;)$(mt,Ot),Ot=Ot.sibling;return null}function et(mt,Ot){for(mt=new Map;Ot!==null;)Ot.key!==null?mt.set(Ot.key,Ot):mt.set(Ot.index,Ot),Ot=Ot.sibling;return mt}function tt(mt,Ot){return mt=Pg(mt,Ot),mt.index=0,mt.sibling=null,mt}function nt(mt,Ot,yt){return mt.index=yt,J?(yt=mt.alternate,yt!==null?(yt=yt.index,yt<Ot?(mt.flags|=2,Ot):yt):(mt.flags|=2,Ot)):(mt.flags|=1048576,Ot)}function rt(mt){return J&&mt.alternate===null&&(mt.flags|=2),mt}function it(mt,Ot,yt,wt){return Ot===null||Ot.tag!==6?(Ot=Qg(yt,mt.mode,wt),Ot.return=mt,Ot):(Ot=tt(Ot,yt),Ot.return=mt,Ot)}function ot(mt,Ot,yt,wt){var bt=yt.type;return bt===ya?at(mt,Ot,yt.props.children,wt,yt.key):Ot!==null&&(Ot.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===Ot.type)?(wt=tt(Ot,yt.props),wt.ref=Lg(mt,Ot,yt),wt.return=mt,wt):(wt=Rg(yt.type,yt.key,yt.props,null,mt.mode,wt),wt.ref=Lg(mt,Ot,yt),wt.return=mt,wt)}function st(mt,Ot,yt,wt){return Ot===null||Ot.tag!==4||Ot.stateNode.containerInfo!==yt.containerInfo||Ot.stateNode.implementation!==yt.implementation?(Ot=Sg(yt,mt.mode,wt),Ot.return=mt,Ot):(Ot=tt(Ot,yt.children||[]),Ot.return=mt,Ot)}function at(mt,Ot,yt,wt,bt){return Ot===null||Ot.tag!==7?(Ot=Tg(yt,mt.mode,wt,bt),Ot.return=mt,Ot):(Ot=tt(Ot,yt),Ot.return=mt,Ot)}function ct(mt,Ot,yt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ot=Qg(""+Ot,mt.mode,yt),Ot.return=mt,Ot;if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return yt=Rg(Ot.type,Ot.key,Ot.props,null,mt.mode,yt),yt.ref=Lg(mt,null,Ot),yt.return=mt,yt;case wa:return Ot=Sg(Ot,mt.mode,yt),Ot.return=mt,Ot;case Ha:var wt=Ot._init;return ct(mt,wt(Ot._payload),yt)}if(eb(Ot)||Ka(Ot))return Ot=Tg(Ot,mt.mode,yt,null),Ot.return=mt,Ot;Mg(mt,Ot)}return null}function ut(mt,Ot,yt,wt){var bt=Ot!==null?Ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return bt!==null?null:it(mt,Ot,""+yt,wt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===bt?ot(mt,Ot,yt,wt):null;case wa:return yt.key===bt?st(mt,Ot,yt,wt):null;case Ha:return bt=yt._init,ut(mt,Ot,bt(yt._payload),wt)}if(eb(yt)||Ka(yt))return bt!==null?null:at(mt,Ot,yt,wt,null);Mg(mt,yt)}return null}function ft(mt,Ot,yt,wt,bt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return mt=mt.get(yt)||null,it(Ot,mt,""+wt,bt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return mt=mt.get(wt.key===null?yt:wt.key)||null,ot(Ot,mt,wt,bt);case wa:return mt=mt.get(wt.key===null?yt:wt.key)||null,st(Ot,mt,wt,bt);case Ha:var Ct=wt._init;return ft(mt,Ot,yt,Ct(wt._payload),bt)}if(eb(wt)||Ka(wt))return mt=mt.get(yt)||null,at(Ot,mt,wt,bt,null);Mg(Ot,wt)}return null}function dt(mt,Ot,yt,wt){for(var bt=null,Ct=null,kt=Ot,Et=Ot=0,_t=null;kt!==null&&Et<yt.length;Et++){kt.index>Et?(_t=kt,kt=null):_t=kt.sibling;var At=ut(mt,kt,yt[Et],wt);if(At===null){kt===null&&(kt=_t);break}J&&kt&&At.alternate===null&&$(mt,kt),Ot=nt(At,Ot,Et),Ct===null?bt=At:Ct.sibling=At,Ct=At,kt=_t}if(Et===yt.length)return _e(mt,kt),I&&tg(mt,Et),bt;if(kt===null){for(;Et<yt.length;Et++)kt=ct(mt,yt[Et],wt),kt!==null&&(Ot=nt(kt,Ot,Et),Ct===null?bt=kt:Ct.sibling=kt,Ct=kt);return I&&tg(mt,Et),bt}for(kt=et(mt,kt);Et<yt.length;Et++)_t=ft(kt,mt,Et,yt[Et],wt),_t!==null&&(J&&_t.alternate!==null&&kt.delete(_t.key===null?Et:_t.key),Ot=nt(_t,Ot,Et),Ct===null?bt=_t:Ct.sibling=_t,Ct=_t);return J&&kt.forEach(function(Dt){return $(mt,Dt)}),I&&tg(mt,Et),bt}function pt(mt,Ot,yt,wt){var bt=Ka(yt);if(typeof bt!="function")throw Error(p$1(150));if(yt=bt.call(yt),yt==null)throw Error(p$1(151));for(var Ct=bt=null,kt=Ot,Et=Ot=0,_t=null,At=yt.next();kt!==null&&!At.done;Et++,At=yt.next()){kt.index>Et?(_t=kt,kt=null):_t=kt.sibling;var Dt=ut(mt,kt,At.value,wt);if(Dt===null){kt===null&&(kt=_t);break}J&&kt&&Dt.alternate===null&&$(mt,kt),Ot=nt(Dt,Ot,Et),Ct===null?bt=Dt:Ct.sibling=Dt,Ct=Dt,kt=_t}if(At.done)return _e(mt,kt),I&&tg(mt,Et),bt;if(kt===null){for(;!At.done;Et++,At=yt.next())At=ct(mt,At.value,wt),At!==null&&(Ot=nt(At,Ot,Et),Ct===null?bt=At:Ct.sibling=At,Ct=At);return I&&tg(mt,Et),bt}for(kt=et(mt,kt);!At.done;Et++,At=yt.next())At=ft(kt,mt,Et,At.value,wt),At!==null&&(J&&At.alternate!==null&&kt.delete(At.key===null?Et:At.key),Ot=nt(At,Ot,Et),Ct===null?bt=At:Ct.sibling=At,Ct=At);return J&&kt.forEach(function(jt){return $(mt,jt)}),I&&tg(mt,Et),bt}function vt(mt,Ot,yt,wt){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var bt=yt.key,Ct=Ot;Ct!==null;){if(Ct.key===bt){if(bt=yt.type,bt===ya){if(Ct.tag===7){_e(mt,Ct.sibling),Ot=tt(Ct,yt.props.children),Ot.return=mt,mt=Ot;break e}}else if(Ct.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===Ct.type){_e(mt,Ct.sibling),Ot=tt(Ct,yt.props),Ot.ref=Lg(mt,Ct,yt),Ot.return=mt,mt=Ot;break e}_e(mt,Ct);break}else $(mt,Ct);Ct=Ct.sibling}yt.type===ya?(Ot=Tg(yt.props.children,mt.mode,wt,yt.key),Ot.return=mt,mt=Ot):(wt=Rg(yt.type,yt.key,yt.props,null,mt.mode,wt),wt.ref=Lg(mt,Ot,yt),wt.return=mt,mt=wt)}return rt(mt);case wa:e:{for(Ct=yt.key;Ot!==null;){if(Ot.key===Ct)if(Ot.tag===4&&Ot.stateNode.containerInfo===yt.containerInfo&&Ot.stateNode.implementation===yt.implementation){_e(mt,Ot.sibling),Ot=tt(Ot,yt.children||[]),Ot.return=mt,mt=Ot;break e}else{_e(mt,Ot);break}else $(mt,Ot);Ot=Ot.sibling}Ot=Sg(yt,mt.mode,wt),Ot.return=mt,mt=Ot}return rt(mt);case Ha:return Ct=yt._init,vt(mt,Ot,Ct(yt._payload),wt)}if(eb(yt))return dt(mt,Ot,yt,wt);if(Ka(yt))return pt(mt,Ot,yt,wt);Mg(mt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,Ot!==null&&Ot.tag===6?(_e(mt,Ot.sibling),Ot=tt(Ot,yt),Ot.return=mt,mt=Ot):(_e(mt,Ot),Ot=Qg(yt,mt.mode,wt),Ot.return=mt,mt=Ot),rt(mt)):_e(mt,Ot)}return vt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(J){var $=Wg.current;E(Wg),J._currentValue=$}function bh(J,$,_e){for(;J!==null;){var et=J.alternate;if((J.childLanes&$)!==$?(J.childLanes|=$,et!==null&&(et.childLanes|=$)):et!==null&&(et.childLanes&$)!==$&&(et.childLanes|=$),J===_e)break;J=J.return}}function ch(J,$){Xg=J,Zg=Yg=null,J=J.dependencies,J!==null&&J.firstContext!==null&&(J.lanes&$&&(dh=!0),J.firstContext=null)}function eh(J){var $=J._currentValue;if(Zg!==J)if(J={context:J,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=J,Xg.dependencies={lanes:0,firstContext:J}}else Yg=Yg.next=J;return $}var fh=null;function gh(J){fh===null?fh=[J]:fh.push(J)}function hh(J,$,_e,et){var tt=$.interleaved;return tt===null?(_e.next=_e,gh($)):(_e.next=tt.next,tt.next=_e),$.interleaved=_e,ih(J,et)}function ih(J,$){J.lanes|=$;var _e=J.alternate;for(_e!==null&&(_e.lanes|=$),_e=J,J=J.return;J!==null;)J.childLanes|=$,_e=J.alternate,_e!==null&&(_e.childLanes|=$),_e=J,J=J.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh(J){J.updateQueue={baseState:J.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(J,$){J=J.updateQueue,$.updateQueue===J&&($.updateQueue={baseState:J.baseState,firstBaseUpdate:J.firstBaseUpdate,lastBaseUpdate:J.lastBaseUpdate,shared:J.shared,effects:J.effects})}function mh(J,$){return{eventTime:J,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(J,$,_e){var et=J.updateQueue;if(et===null)return null;if(et=et.shared,K&2){var tt=et.pending;return tt===null?$.next=$:($.next=tt.next,tt.next=$),et.pending=$,ih(J,_e)}return tt=et.interleaved,tt===null?($.next=$,gh(et)):($.next=tt.next,tt.next=$),et.interleaved=$,ih(J,_e)}function oh(J,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var et=$.lanes;et&=J.pendingLanes,_e|=et,$.lanes=_e,Cc(J,_e)}}function ph(J,$){var _e=J.updateQueue,et=J.alternate;if(et!==null&&(et=et.updateQueue,_e===et)){var tt=null,nt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var rt={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};nt===null?tt=nt=rt:nt=nt.next=rt,_e=_e.next}while(_e!==null);nt===null?tt=nt=$:nt=nt.next=$}else tt=nt=$;_e={baseState:et.baseState,firstBaseUpdate:tt,lastBaseUpdate:nt,shared:et.shared,effects:et.effects},J.updateQueue=_e;return}J=_e.lastBaseUpdate,J===null?_e.firstBaseUpdate=$:J.next=$,_e.lastBaseUpdate=$}function qh(J,$,_e,et){var tt=J.updateQueue;jh=!1;var nt=tt.firstBaseUpdate,rt=tt.lastBaseUpdate,it=tt.shared.pending;if(it!==null){tt.shared.pending=null;var ot=it,st=ot.next;ot.next=null,rt===null?nt=st:rt.next=st,rt=ot;var at=J.alternate;at!==null&&(at=at.updateQueue,it=at.lastBaseUpdate,it!==rt&&(it===null?at.firstBaseUpdate=st:it.next=st,at.lastBaseUpdate=ot))}if(nt!==null){var ct=tt.baseState;rt=0,at=st=ot=null,it=nt;do{var ut=it.lane,ft=it.eventTime;if((et&ut)===ut){at!==null&&(at=at.next={eventTime:ft,lane:0,tag:it.tag,payload:it.payload,callback:it.callback,next:null});e:{var dt=J,pt=it;switch(ut=$,ft=_e,pt.tag){case 1:if(dt=pt.payload,typeof dt=="function"){ct=dt.call(ft,ct,ut);break e}ct=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=pt.payload,ut=typeof dt=="function"?dt.call(ft,ct,ut):dt,ut==null)break e;ct=A({},ct,ut);break e;case 2:jh=!0}}it.callback!==null&&it.lane!==0&&(J.flags|=64,ut=tt.effects,ut===null?tt.effects=[it]:ut.push(it))}else ft={eventTime:ft,lane:ut,tag:it.tag,payload:it.payload,callback:it.callback,next:null},at===null?(st=at=ft,ot=ct):at=at.next=ft,rt|=ut;if(it=it.next,it===null){if(it=tt.shared.pending,it===null)break;ut=it,it=ut.next,ut.next=null,tt.lastBaseUpdate=ut,tt.shared.pending=null}}while(!0);if(at===null&&(ot=ct),tt.baseState=ot,tt.firstBaseUpdate=st,tt.lastBaseUpdate=at,$=tt.shared.interleaved,$!==null){tt=$;do rt|=tt.lane,tt=tt.next;while(tt!==$)}else nt===null&&(tt.shared.lanes=0);rh|=rt,J.lanes=rt,J.memoizedState=ct}}function sh(J,$,_e){if(J=$.effects,$.effects=null,J!==null)for($=0;$<J.length;$++){var et=J[$],tt=et.callback;if(tt!==null){if(et.callback=null,et=_e,typeof tt!="function")throw Error(p$1(191,tt));tt.call(et)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(J){if(J===th)throw Error(p$1(174));return J}function yh(J,$){switch(G(wh,$),G(vh,J),G(uh,th),J=$.nodeType,J){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:J=J===8?$.parentNode:$,$=J.namespaceURI||null,J=J.tagName,$=lb($,J)}E(uh),G(uh,$)}function zh(){E(uh),E(vh),E(wh)}function Ah(J){xh(wh.current);var $=xh(uh.current),_e=lb($,J.type);$!==_e&&(G(vh,J),G(uh,_e))}function Bh(J){vh.current===J&&(E(uh),E(vh))}var L=Uf(0);function Ch(J){for(var $=J;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===J)break;for(;$.sibling===null;){if($.return===null||$.return===J)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var J=0;J<Dh.length;J++)Dh[J]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(J,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<J.length;_e++)if(!He(J[_e],$[_e]))return!1;return!0}function Nh(J,$,_e,et,tt,nt){if(Hh=nt,M=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=J===null||J.memoizedState===null?Oh:Ph,J=_e(et,tt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$1(301));nt+=1,O=N=null,$.updateQueue=null,Fh.current=Qh,J=_e(et,tt)}while(Jh)}if(Fh.current=Rh,$=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,$)throw Error(p$1(300));return J}function Sh(){var J=Kh!==0;return Kh=0,J}function Th(){var J={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=J:O=O.next=J,O}function Uh(){if(N===null){var J=M.alternate;J=J!==null?J.memoizedState:null}else J=N.next;var $=O===null?M.memoizedState:O.next;if($!==null)O=$,N=J;else{if(J===null)throw Error(p$1(310));N=J,J={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=J:O=O.next=J}return O}function Vh(J,$){return typeof $=="function"?$(J):$}function Wh(J){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$1(311));_e.lastRenderedReducer=J;var et=N,tt=et.baseQueue,nt=_e.pending;if(nt!==null){if(tt!==null){var rt=tt.next;tt.next=nt.next,nt.next=rt}et.baseQueue=tt=nt,_e.pending=null}if(tt!==null){nt=tt.next,et=et.baseState;var it=rt=null,ot=null,st=nt;do{var at=st.lane;if((Hh&at)===at)ot!==null&&(ot=ot.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),et=st.hasEagerState?st.eagerState:J(et,st.action);else{var ct={lane:at,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};ot===null?(it=ot=ct,rt=et):ot=ot.next=ct,M.lanes|=at,rh|=at}st=st.next}while(st!==null&&st!==nt);ot===null?rt=et:ot.next=it,He(et,$.memoizedState)||(dh=!0),$.memoizedState=et,$.baseState=rt,$.baseQueue=ot,_e.lastRenderedState=et}if(J=_e.interleaved,J!==null){tt=J;do nt=tt.lane,M.lanes|=nt,rh|=nt,tt=tt.next;while(tt!==J)}else tt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function Xh(J){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$1(311));_e.lastRenderedReducer=J;var et=_e.dispatch,tt=_e.pending,nt=$.memoizedState;if(tt!==null){_e.pending=null;var rt=tt=tt.next;do nt=J(nt,rt.action),rt=rt.next;while(rt!==tt);He(nt,$.memoizedState)||(dh=!0),$.memoizedState=nt,$.baseQueue===null&&($.baseState=nt),_e.lastRenderedState=nt}return[nt,et]}function Yh(){}function Zh(J,$){var _e=M,et=Uh(),tt=$(),nt=!He(et.memoizedState,tt);if(nt&&(et.memoizedState=tt,dh=!0),et=et.queue,$h(ai.bind(null,_e,et,J),[J]),et.getSnapshot!==$||nt||O!==null&&O.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,et,tt,$),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(_e,$,tt)}return tt}function di(J,$,_e){J.flags|=16384,J={getSnapshot:$,value:_e},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.stores=[J]):(_e=$.stores,_e===null?$.stores=[J]:_e.push(J))}function ci(J,$,_e,et){$.value=_e,$.getSnapshot=et,ei($)&&fi(J)}function ai(J,$,_e){return _e(function(){ei($)&&fi(J)})}function ei(J){var $=J.getSnapshot;J=J.value;try{var _e=$();return!He(J,_e)}catch{return!0}}function fi(J){var $=ih(J,1);$!==null&&gi($,J,1,-1)}function hi(J){var $=Th();return typeof J=="function"&&(J=J()),$.memoizedState=$.baseState=J,J={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:J},$.queue=J,J=J.dispatch=ii.bind(null,M,J),[$.memoizedState,J]}function bi(J,$,_e,et){return J={tag:J,create:$,destroy:_e,deps:et,next:null},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.lastEffect=J.next=J):(_e=$.lastEffect,_e===null?$.lastEffect=J.next=J:(et=_e.next,_e.next=J,J.next=et,$.lastEffect=J)),J}function ji(){return Uh().memoizedState}function ki(J,$,_e,et){var tt=Th();M.flags|=J,tt.memoizedState=bi(1|$,_e,void 0,et===void 0?null:et)}function li(J,$,_e,et){var tt=Uh();et=et===void 0?null:et;var nt=void 0;if(N!==null){var rt=N.memoizedState;if(nt=rt.destroy,et!==null&&Mh(et,rt.deps)){tt.memoizedState=bi($,_e,nt,et);return}}M.flags|=J,tt.memoizedState=bi(1|$,_e,nt,et)}function mi(J,$){return ki(8390656,8,J,$)}function $h(J,$){return li(2048,8,J,$)}function ni(J,$){return li(4,2,J,$)}function oi(J,$){return li(4,4,J,$)}function pi(J,$){if(typeof $=="function")return J=J(),$(J),function(){$(null)};if($!=null)return J=J(),$.current=J,function(){$.current=null}}function qi(J,$,_e){return _e=_e!=null?_e.concat([J]):null,li(4,4,pi.bind(null,$,J),_e)}function ri(){}function si(J,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(_e.memoizedState=[J,$],J)}function ti(J,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(J=J(),_e.memoizedState=[J,$],J)}function ui(J,$,_e){return Hh&21?(He(_e,$)||(_e=yc(),M.lanes|=_e,rh|=_e,J.baseState=!0),$):(J.baseState&&(J.baseState=!1,dh=!0),J.memoizedState=_e)}function vi(J,$){var _e=C$1;C$1=_e!==0&&4>_e?_e:4,J(!0);var et=Gh.transition;Gh.transition={};try{J(!1),$()}finally{C$1=_e,Gh.transition=et}}function wi(){return Uh().memoizedState}function xi(J,$,_e){var et=yi(J);if(_e={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null},zi(J))Ai($,_e);else if(_e=hh(J,$,_e,et),_e!==null){var tt=R();gi(_e,J,et,tt),Bi(_e,$,et)}}function ii(J,$,_e){var et=yi(J),tt={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi(J))Ai($,tt);else{var nt=J.alternate;if(J.lanes===0&&(nt===null||nt.lanes===0)&&(nt=$.lastRenderedReducer,nt!==null))try{var rt=$.lastRenderedState,it=nt(rt,_e);if(tt.hasEagerState=!0,tt.eagerState=it,He(it,rt)){var ot=$.interleaved;ot===null?(tt.next=tt,gh($)):(tt.next=ot.next,ot.next=tt),$.interleaved=tt;return}}catch{}finally{}_e=hh(J,$,tt,et),_e!==null&&(tt=R(),gi(_e,J,et,tt),Bi(_e,$,et))}}function zi(J){var $=J.alternate;return J===M||$!==null&&$===M}function Ai(J,$){Jh=Ih=!0;var _e=J.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),J.pending=$}function Bi(J,$,_e){if(_e&4194240){var et=$.lanes;et&=J.pendingLanes,_e|=et,$.lanes=_e,Cc(J,_e)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(J,$){return Th().memoizedState=[J,$===void 0?null:$],J},useContext:eh,useEffect:mi,useImperativeHandle:function(J,$,_e){return _e=_e!=null?_e.concat([J]):null,ki(4194308,4,pi.bind(null,$,J),_e)},useLayoutEffect:function(J,$){return ki(4194308,4,J,$)},useInsertionEffect:function(J,$){return ki(4,2,J,$)},useMemo:function(J,$){var _e=Th();return $=$===void 0?null:$,J=J(),_e.memoizedState=[J,$],J},useReducer:function(J,$,_e){var et=Th();return $=_e!==void 0?_e($):$,et.memoizedState=et.baseState=$,J={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:J,lastRenderedState:$},et.queue=J,J=J.dispatch=xi.bind(null,M,J),[et.memoizedState,J]},useRef:function(J){var $=Th();return J={current:J},$.memoizedState=J},useState:hi,useDebugValue:ri,useDeferredValue:function(J){return Th().memoizedState=J},useTransition:function(){var J=hi(!1),$=J[0];return J=vi.bind(null,J[1]),Th().memoizedState=J,[$,J]},useMutableSource:function(){},useSyncExternalStore:function(J,$,_e){var et=M,tt=Th();if(I){if(_e===void 0)throw Error(p$1(407));_e=_e()}else{if(_e=$(),Q===null)throw Error(p$1(349));Hh&30||di(et,$,_e)}tt.memoizedState=_e;var nt={value:_e,getSnapshot:$};return tt.queue=nt,mi(ai.bind(null,et,nt,J),[J]),et.flags|=2048,bi(9,ci.bind(null,et,nt,_e,$),void 0,null),_e},useId:function(){var J=Th(),$=Q.identifierPrefix;if(I){var _e=sg,et=rg;_e=(et&~(1<<32-oc(et)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Kh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Lh++,$=":"+$+"r"+_e.toString(32)+":";return J.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(J){var $=Uh();return ui($,N.memoizedState,J)},useTransition:function(){var J=Wh(Vh)[0],$=Uh().memoizedState;return[J,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(J){var $=Uh();return N===null?$.memoizedState=J:ui($,N.memoizedState,J)},useTransition:function(){var J=Xh(Vh)[0],$=Uh().memoizedState;return[J,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(J,$){if(J&&J.defaultProps){$=A({},$),J=J.defaultProps;for(var _e in J)$[_e]===void 0&&($[_e]=J[_e]);return $}return $}function Di(J,$,_e,et){$=J.memoizedState,_e=_e(et,$),_e=_e==null?$:A({},$,_e),J.memoizedState=_e,J.lanes===0&&(J.updateQueue.baseState=_e)}var Ei={isMounted:function(J){return(J=J._reactInternals)?Vb(J)===J:!1},enqueueSetState:function(J,$,_e){J=J._reactInternals;var et=R(),tt=yi(J),nt=mh(et,tt);nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(J,nt,tt),$!==null&&(gi($,J,tt,et),oh($,J,tt))},enqueueReplaceState:function(J,$,_e){J=J._reactInternals;var et=R(),tt=yi(J),nt=mh(et,tt);nt.tag=1,nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(J,nt,tt),$!==null&&(gi($,J,tt,et),oh($,J,tt))},enqueueForceUpdate:function(J,$){J=J._reactInternals;var _e=R(),et=yi(J),tt=mh(_e,et);tt.tag=2,$!=null&&(tt.callback=$),$=nh(J,tt,et),$!==null&&(gi($,J,et,_e),oh($,J,et))}};function Fi(J,$,_e,et,tt,nt,rt){return J=J.stateNode,typeof J.shouldComponentUpdate=="function"?J.shouldComponentUpdate(et,nt,rt):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,et)||!Ie(tt,nt):!0}function Gi(J,$,_e){var et=!1,tt=Vf,nt=$.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(tt=Zf($)?Xf:H.current,et=$.contextTypes,nt=(et=et!=null)?Yf(J,tt):Vf),$=new $(_e,nt),J.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,J.stateNode=$,$._reactInternals=J,et&&(J=J.stateNode,J.__reactInternalMemoizedUnmaskedChildContext=tt,J.__reactInternalMemoizedMaskedChildContext=nt),$}function Hi(J,$,_e,et){J=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,et),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,et),$.state!==J&&Ei.enqueueReplaceState($,$.state,null)}function Ii(J,$,_e,et){var tt=J.stateNode;tt.props=_e,tt.state=J.memoizedState,tt.refs={},kh(J);var nt=$.contextType;typeof nt=="object"&&nt!==null?tt.context=eh(nt):(nt=Zf($)?Xf:H.current,tt.context=Yf(J,nt)),tt.state=J.memoizedState,nt=$.getDerivedStateFromProps,typeof nt=="function"&&(Di(J,$,nt,_e),tt.state=J.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||($=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),$!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh(J,_e,tt,et),tt.state=J.memoizedState),typeof tt.componentDidMount=="function"&&(J.flags|=4194308)}function Ji(J,$){try{var _e="",et=$;do _e+=Pa(et),et=et.return;while(et);var tt=_e}catch(nt){tt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:J,source:$,stack:tt,digest:null}}function Ki(J,$,_e){return{value:J,source:null,stack:_e??null,digest:$??null}}function Li(J,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(J,$,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var et=$.value;return _e.callback=function(){Oi||(Oi=!0,Pi=et),Li(J,$)},_e}function Qi(J,$,_e){_e=mh(-1,_e),_e.tag=3;var et=J.type.getDerivedStateFromError;if(typeof et=="function"){var tt=$.value;_e.payload=function(){return et(tt)},_e.callback=function(){Li(J,$)}}var nt=J.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(_e.callback=function(){Li(J,$),typeof et!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=$.stack;this.componentDidCatch($.value,{componentStack:rt!==null?rt:""})}),_e}function Si(J,$,_e){var et=J.pingCache;if(et===null){et=J.pingCache=new Mi;var tt=new Set;et.set($,tt)}else tt=et.get($),tt===void 0&&(tt=new Set,et.set($,tt));tt.has(_e)||(tt.add(_e),J=Ti.bind(null,J,$,_e),$.then(J,J))}function Ui(J){do{var $;if(($=J.tag===13)&&($=J.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return J;J=J.return}while(J!==null);return null}function Vi(J,$,_e,et,tt){return J.mode&1?(J.flags|=65536,J.lanes=tt,J):(J===$?J.flags|=65536:(J.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=mh(-1,1),$.tag=2,nh(_e,$,1))),_e.lanes|=1),J)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(J,$,_e,et){$.child=J===null?Vg($,null,_e,et):Ug($,J.child,_e,et)}function Yi(J,$,_e,et,tt){_e=_e.render;var nt=$.ref;return ch($,tt),et=Nh(J,$,_e,et,nt,tt),_e=Sh(),J!==null&&!dh?($.updateQueue=J.updateQueue,$.flags&=-2053,J.lanes&=~tt,Zi(J,$,tt)):(I&&_e&&vg($),$.flags|=1,Xi(J,$,et,tt),$.child)}function $i(J,$,_e,et,tt){if(J===null){var nt=_e.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=nt,bj(J,$,nt,et,tt)):(J=Rg(_e.type,null,et,$,$.mode,tt),J.ref=$.ref,J.return=$,$.child=J)}if(nt=J.child,!(J.lanes&tt)){var rt=nt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(rt,et)&&J.ref===$.ref)return Zi(J,$,tt)}return $.flags|=1,J=Pg(nt,et),J.ref=$.ref,J.return=$,$.child=J}function bj(J,$,_e,et,tt){if(J!==null){var nt=J.memoizedProps;if(Ie(nt,et)&&J.ref===$.ref)if(dh=!1,$.pendingProps=et=nt,(J.lanes&tt)!==0)J.flags&131072&&(dh=!0);else return $.lanes=J.lanes,Zi(J,$,tt)}return cj(J,$,_e,et,tt)}function dj(J,$,_e){var et=$.pendingProps,tt=et.children,nt=J!==null?J.memoizedState:null;if(et.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_e;else{if(!(_e&1073741824))return J=nt!==null?nt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:J,cachePool:null,transitions:null},$.updateQueue=null,G(ej,fj),fj|=J,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=nt!==null?nt.baseLanes:_e,G(ej,fj),fj|=et}else nt!==null?(et=nt.baseLanes|_e,$.memoizedState=null):et=_e,G(ej,fj),fj|=et;return Xi(J,$,tt,_e),$.child}function gj(J,$){var _e=$.ref;(J===null&&_e!==null||J!==null&&J.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function cj(J,$,_e,et,tt){var nt=Zf(_e)?Xf:H.current;return nt=Yf($,nt),ch($,tt),_e=Nh(J,$,_e,et,nt,tt),et=Sh(),J!==null&&!dh?($.updateQueue=J.updateQueue,$.flags&=-2053,J.lanes&=~tt,Zi(J,$,tt)):(I&&et&&vg($),$.flags|=1,Xi(J,$,_e,tt),$.child)}function hj(J,$,_e,et,tt){if(Zf(_e)){var nt=!0;cg($)}else nt=!1;if(ch($,tt),$.stateNode===null)ij(J,$),Gi($,_e,et),Ii($,_e,et,tt),et=!0;else if(J===null){var rt=$.stateNode,it=$.memoizedProps;rt.props=it;var ot=rt.context,st=_e.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf(_e)?Xf:H.current,st=Yf($,st));var at=_e.getDerivedStateFromProps,ct=typeof at=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ct||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(it!==et||ot!==st)&&Hi($,rt,et,st),jh=!1;var ut=$.memoizedState;rt.state=ut,qh($,et,rt,tt),ot=$.memoizedState,it!==et||ut!==ot||Wf.current||jh?(typeof at=="function"&&(Di($,_e,at,et),ot=$.memoizedState),(it=jh||Fi($,_e,it,et,ut,ot,st))?(ct||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&($.flags|=4194308)):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=et,$.memoizedState=ot),rt.props=et,rt.state=ot,rt.context=st,et=it):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),et=!1)}else{rt=$.stateNode,lh(J,$),it=$.memoizedProps,st=$.type===$.elementType?it:Ci($.type,it),rt.props=st,ct=$.pendingProps,ut=rt.context,ot=_e.contextType,typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(_e)?Xf:H.current,ot=Yf($,ot));var ft=_e.getDerivedStateFromProps;(at=typeof ft=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(it!==ct||ut!==ot)&&Hi($,rt,et,ot),jh=!1,ut=$.memoizedState,rt.state=ut,qh($,et,rt,tt);var dt=$.memoizedState;it!==ct||ut!==dt||Wf.current||jh?(typeof ft=="function"&&(Di($,_e,ft,et),dt=$.memoizedState),(st=jh||Fi($,_e,st,et,ut,dt,ot)||!1)?(at||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(et,dt,ot),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(et,dt,ot)),typeof rt.componentDidUpdate=="function"&&($.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof rt.componentDidUpdate!="function"||it===J.memoizedProps&&ut===J.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||it===J.memoizedProps&&ut===J.memoizedState||($.flags|=1024),$.memoizedProps=et,$.memoizedState=dt),rt.props=et,rt.state=dt,rt.context=ot,et=st):(typeof rt.componentDidUpdate!="function"||it===J.memoizedProps&&ut===J.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||it===J.memoizedProps&&ut===J.memoizedState||($.flags|=1024),et=!1)}return jj(J,$,_e,et,nt,tt)}function jj(J,$,_e,et,tt,nt){gj(J,$);var rt=($.flags&128)!==0;if(!et&&!rt)return tt&&dg($,_e,!1),Zi(J,$,nt);et=$.stateNode,Wi.current=$;var it=rt&&typeof _e.getDerivedStateFromError!="function"?null:et.render();return $.flags|=1,J!==null&&rt?($.child=Ug($,J.child,null,nt),$.child=Ug($,null,it,nt)):Xi(J,$,it,nt),$.memoizedState=et.state,tt&&dg($,_e,!0),$.child}function kj(J){var $=J.stateNode;$.pendingContext?ag(J,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(J,$.context,!1),yh(J,$.containerInfo)}function lj(J,$,_e,et,tt){return Ig(),Jg(tt),$.flags|=256,Xi(J,$,_e,et),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(J){return{baseLanes:J,cachePool:null,transitions:null}}function oj(J,$,_e){var et=$.pendingProps,tt=L.current,nt=!1,rt=($.flags&128)!==0,it;if((it=rt)||(it=J!==null&&J.memoizedState===null?!1:(tt&2)!==0),it?(nt=!0,$.flags&=-129):(J===null||J.memoizedState!==null)&&(tt|=1),G(L,tt&1),J===null)return Eg($),J=$.memoizedState,J!==null&&(J=J.dehydrated,J!==null)?($.mode&1?J.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(rt=et.children,J=et.fallback,nt?(et=$.mode,nt=$.child,rt={mode:"hidden",children:rt},!(et&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=rt):nt=pj(rt,et,0,null),J=Tg(J,et,_e,null),nt.return=$,J.return=$,nt.sibling=J,$.child=nt,$.child.memoizedState=nj(_e),$.memoizedState=mj,J):qj($,rt));if(tt=J.memoizedState,tt!==null&&(it=tt.dehydrated,it!==null))return rj(J,$,rt,et,it,tt,_e);if(nt){nt=et.fallback,rt=$.mode,tt=J.child,it=tt.sibling;var ot={mode:"hidden",children:et.children};return!(rt&1)&&$.child!==tt?(et=$.child,et.childLanes=0,et.pendingProps=ot,$.deletions=null):(et=Pg(tt,ot),et.subtreeFlags=tt.subtreeFlags&14680064),it!==null?nt=Pg(it,nt):(nt=Tg(nt,rt,_e,null),nt.flags|=2),nt.return=$,et.return=$,et.sibling=nt,$.child=et,et=nt,nt=$.child,rt=J.child.memoizedState,rt=rt===null?nj(_e):{baseLanes:rt.baseLanes|_e,cachePool:null,transitions:rt.transitions},nt.memoizedState=rt,nt.childLanes=J.childLanes&~_e,$.memoizedState=mj,et}return nt=J.child,J=nt.sibling,et=Pg(nt,{mode:"visible",children:et.children}),!($.mode&1)&&(et.lanes=_e),et.return=$,et.sibling=null,J!==null&&(_e=$.deletions,_e===null?($.deletions=[J],$.flags|=16):_e.push(J)),$.child=et,$.memoizedState=null,et}function qj(J,$){return $=pj({mode:"visible",children:$},J.mode,0,null),$.return=J,J.child=$}function sj(J,$,_e,et){return et!==null&&Jg(et),Ug($,J.child,null,_e),J=qj($,$.pendingProps.children),J.flags|=2,$.memoizedState=null,J}function rj(J,$,_e,et,tt,nt,rt){if(_e)return $.flags&256?($.flags&=-257,et=Ki(Error(p$1(422))),sj(J,$,rt,et)):$.memoizedState!==null?($.child=J.child,$.flags|=128,null):(nt=et.fallback,tt=$.mode,et=pj({mode:"visible",children:et.children},tt,0,null),nt=Tg(nt,tt,rt,null),nt.flags|=2,et.return=$,nt.return=$,et.sibling=nt,$.child=et,$.mode&1&&Ug($,J.child,null,rt),$.child.memoizedState=nj(rt),$.memoizedState=mj,nt);if(!($.mode&1))return sj(J,$,rt,null);if(tt.data==="$!"){if(et=tt.nextSibling&&tt.nextSibling.dataset,et)var it=et.dgst;return et=it,nt=Error(p$1(419)),et=Ki(nt,et,void 0),sj(J,$,rt,et)}if(it=(rt&J.childLanes)!==0,dh||it){if(et=Q,et!==null){switch(rt&-rt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(et.suspendedLanes|rt)?0:tt,tt!==0&&tt!==nt.retryLane&&(nt.retryLane=tt,ih(J,tt),gi(et,J,tt,-1))}return tj(),et=Ki(Error(p$1(421))),sj(J,$,rt,et)}return tt.data==="$?"?($.flags|=128,$.child=J.child,$=uj.bind(null,J),tt._reactRetry=$,null):(J=nt.treeContext,yg=Lf(tt.nextSibling),xg=$,I=!0,zg=null,J!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=J.id,sg=J.overflow,qg=$),$=qj($,et.children),$.flags|=4096,$)}function vj(J,$,_e){J.lanes|=$;var et=J.alternate;et!==null&&(et.lanes|=$),bh(J.return,$,_e)}function wj(J,$,_e,et,tt){var nt=J.memoizedState;nt===null?J.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:et,tail:_e,tailMode:tt}:(nt.isBackwards=$,nt.rendering=null,nt.renderingStartTime=0,nt.last=et,nt.tail=_e,nt.tailMode=tt)}function xj(J,$,_e){var et=$.pendingProps,tt=et.revealOrder,nt=et.tail;if(Xi(J,$,et.children,_e),et=L.current,et&2)et=et&1|2,$.flags|=128;else{if(J!==null&&J.flags&128)e:for(J=$.child;J!==null;){if(J.tag===13)J.memoizedState!==null&&vj(J,_e,$);else if(J.tag===19)vj(J,_e,$);else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===$)break e;for(;J.sibling===null;){if(J.return===null||J.return===$)break e;J=J.return}J.sibling.return=J.return,J=J.sibling}et&=1}if(G(L,et),!($.mode&1))$.memoizedState=null;else switch(tt){case"forwards":for(_e=$.child,tt=null;_e!==null;)J=_e.alternate,J!==null&&Ch(J)===null&&(tt=_e),_e=_e.sibling;_e=tt,_e===null?(tt=$.child,$.child=null):(tt=_e.sibling,_e.sibling=null),wj($,!1,tt,_e,nt);break;case"backwards":for(_e=null,tt=$.child,$.child=null;tt!==null;){if(J=tt.alternate,J!==null&&Ch(J)===null){$.child=tt;break}J=tt.sibling,tt.sibling=_e,_e=tt,tt=J}wj($,!0,_e,null,nt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(J,$){!($.mode&1)&&J!==null&&(J.alternate=null,$.alternate=null,$.flags|=2)}function Zi(J,$,_e){if(J!==null&&($.dependencies=J.dependencies),rh|=$.lanes,!(_e&$.childLanes))return null;if(J!==null&&$.child!==J.child)throw Error(p$1(153));if($.child!==null){for(J=$.child,_e=Pg(J,J.pendingProps),$.child=_e,_e.return=$;J.sibling!==null;)J=J.sibling,_e=_e.sibling=Pg(J,J.pendingProps),_e.return=$;_e.sibling=null}return $.child}function yj(J,$,_e){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var et=$.type._context,tt=$.memoizedProps.value;G(Wg,et._currentValue),et._currentValue=tt;break;case 13:if(et=$.memoizedState,et!==null)return et.dehydrated!==null?(G(L,L.current&1),$.flags|=128,null):_e&$.child.childLanes?oj(J,$,_e):(G(L,L.current&1),J=Zi(J,$,_e),J!==null?J.sibling:null);G(L,L.current&1);break;case 19:if(et=(_e&$.childLanes)!==0,J.flags&128){if(et)return xj(J,$,_e);$.flags|=128}if(tt=$.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L,L.current),et)break;return null;case 22:case 23:return $.lanes=0,dj(J,$,_e)}return Zi(J,$,_e)}var zj,Aj,Bj,Cj;zj=function(J,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)J.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}},Aj=function(){},Bj=function(J,$,_e,et){var tt=J.memoizedProps;if(tt!==et){J=$.stateNode,xh(uh.current);var nt=null;switch(_e){case"input":tt=Ya(J,tt),et=Ya(J,et),nt=[];break;case"select":tt=A({},tt,{value:void 0}),et=A({},et,{value:void 0}),nt=[];break;case"textarea":tt=gb(J,tt),et=gb(J,et),nt=[];break;default:typeof tt.onClick!="function"&&typeof et.onClick=="function"&&(J.onclick=Bf)}ub(_e,et);var rt;_e=null;for(st in tt)if(!et.hasOwnProperty(st)&&tt.hasOwnProperty(st)&&tt[st]!=null)if(st==="style"){var it=tt[st];for(rt in it)it.hasOwnProperty(rt)&&(_e||(_e={}),_e[rt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?nt||(nt=[]):(nt=nt||[]).push(st,null));for(st in et){var ot=et[st];if(it=tt!=null?tt[st]:void 0,et.hasOwnProperty(st)&&ot!==it&&(ot!=null||it!=null))if(st==="style")if(it){for(rt in it)!it.hasOwnProperty(rt)||ot&&ot.hasOwnProperty(rt)||(_e||(_e={}),_e[rt]="");for(rt in ot)ot.hasOwnProperty(rt)&&it[rt]!==ot[rt]&&(_e||(_e={}),_e[rt]=ot[rt])}else _e||(nt||(nt=[]),nt.push(st,_e)),_e=ot;else st==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,it=it?it.__html:void 0,ot!=null&&it!==ot&&(nt=nt||[]).push(st,ot)):st==="children"?typeof ot!="string"&&typeof ot!="number"||(nt=nt||[]).push(st,""+ot):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(ot!=null&&st==="onScroll"&&D("scroll",J),nt||it===ot||(nt=[])):(nt=nt||[]).push(st,ot))}_e&&(nt=nt||[]).push("style",_e);var st=nt;($.updateQueue=st)&&($.flags|=4)}},Cj=function(J,$,_e,et){_e!==et&&($.flags|=4)};function Dj(J,$){if(!I)switch(J.tailMode){case"hidden":$=J.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?J.tail=null:_e.sibling=null;break;case"collapsed":_e=J.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$||J.tail===null?J.tail=null:J.tail.sibling=null:et.sibling=null}}function S(J){var $=J.alternate!==null&&J.alternate.child===J.child,_e=0,et=0;if($)for(var tt=J.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags&14680064,et|=tt.flags&14680064,tt.return=J,tt=tt.sibling;else for(tt=J.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags,et|=tt.flags,tt.return=J,tt=tt.sibling;return J.subtreeFlags|=et,J.childLanes=_e,$}function Ej(J,$,_e){var et=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S($),null;case 1:return Zf($.type)&&$f(),S($),null;case 3:return et=$.stateNode,zh(),E(Wf),E(H),Eh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(J===null||J.child===null)&&(Gg($)?$.flags|=4:J===null||J.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(J,$),S($),null;case 5:Bh($);var tt=xh(wh.current);if(_e=$.type,J!==null&&$.stateNode!=null)Bj(J,$,_e,et,tt),J.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!et){if($.stateNode===null)throw Error(p$1(166));return S($),null}if(J=xh(uh.current),Gg($)){et=$.stateNode,_e=$.type;var nt=$.memoizedProps;switch(et[Of]=$,et[Pf]=nt,J=($.mode&1)!==0,_e){case"dialog":D("cancel",et),D("close",et);break;case"iframe":case"object":case"embed":D("load",et);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],et);break;case"source":D("error",et);break;case"img":case"image":case"link":D("error",et),D("load",et);break;case"details":D("toggle",et);break;case"input":Za(et,nt),D("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},D("invalid",et);break;case"textarea":hb(et,nt),D("invalid",et)}ub(_e,nt),tt=null;for(var rt in nt)if(nt.hasOwnProperty(rt)){var it=nt[rt];rt==="children"?typeof it=="string"?et.textContent!==it&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,it,J),tt=["children",it]):typeof it=="number"&&et.textContent!==""+it&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,it,J),tt=["children",""+it]):ea.hasOwnProperty(rt)&&it!=null&&rt==="onScroll"&&D("scroll",et)}switch(_e){case"input":Va(et),db(et,nt,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}et=tt,$.updateQueue=et,et!==null&&($.flags|=4)}else{rt=tt.nodeType===9?tt:tt.ownerDocument,J==="http://www.w3.org/1999/xhtml"&&(J=kb(_e)),J==="http://www.w3.org/1999/xhtml"?_e==="script"?(J=rt.createElement("div"),J.innerHTML="<script><\/script>",J=J.removeChild(J.firstChild)):typeof et.is=="string"?J=rt.createElement(_e,{is:et.is}):(J=rt.createElement(_e),_e==="select"&&(rt=J,et.multiple?rt.multiple=!0:et.size&&(rt.size=et.size))):J=rt.createElementNS(J,_e),J[Of]=$,J[Pf]=et,zj(J,$,!1,!1),$.stateNode=J;e:{switch(rt=vb(_e,et),_e){case"dialog":D("cancel",J),D("close",J),tt=et;break;case"iframe":case"object":case"embed":D("load",J),tt=et;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],J);tt=et;break;case"source":D("error",J),tt=et;break;case"img":case"image":case"link":D("error",J),D("load",J),tt=et;break;case"details":D("toggle",J),tt=et;break;case"input":Za(J,et),tt=Ya(J,et),D("invalid",J);break;case"option":tt=et;break;case"select":J._wrapperState={wasMultiple:!!et.multiple},tt=A({},et,{value:void 0}),D("invalid",J);break;case"textarea":hb(J,et),tt=gb(J,et),D("invalid",J);break;default:tt=et}ub(_e,tt),it=tt;for(nt in it)if(it.hasOwnProperty(nt)){var ot=it[nt];nt==="style"?sb(J,ot):nt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(J,ot)):nt==="children"?typeof ot=="string"?(_e!=="textarea"||ot!=="")&&ob(J,ot):typeof ot=="number"&&ob(J,""+ot):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?ot!=null&&nt==="onScroll"&&D("scroll",J):ot!=null&&ta(J,nt,ot,rt))}switch(_e){case"input":Va(J),db(J,et,!1);break;case"textarea":Va(J),jb(J);break;case"option":et.value!=null&&J.setAttribute("value",""+Sa(et.value));break;case"select":J.multiple=!!et.multiple,nt=et.value,nt!=null?fb(J,!!et.multiple,nt,!1):et.defaultValue!=null&&fb(J,!!et.multiple,et.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(J.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S($),null;case 6:if(J&&$.stateNode!=null)Cj(J,$,J.memoizedProps,et);else{if(typeof et!="string"&&$.stateNode===null)throw Error(p$1(166));if(_e=xh(wh.current),xh(uh.current),Gg($)){if(et=$.stateNode,_e=$.memoizedProps,et[Of]=$,(nt=et.nodeValue!==_e)&&(J=xg,J!==null))switch(J.tag){case 3:Af(et.nodeValue,_e,(J.mode&1)!==0);break;case 5:J.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,_e,(J.mode&1)!==0)}nt&&($.flags|=4)}else et=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(et),et[Of]=$,$.stateNode=et}return S($),null;case 13:if(E(L),et=$.memoizedState,J===null||J.memoizedState!==null&&J.memoizedState.dehydrated!==null){if(I&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,nt=!1;else if(nt=Gg($),et!==null&&et.dehydrated!==null){if(J===null){if(!nt)throw Error(p$1(318));if(nt=$.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$1(317));nt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S($),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(et=et!==null,et!==(J!==null&&J.memoizedState!==null)&&et&&($.child.flags|=8192,$.mode&1&&(J===null||L.current&1?T===0&&(T=3):tj())),$.updateQueue!==null&&($.flags|=4),S($),null);case 4:return zh(),Aj(J,$),J===null&&sf($.stateNode.containerInfo),S($),null;case 10:return ah($.type._context),S($),null;case 17:return Zf($.type)&&$f(),S($),null;case 19:if(E(L),nt=$.memoizedState,nt===null)return S($),null;if(et=($.flags&128)!==0,rt=nt.rendering,rt===null)if(et)Dj(nt,!1);else{if(T!==0||J!==null&&J.flags&128)for(J=$.child;J!==null;){if(rt=Ch(J),rt!==null){for($.flags|=128,Dj(nt,!1),et=rt.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),$.subtreeFlags=0,et=_e,_e=$.child;_e!==null;)nt=_e,J=et,nt.flags&=14680066,rt=nt.alternate,rt===null?(nt.childLanes=0,nt.lanes=J,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=rt.childLanes,nt.lanes=rt.lanes,nt.child=rt.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=rt.memoizedProps,nt.memoizedState=rt.memoizedState,nt.updateQueue=rt.updateQueue,nt.type=rt.type,J=rt.dependencies,nt.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext}),_e=_e.sibling;return G(L,L.current&1|2),$.child}J=J.sibling}nt.tail!==null&&B()>Gj&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304)}else{if(!et)if(J=Ch(rt),J!==null){if($.flags|=128,et=!0,_e=J.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!rt.alternate&&!I)return S($),null}else 2*B()-nt.renderingStartTime>Gj&&_e!==1073741824&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304);nt.isBackwards?(rt.sibling=$.child,$.child=rt):(_e=nt.last,_e!==null?_e.sibling=rt:$.child=rt,nt.last=rt)}return nt.tail!==null?($=nt.tail,nt.rendering=$,nt.tail=$.sibling,nt.renderingStartTime=B(),$.sibling=null,_e=L.current,G(L,et?_e&1|2:_e&1),$):(S($),null);case 22:case 23:return Hj(),et=$.memoizedState!==null,J!==null&&J.memoizedState!==null!==et&&($.flags|=8192),et&&$.mode&1?fj&1073741824&&(S($),$.subtreeFlags&6&&($.flags|=8192)):S($),null;case 24:return null;case 25:return null}throw Error(p$1(156,$.tag))}function Ij(J,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),J=$.flags,J&65536?($.flags=J&-65537|128,$):null;case 3:return zh(),E(Wf),E(H),Eh(),J=$.flags,J&65536&&!(J&128)?($.flags=J&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E(L),J=$.memoizedState,J!==null&&J.dehydrated!==null){if($.alternate===null)throw Error(p$1(340));Ig()}return J=$.flags,J&65536?($.flags=J&-65537|128,$):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(J,$){var _e=J.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(et){W(J,$,et)}else _e.current=null}function Mj(J,$,_e){try{_e()}catch(et){W(J,$,et)}}var Nj=!1;function Oj(J,$){if(Cf=dd,J=Me(),Ne(J)){if("selectionStart"in J)var _e={start:J.selectionStart,end:J.selectionEnd};else e:{_e=(_e=J.ownerDocument)&&_e.defaultView||window;var et=_e.getSelection&&_e.getSelection();if(et&&et.rangeCount!==0){_e=et.anchorNode;var tt=et.anchorOffset,nt=et.focusNode;et=et.focusOffset;try{_e.nodeType,nt.nodeType}catch{_e=null;break e}var rt=0,it=-1,ot=-1,st=0,at=0,ct=J,ut=null;t:for(;;){for(var ft;ct!==_e||tt!==0&&ct.nodeType!==3||(it=rt+tt),ct!==nt||et!==0&&ct.nodeType!==3||(ot=rt+et),ct.nodeType===3&&(rt+=ct.nodeValue.length),(ft=ct.firstChild)!==null;)ut=ct,ct=ft;for(;;){if(ct===J)break t;if(ut===_e&&++st===tt&&(it=rt),ut===nt&&++at===et&&(ot=rt),(ft=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=ft}_e=it===-1||ot===-1?null:{start:it,end:ot}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:J,selectionRange:_e},dd=!1,V=$;V!==null;)if($=V,J=$.child,($.subtreeFlags&1028)!==0&&J!==null)J.return=$,V=J;else for(;V!==null;){$=V;try{var dt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var pt=dt.memoizedProps,vt=dt.memoizedState,mt=$.stateNode,Ot=mt.getSnapshotBeforeUpdate($.elementType===$.type?pt:Ci($.type,pt),vt);mt.__reactInternalSnapshotBeforeUpdate=Ot}break;case 3:var yt=$.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(wt){W($,$.return,wt)}if(J=$.sibling,J!==null){J.return=$.return,V=J;break}V=$.return}return dt=Nj,Nj=!1,dt}function Pj(J,$,_e){var et=$.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&J)===J){var nt=tt.destroy;tt.destroy=void 0,nt!==void 0&&Mj($,_e,nt)}tt=tt.next}while(tt!==et)}}function Qj(J,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&J)===J){var et=_e.create;_e.destroy=et()}_e=_e.next}while(_e!==$)}}function Rj(J){var $=J.ref;if($!==null){var _e=J.stateNode;switch(J.tag){case 5:J=_e;break;default:J=_e}typeof $=="function"?$(J):$.current=J}}function Sj(J){var $=J.alternate;$!==null&&(J.alternate=null,Sj($)),J.child=null,J.deletions=null,J.sibling=null,J.tag===5&&($=J.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),J.stateNode=null,J.return=null,J.dependencies=null,J.memoizedProps=null,J.memoizedState=null,J.pendingProps=null,J.stateNode=null,J.updateQueue=null}function Tj(J){return J.tag===5||J.tag===3||J.tag===4}function Uj(J){e:for(;;){for(;J.sibling===null;){if(J.return===null||Tj(J.return))return null;J=J.return}for(J.sibling.return=J.return,J=J.sibling;J.tag!==5&&J.tag!==6&&J.tag!==18;){if(J.flags&2||J.child===null||J.tag===4)continue e;J.child.return=J,J=J.child}if(!(J.flags&2))return J.stateNode}}function Vj(J,$,_e){var et=J.tag;if(et===5||et===6)J=J.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(J,$):_e.insertBefore(J,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(J,_e)):($=_e,$.appendChild(J)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(et!==4&&(J=J.child,J!==null))for(Vj(J,$,_e),J=J.sibling;J!==null;)Vj(J,$,_e),J=J.sibling}function Wj(J,$,_e){var et=J.tag;if(et===5||et===6)J=J.stateNode,$?_e.insertBefore(J,$):_e.appendChild(J);else if(et!==4&&(J=J.child,J!==null))for(Wj(J,$,_e),J=J.sibling;J!==null;)Wj(J,$,_e),J=J.sibling}var X=null,Xj=!1;function Yj(J,$,_e){for(_e=_e.child;_e!==null;)Zj(J,$,_e),_e=_e.sibling}function Zj(J,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Lj(_e,$);case 6:var et=X,tt=Xj;X=null,Yj(J,$,_e),X=et,Xj=tt,X!==null&&(Xj?(J=X,_e=_e.stateNode,J.nodeType===8?J.parentNode.removeChild(_e):J.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?(J=X,_e=_e.stateNode,J.nodeType===8?Kf(J.parentNode,_e):J.nodeType===1&&Kf(J,_e),bd(J)):Kf(X,_e.stateNode));break;case 4:et=X,tt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj(J,$,_e),X=et,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(et=_e.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){tt=et=et.next;do{var nt=tt,rt=nt.destroy;nt=nt.tag,rt!==void 0&&(nt&2||nt&4)&&Mj(_e,$,rt),tt=tt.next}while(tt!==et)}Yj(J,$,_e);break;case 1:if(!U&&(Lj(_e,$),et=_e.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=_e.memoizedProps,et.state=_e.memoizedState,et.componentWillUnmount()}catch(it){W(_e,$,it)}Yj(J,$,_e);break;case 21:Yj(J,$,_e);break;case 22:_e.mode&1?(U=(et=U)||_e.memoizedState!==null,Yj(J,$,_e),U=et):Yj(J,$,_e);break;default:Yj(J,$,_e)}}function ak(J){var $=J.updateQueue;if($!==null){J.updateQueue=null;var _e=J.stateNode;_e===null&&(_e=J.stateNode=new Kj),$.forEach(function(et){var tt=bk.bind(null,J,et);_e.has(et)||(_e.add(et),et.then(tt,tt))})}}function ck(J,$){var _e=$.deletions;if(_e!==null)for(var et=0;et<_e.length;et++){var tt=_e[et];try{var nt=J,rt=$,it=rt;e:for(;it!==null;){switch(it.tag){case 5:X=it.stateNode,Xj=!1;break e;case 3:X=it.stateNode.containerInfo,Xj=!0;break e;case 4:X=it.stateNode.containerInfo,Xj=!0;break e}it=it.return}if(X===null)throw Error(p$1(160));Zj(nt,rt,tt),X=null,Xj=!1;var ot=tt.alternate;ot!==null&&(ot.return=null),tt.return=null}catch(st){W(tt,$,st)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,J),$=$.sibling}function dk(J,$){var _e=J.alternate,et=J.flags;switch(J.tag){case 0:case 11:case 14:case 15:if(ck($,J),ek(J),et&4){try{Pj(3,J,J.return),Qj(3,J)}catch(pt){W(J,J.return,pt)}try{Pj(5,J,J.return)}catch(pt){W(J,J.return,pt)}}break;case 1:ck($,J),ek(J),et&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck($,J),ek(J),et&512&&_e!==null&&Lj(_e,_e.return),J.flags&32){var tt=J.stateNode;try{ob(tt,"")}catch(pt){W(J,J.return,pt)}}if(et&4&&(tt=J.stateNode,tt!=null)){var nt=J.memoizedProps,rt=_e!==null?_e.memoizedProps:nt,it=J.type,ot=J.updateQueue;if(J.updateQueue=null,ot!==null)try{it==="input"&&nt.type==="radio"&&nt.name!=null&&ab(tt,nt),vb(it,rt);var st=vb(it,nt);for(rt=0;rt<ot.length;rt+=2){var at=ot[rt],ct=ot[rt+1];at==="style"?sb(tt,ct):at==="dangerouslySetInnerHTML"?nb(tt,ct):at==="children"?ob(tt,ct):ta(tt,at,ct,st)}switch(it){case"input":bb(tt,nt);break;case"textarea":ib(tt,nt);break;case"select":var ut=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!nt.multiple;var ft=nt.value;ft!=null?fb(tt,!!nt.multiple,ft,!1):ut!==!!nt.multiple&&(nt.defaultValue!=null?fb(tt,!!nt.multiple,nt.defaultValue,!0):fb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}tt[Pf]=nt}catch(pt){W(J,J.return,pt)}}break;case 6:if(ck($,J),ek(J),et&4){if(J.stateNode===null)throw Error(p$1(162));tt=J.stateNode,nt=J.memoizedProps;try{tt.nodeValue=nt}catch(pt){W(J,J.return,pt)}}break;case 3:if(ck($,J),ek(J),et&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(pt){W(J,J.return,pt)}break;case 4:ck($,J),ek(J);break;case 13:ck($,J),ek(J),tt=J.child,tt.flags&8192&&(nt=tt.memoizedState!==null,tt.stateNode.isHidden=nt,!nt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B())),et&4&&ak(J);break;case 22:if(at=_e!==null&&_e.memoizedState!==null,J.mode&1?(U=(st=U)||at,ck($,J),U=st):ck($,J),ek(J),et&8192){if(st=J.memoizedState!==null,(J.stateNode.isHidden=st)&&!at&&J.mode&1)for(V=J,at=J.child;at!==null;){for(ct=V=at;V!==null;){switch(ut=V,ft=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var dt=ut.stateNode;if(typeof dt.componentWillUnmount=="function"){et=ut,_e=ut.return;try{$=et,dt.props=$.memoizedProps,dt.state=$.memoizedState,dt.componentWillUnmount()}catch(pt){W(et,_e,pt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ct);continue}}ft!==null?(ft.return=ut,V=ft):gk(ct)}at=at.sibling}e:for(at=null,ct=J;;){if(ct.tag===5){if(at===null){at=ct;try{tt=ct.stateNode,st?(nt=tt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(it=ct.stateNode,ot=ct.memoizedProps.style,rt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,it.style.display=rb("display",rt))}catch(pt){W(J,J.return,pt)}}}else if(ct.tag===6){if(at===null)try{ct.stateNode.nodeValue=st?"":ct.memoizedProps}catch(pt){W(J,J.return,pt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===J)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===J)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===J)break e;at===ct&&(at=null),ct=ct.return}at===ct&&(at=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck($,J),ek(J),et&4&&ak(J);break;case 21:break;default:ck($,J),ek(J)}}function ek(J){var $=J.flags;if($&2){try{e:{for(var _e=J.return;_e!==null;){if(Tj(_e)){var et=_e;break e}_e=_e.return}throw Error(p$1(160))}switch(et.tag){case 5:var tt=et.stateNode;et.flags&32&&(ob(tt,""),et.flags&=-33);var nt=Uj(J);Wj(J,nt,tt);break;case 3:case 4:var rt=et.stateNode.containerInfo,it=Uj(J);Vj(J,it,rt);break;default:throw Error(p$1(161))}}catch(ot){W(J,J.return,ot)}J.flags&=-3}$&4096&&(J.flags&=-4097)}function hk(J,$,_e){V=J,ik(J)}function ik(J,$,_e){for(var et=(J.mode&1)!==0;V!==null;){var tt=V,nt=tt.child;if(tt.tag===22&&et){var rt=tt.memoizedState!==null||Jj;if(!rt){var it=tt.alternate,ot=it!==null&&it.memoizedState!==null||U;it=Jj;var st=U;if(Jj=rt,(U=ot)&&!st)for(V=tt;V!==null;)rt=V,ot=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(tt):ot!==null?(ot.return=rt,V=ot):jk(tt);for(;nt!==null;)V=nt,ik(nt),nt=nt.sibling;V=tt,Jj=it,U=st}kk(J)}else tt.subtreeFlags&8772&&nt!==null?(nt.return=tt,V=nt):kk(J)}}function kk(J){for(;V!==null;){var $=V;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U||Qj(5,$);break;case 1:var et=$.stateNode;if($.flags&4&&!U)if(_e===null)et.componentDidMount();else{var tt=$.elementType===$.type?_e.memoizedProps:Ci($.type,_e.memoizedProps);et.componentDidUpdate(tt,_e.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var nt=$.updateQueue;nt!==null&&sh($,nt,et);break;case 3:var rt=$.updateQueue;if(rt!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}sh($,rt,_e)}break;case 5:var it=$.stateNode;if(_e===null&&$.flags&4){_e=it;var ot=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&_e.focus();break;case"img":ot.src&&(_e.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var st=$.alternate;if(st!==null){var at=st.memoizedState;if(at!==null){var ct=at.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||$.flags&512&&Rj($)}catch(ut){W($,$.return,ut)}}if($===J){V=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function gk(J){for(;V!==null;){var $=V;if($===J){V=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function jk(J){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Qj(4,$)}catch(ot){W($,_e,ot)}break;case 1:var et=$.stateNode;if(typeof et.componentDidMount=="function"){var tt=$.return;try{et.componentDidMount()}catch(ot){W($,tt,ot)}}var nt=$.return;try{Rj($)}catch(ot){W($,nt,ot)}break;case 5:var rt=$.return;try{Rj($)}catch(ot){W($,rt,ot)}}}catch(ot){W($,$.return,ot)}if($===J){V=null;break}var it=$.sibling;if(it!==null){it.return=$.return,V=it;break}V=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(J){return J.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(J=C$1,J!==0||(J=window.event,J=J===void 0?16:jd(J.type)),J):1}function gi(J,$,_e,et){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(J,_e,et),(!(K&2)||J!==Q)&&(J===Q&&(!(K&2)&&(qk|=_e),T===4&&Ck(J,Z)),Dk(J,et),_e===1&&K===0&&!($.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(J,$){var _e=J.callbackNode;wc(J,$);var et=uc(J,J===Q?Z:0);if(et===0)_e!==null&&bc(_e),J.callbackNode=null,J.callbackPriority=0;else if($=et&-et,J.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)J.tag===0?ig(Ek.bind(null,J)):hg(Ek.bind(null,J)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(et)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,J))}J.callbackPriority=$,J.callbackNode=_e}}function Gk(J,$){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var _e=J.callbackNode;if(Hk()&&J.callbackNode!==_e)return null;var et=uc(J,J===Q?Z:0);if(et===0)return null;if(et&30||et&J.expiredLanes||$)$=Ik(J,et);else{$=et;var tt=K;K|=2;var nt=Jk();(Q!==J||Z!==$)&&(uk=null,Gj=B()+500,Kk(J,$));do try{Lk();break}catch(it){Mk(J,it)}while(!0);$g(),mk.current=nt,K=tt,Y!==null?$=0:(Q=null,Z=0,$=T)}if($!==0){if($===2&&(tt=xc(J),tt!==0&&(et=tt,$=Nk(J,tt))),$===1)throw _e=pk,Kk(J,0),Ck(J,et),Dk(J,B()),_e;if($===6)Ck(J,et);else{if(tt=J.current.alternate,!(et&30)&&!Ok(tt)&&($=Ik(J,et),$===2&&(nt=xc(J),nt!==0&&(et=nt,$=Nk(J,nt))),$===1))throw _e=pk,Kk(J,0),Ck(J,et),Dk(J,B()),_e;switch(J.finishedWork=tt,J.finishedLanes=et,$){case 0:case 1:throw Error(p$1(345));case 2:Pk(J,tk,uk);break;case 3:if(Ck(J,et),(et&130023424)===et&&($=fk+500-B(),10<$)){if(uc(J,0)!==0)break;if(tt=J.suspendedLanes,(tt&et)!==et){R(),J.pingedLanes|=J.suspendedLanes&tt;break}J.timeoutHandle=Ff(Pk.bind(null,J,tk,uk),$);break}Pk(J,tk,uk);break;case 4:if(Ck(J,et),(et&4194240)===et)break;for($=J.eventTimes,tt=-1;0<et;){var rt=31-oc(et);nt=1<<rt,rt=$[rt],rt>tt&&(tt=rt),et&=~nt}if(et=tt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*lk(et/1960))-et,10<et){J.timeoutHandle=Ff(Pk.bind(null,J,tk,uk),et);break}Pk(J,tk,uk);break;case 5:Pk(J,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(J,B()),J.callbackNode===_e?Gk.bind(null,J):null}function Nk(J,$){var _e=sk;return J.current.memoizedState.isDehydrated&&(Kk(J,$).flags|=256),J=Ik(J,$),J!==2&&($=tk,tk=_e,$!==null&&Fj($)),J}function Fj(J){tk===null?tk=J:tk.push.apply(tk,J)}function Ok(J){for(var $=J;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.getSnapshot;tt=tt.value;try{if(!He(nt(),tt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===J)break;for(;$.sibling===null;){if($.return===null||$.return===J)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(J,$){for($&=~rk,$&=~qk,J.suspendedLanes|=$,J.pingedLanes&=~$,J=J.expirationTimes;0<$;){var _e=31-oc($),et=1<<_e;J[_e]=-1,$&=~et}}function Ek(J){if(K&6)throw Error(p$1(327));Hk();var $=uc(J,0);if(!($&1))return Dk(J,B()),null;var _e=Ik(J,$);if(J.tag!==0&&_e===2){var et=xc(J);et!==0&&($=et,_e=Nk(J,et))}if(_e===1)throw _e=pk,Kk(J,0),Ck(J,$),Dk(J,B()),_e;if(_e===6)throw Error(p$1(345));return J.finishedWork=J.current.alternate,J.finishedLanes=$,Pk(J,tk,uk),Dk(J,B()),null}function Qk(J,$){var _e=K;K|=1;try{return J($)}finally{K=_e,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(J){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var _e=ok.transition,et=C$1;try{if(ok.transition=null,C$1=1,J)return J()}finally{C$1=et,ok.transition=_e,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(J,$){J.finishedWork=null,J.finishedLanes=0;var _e=J.timeoutHandle;if(_e!==-1&&(J.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var et=_e;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(et);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(et.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=J,Y=J=Pg(J.current,null),Z=fj=$,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(_e=fh[$],et=_e.interleaved,et!==null){_e.interleaved=null;var tt=et.next,nt=_e.pending;if(nt!==null){var rt=nt.next;nt.next=tt,et.next=rt}_e.pending=et}fh=null}return J}function Mk(J,$){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var et=M.memoizedState;et!==null;){var tt=et.queue;tt!==null&&(tt.pending=null),et=et.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T=1,pk=$,Y=null;break}e:{var nt=J,rt=_e.return,it=_e,ot=$;if($=Z,it.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var st=ot,at=it,ct=at.tag;if(!(at.mode&1)&&(ct===0||ct===11||ct===15)){var ut=at.alternate;ut?(at.updateQueue=ut.updateQueue,at.memoizedState=ut.memoizedState,at.lanes=ut.lanes):(at.updateQueue=null,at.memoizedState=null)}var ft=Ui(rt);if(ft!==null){ft.flags&=-257,Vi(ft,rt,it,nt,$),ft.mode&1&&Si(nt,st,$),$=ft,ot=st;var dt=$.updateQueue;if(dt===null){var pt=new Set;pt.add(ot),$.updateQueue=pt}else dt.add(ot);break e}else{if(!($&1)){Si(nt,st,$),tj();break e}ot=Error(p$1(426))}}else if(I&&it.mode&1){var vt=Ui(rt);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Vi(vt,rt,it,nt,$),Jg(Ji(ot,it));break e}}nt=ot=Ji(ot,it),T!==4&&(T=2),sk===null?sk=[nt]:sk.push(nt),nt=rt;do{switch(nt.tag){case 3:nt.flags|=65536,$&=-$,nt.lanes|=$;var mt=Ni(nt,ot,$);ph(nt,mt);break e;case 1:it=ot;var Ot=nt.type,yt=nt.stateNode;if(!(nt.flags&128)&&(typeof Ot.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Ri===null||!Ri.has(yt)))){nt.flags|=65536,$&=-$,nt.lanes|=$;var wt=Qi(nt,it,$);ph(nt,wt);break e}}nt=nt.return}while(nt!==null)}Sk(_e)}catch(bt){$=bt,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var J=mk.current;return mk.current=Rh,J===null?Rh:J}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(J,$){var _e=K;K|=2;var et=Jk();(Q!==J||Z!==$)&&(uk=null,Kk(J,$));do try{Tk();break}catch(tt){Mk(J,tt)}while(!0);if($g(),K=_e,mk.current=et,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(J){var $=Vk(J.alternate,J,fj);J.memoizedProps=J.pendingProps,$===null?Sk(J):Y=$,nk.current=null}function Sk(J){var $=J;do{var _e=$.alternate;if(J=$.return,$.flags&32768){if(_e=Ij(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(J!==null)J.flags|=32768,J.subtreeFlags=0,J.deletions=null;else{T=6,Y=null;return}}else if(_e=Ej(_e,$,fj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=J}while($!==null);T===0&&(T=5)}function Pk(J,$,_e){var et=C$1,tt=ok.transition;try{ok.transition=null,C$1=1,Wk(J,$,_e,et)}finally{ok.transition=tt,C$1=et}return null}function Wk(J,$,_e,et){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));_e=J.finishedWork;var tt=J.finishedLanes;if(_e===null)return null;if(J.finishedWork=null,J.finishedLanes=0,_e===J.current)throw Error(p$1(177));J.callbackNode=null,J.callbackPriority=0;var nt=_e.lanes|_e.childLanes;if(Bc(J,nt),J===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var rt=C$1;C$1=1;var it=K;K|=4,nk.current=null,Oj(J,_e),dk(_e,J),Oe(Df),dd=!!Cf,Df=Cf=null,J.current=_e,hk(_e),dc(),K=it,C$1=rt,ok.transition=nt}else J.current=_e;if(vk&&(vk=!1,wk=J,xk=tt),nt=J.pendingLanes,nt===0&&(Ri=null),mc(_e.stateNode),Dk(J,B()),$!==null)for(et=J.onRecoverableError,_e=0;_e<$.length;_e++)tt=$[_e],et(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,J=Pi,Pi=null,J;return xk&1&&J.tag!==0&&Hk(),nt=J.pendingLanes,nt&1?J===zk?yk++:(yk=0,zk=J):yk=0,jg(),null}function Hk(){if(wk!==null){var J=Dc(xk),$=ok.transition,_e=C$1;try{if(ok.transition=null,C$1=16>J?16:J,wk===null)var et=!1;else{if(J=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var tt=K;for(K|=4,V=J.current;V!==null;){var nt=V,rt=nt.child;if(V.flags&16){var it=nt.deletions;if(it!==null){for(var ot=0;ot<it.length;ot++){var st=it[ot];for(V=st;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Pj(8,at,nt)}var ct=at.child;if(ct!==null)ct.return=at,V=ct;else for(;V!==null;){at=V;var ut=at.sibling,ft=at.return;if(Sj(at),at===st){V=null;break}if(ut!==null){ut.return=ft,V=ut;break}V=ft}}}var dt=nt.alternate;if(dt!==null){var pt=dt.child;if(pt!==null){dt.child=null;do{var vt=pt.sibling;pt.sibling=null,pt=vt}while(pt!==null)}}V=nt}}if(nt.subtreeFlags&2064&&rt!==null)rt.return=nt,V=rt;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var mt=nt.sibling;if(mt!==null){mt.return=nt.return,V=mt;break e}V=nt.return}}var Ot=J.current;for(V=Ot;V!==null;){rt=V;var yt=rt.child;if(rt.subtreeFlags&2064&&yt!==null)yt.return=rt,V=yt;else e:for(rt=Ot;V!==null;){if(it=V,it.flags&2048)try{switch(it.tag){case 0:case 11:case 15:Qj(9,it)}}catch(bt){W(it,it.return,bt)}if(it===rt){V=null;break e}var wt=it.sibling;if(wt!==null){wt.return=it.return,V=wt;break e}V=it.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,J)}catch{}et=!0}return et}finally{C$1=_e,ok.transition=$}}return!1}function Xk(J,$,_e){$=Ji(_e,$),$=Ni(J,$,1),J=nh(J,$,1),$=R(),J!==null&&(Ac(J,1,$),Dk(J,$))}function W(J,$,_e){if(J.tag===3)Xk(J,J,_e);else for(;$!==null;){if($.tag===3){Xk($,J,_e);break}else if($.tag===1){var et=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et))){J=Ji(_e,J),J=Qi($,J,1),$=nh($,J,1),J=R(),$!==null&&(Ac($,1,J),Dk($,J));break}}$=$.return}}function Ti(J,$,_e){var et=J.pingCache;et!==null&&et.delete($),$=R(),J.pingedLanes|=J.suspendedLanes&_e,Q===J&&(Z&_e)===_e&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(J,0):rk|=_e),Dk(J,$)}function Yk(J,$){$===0&&(J.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=R();J=ih(J,$),J!==null&&(Ac(J,$,_e),Dk(J,_e))}function uj(J){var $=J.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Yk(J,_e)}function bk(J,$){var _e=0;switch(J.tag){case 13:var et=J.stateNode,tt=J.memoizedState;tt!==null&&(_e=tt.retryLane);break;case 19:et=J.stateNode;break;default:throw Error(p$1(314))}et!==null&&et.delete($),Yk(J,_e)}var Vk;Vk=function(J,$,_e){if(J!==null)if(J.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(J.lanes&_e)&&!($.flags&128))return dh=!1,yj(J,$,_e);dh=!!(J.flags&131072)}else dh=!1,I&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var et=$.type;ij(J,$),J=$.pendingProps;var tt=Yf($,H.current);ch($,_e),tt=Nh(null,$,et,J,tt,_e);var nt=Sh();return $.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(et)?(nt=!0,cg($)):nt=!1,$.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh($),tt.updater=Ei,$.stateNode=tt,tt._reactInternals=$,Ii($,et,J,_e),$=jj(null,$,et,!0,nt,_e)):($.tag=0,I&&nt&&vg($),Xi(null,$,tt,_e),$=$.child),$;case 16:et=$.elementType;e:{switch(ij(J,$),J=$.pendingProps,tt=et._init,et=tt(et._payload),$.type=et,tt=$.tag=Zk(et),J=Ci(et,J),tt){case 0:$=cj(null,$,et,J,_e);break e;case 1:$=hj(null,$,et,J,_e);break e;case 11:$=Yi(null,$,et,J,_e);break e;case 14:$=$i(null,$,et,Ci(et.type,J),_e);break e}throw Error(p$1(306,et,""))}return $;case 0:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),cj(J,$,et,tt,_e);case 1:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),hj(J,$,et,tt,_e);case 3:e:{if(kj($),J===null)throw Error(p$1(387));et=$.pendingProps,nt=$.memoizedState,tt=nt.element,lh(J,$),qh($,et,null,_e);var rt=$.memoizedState;if(et=rt.element,nt.isDehydrated)if(nt={element:et,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},$.updateQueue.baseState=nt,$.memoizedState=nt,$.flags&256){tt=Ji(Error(p$1(423)),$),$=lj(J,$,et,_e,tt);break e}else if(et!==tt){tt=Ji(Error(p$1(424)),$),$=lj(J,$,et,_e,tt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I=!0,zg=null,_e=Vg($,null,et,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),et===tt){$=Zi(J,$,_e);break e}Xi(J,$,et,_e)}$=$.child}return $;case 5:return Ah($),J===null&&Eg($),et=$.type,tt=$.pendingProps,nt=J!==null?J.memoizedProps:null,rt=tt.children,Ef(et,tt)?rt=null:nt!==null&&Ef(et,nt)&&($.flags|=32),gj(J,$),Xi(J,$,rt,_e),$.child;case 6:return J===null&&Eg($),null;case 13:return oj(J,$,_e);case 4:return yh($,$.stateNode.containerInfo),et=$.pendingProps,J===null?$.child=Ug($,null,et,_e):Xi(J,$,et,_e),$.child;case 11:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),Yi(J,$,et,tt,_e);case 7:return Xi(J,$,$.pendingProps,_e),$.child;case 8:return Xi(J,$,$.pendingProps.children,_e),$.child;case 12:return Xi(J,$,$.pendingProps.children,_e),$.child;case 10:e:{if(et=$.type._context,tt=$.pendingProps,nt=$.memoizedProps,rt=tt.value,G(Wg,et._currentValue),et._currentValue=rt,nt!==null)if(He(nt.value,rt)){if(nt.children===tt.children&&!Wf.current){$=Zi(J,$,_e);break e}}else for(nt=$.child,nt!==null&&(nt.return=$);nt!==null;){var it=nt.dependencies;if(it!==null){rt=nt.child;for(var ot=it.firstContext;ot!==null;){if(ot.context===et){if(nt.tag===1){ot=mh(-1,_e&-_e),ot.tag=2;var st=nt.updateQueue;if(st!==null){st=st.shared;var at=st.pending;at===null?ot.next=ot:(ot.next=at.next,at.next=ot),st.pending=ot}}nt.lanes|=_e,ot=nt.alternate,ot!==null&&(ot.lanes|=_e),bh(nt.return,_e,$),it.lanes|=_e;break}ot=ot.next}}else if(nt.tag===10)rt=nt.type===$.type?null:nt.child;else if(nt.tag===18){if(rt=nt.return,rt===null)throw Error(p$1(341));rt.lanes|=_e,it=rt.alternate,it!==null&&(it.lanes|=_e),bh(rt,_e,$),rt=nt.sibling}else rt=nt.child;if(rt!==null)rt.return=nt;else for(rt=nt;rt!==null;){if(rt===$){rt=null;break}if(nt=rt.sibling,nt!==null){nt.return=rt.return,rt=nt;break}rt=rt.return}nt=rt}Xi(J,$,tt.children,_e),$=$.child}return $;case 9:return tt=$.type,et=$.pendingProps.children,ch($,_e),tt=eh(tt),et=et(tt),$.flags|=1,Xi(J,$,et,_e),$.child;case 14:return et=$.type,tt=Ci(et,$.pendingProps),tt=Ci(et.type,tt),$i(J,$,et,tt,_e);case 15:return bj(J,$,$.type,$.pendingProps,_e);case 17:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),ij(J,$),$.tag=1,Zf(et)?(J=!0,cg($)):J=!1,ch($,_e),Gi($,et,tt),Ii($,et,tt,_e),jj(null,$,et,!0,J,_e);case 19:return xj(J,$,_e);case 22:return dj(J,$,_e)}throw Error(p$1(156,$.tag))};function Fk(J,$){return ac(J,$)}function $k(J,$,_e,et){this.tag=J,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(J,$,_e,et){return new $k(J,$,_e,et)}function aj(J){return J=J.prototype,!(!J||!J.isReactComponent)}function Zk(J){if(typeof J=="function")return aj(J)?1:0;if(J!=null){if(J=J.$$typeof,J===Da)return 11;if(J===Ga)return 14}return 2}function Pg(J,$){var _e=J.alternate;return _e===null?(_e=Bg(J.tag,$,J.key,J.mode),_e.elementType=J.elementType,_e.type=J.type,_e.stateNode=J.stateNode,_e.alternate=J,J.alternate=_e):(_e.pendingProps=$,_e.type=J.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=J.flags&14680064,_e.childLanes=J.childLanes,_e.lanes=J.lanes,_e.child=J.child,_e.memoizedProps=J.memoizedProps,_e.memoizedState=J.memoizedState,_e.updateQueue=J.updateQueue,$=J.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=J.sibling,_e.index=J.index,_e.ref=J.ref,_e}function Rg(J,$,_e,et,tt,nt){var rt=2;if(et=J,typeof J=="function")aj(J)&&(rt=1);else if(typeof J=="string")rt=5;else e:switch(J){case ya:return Tg(_e.children,tt,nt,$);case za:rt=8,tt|=8;break;case Aa:return J=Bg(12,_e,$,tt|2),J.elementType=Aa,J.lanes=nt,J;case Ea:return J=Bg(13,_e,$,tt),J.elementType=Ea,J.lanes=nt,J;case Fa:return J=Bg(19,_e,$,tt),J.elementType=Fa,J.lanes=nt,J;case Ia:return pj(_e,tt,nt,$);default:if(typeof J=="object"&&J!==null)switch(J.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,et=null;break e}throw Error(p$1(130,J==null?J:typeof J,""))}return $=Bg(rt,_e,$,tt),$.elementType=J,$.type=et,$.lanes=nt,$}function Tg(J,$,_e,et){return J=Bg(7,J,et,$),J.lanes=_e,J}function pj(J,$,_e,et){return J=Bg(22,J,et,$),J.elementType=Ia,J.lanes=_e,J.stateNode={isHidden:!1},J}function Qg(J,$,_e){return J=Bg(6,J,null,$),J.lanes=_e,J}function Sg(J,$,_e){return $=Bg(4,J.children!==null?J.children:[],J.key,$),$.lanes=_e,$.stateNode={containerInfo:J.containerInfo,pendingChildren:null,implementation:J.implementation},$}function al(J,$,_e,et,tt){this.tag=$,this.containerInfo=J,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl(J,$,_e,et,tt,nt,rt,it,ot){return J=new al(J,$,_e,it,ot),$===1?($=1,nt===!0&&($|=8)):$=0,nt=Bg(3,null,null,$),J.current=nt,nt.stateNode=J,nt.memoizedState={element:et,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),J}function cl(J,$,_e){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:J,containerInfo:$,implementation:_e}}function dl(J){if(!J)return Vf;J=J._reactInternals;e:{if(Vb(J)!==J||J.tag!==1)throw Error(p$1(170));var $=J;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$1(171))}if(J.tag===1){var _e=J.type;if(Zf(_e))return bg(J,_e,$)}return $}function el(J,$,_e,et,tt,nt,rt,it,ot){return J=bl(_e,et,!0,J,tt,nt,rt,it,ot),J.context=dl(null),_e=J.current,et=R(),tt=yi(_e),nt=mh(et,tt),nt.callback=$??null,nh(_e,nt,tt),J.current.lanes=tt,Ac(J,tt,et),Dk(J,et),J}function fl(J,$,_e,et){var tt=$.current,nt=R(),rt=yi(tt);return _e=dl(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=mh(nt,rt),$.payload={element:J},et=et===void 0?null:et,et!==null&&($.callback=et),J=nh(tt,$,rt),J!==null&&(gi(J,tt,rt,nt),oh(J,tt,rt)),rt}function gl(J){if(J=J.current,!J.child)return null;switch(J.child.tag){case 5:return J.child.stateNode;default:return J.child.stateNode}}function hl(J,$){if(J=J.memoizedState,J!==null&&J.dehydrated!==null){var _e=J.retryLane;J.retryLane=_e!==0&&_e<$?_e:$}}function il(J,$){hl(J,$),(J=J.alternate)&&hl(J,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(J){console.error(J)};function ll(J){this._internalRoot=J}ml.prototype.render=ll.prototype.render=function(J){var $=this._internalRoot;if($===null)throw Error(p$1(409));fl(J,$,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var J=this._internalRoot;if(J!==null){this._internalRoot=null;var $=J.containerInfo;Rk(function(){fl(null,J,null,null)}),$[uf]=null}};function ml(J){this._internalRoot=J}ml.prototype.unstable_scheduleHydration=function(J){if(J){var $=Hc();J={blockedOn:null,target:J,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,J),_e===0&&Vc(J)}};function nl(J){return!(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)}function ol(J){return!(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11&&(J.nodeType!==8||J.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(J,$,_e,et,tt){if(tt){if(typeof et=="function"){var nt=et;et=function(){var st=gl(rt);nt.call(st)}}var rt=el($,et,J,0,null,!1,!1,"",pl);return J._reactRootContainer=rt,J[uf]=rt.current,sf(J.nodeType===8?J.parentNode:J),Rk(),rt}for(;tt=J.lastChild;)J.removeChild(tt);if(typeof et=="function"){var it=et;et=function(){var st=gl(ot);it.call(st)}}var ot=bl(J,0,!1,null,null,!1,!1,"",pl);return J._reactRootContainer=ot,J[uf]=ot.current,sf(J.nodeType===8?J.parentNode:J),Rk(function(){fl($,ot,_e,et)}),ot}function rl(J,$,_e,et,tt){var nt=_e._reactRootContainer;if(nt){var rt=nt;if(typeof tt=="function"){var it=tt;tt=function(){var ot=gl(rt);it.call(ot)}}fl($,rt,J,tt)}else rt=ql(_e,$,J,tt,et);return gl(rt)}Ec=function(J){switch(J.tag){case 3:var $=J.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Dk($,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var et=ih(J,1);if(et!==null){var tt=R();gi(et,J,1,tt)}}),il(J,1)}},Fc=function(J){if(J.tag===13){var $=ih(J,134217728);if($!==null){var _e=R();gi($,J,134217728,_e)}il(J,134217728)}},Gc=function(J){if(J.tag===13){var $=yi(J),_e=ih(J,$);if(_e!==null){var et=R();gi(_e,J,$,et)}il(J,$)}},Hc=function(){return C$1},Ic=function(J,$){var _e=C$1;try{return C$1=J,$()}finally{C$1=_e}},yb=function(J,$,_e){switch($){case"input":if(bb(J,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=J;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var et=_e[$];if(et!==J&&et.form===J.form){var tt=Db(et);if(!tt)throw Error(p$1(90));Wa(et),bb(et,tt)}}}break;case"textarea":ib(J,_e);break;case"select":$=_e.value,$!=null&&fb(J,!!_e.multiple,$,!1)}},Gb=Qk,Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(J){return J=Zb(J),J===null?null:J.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,reactDom_production_min.createPortal=function(J,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$1(200));return cl(J,$,null,_e)},reactDom_production_min.createRoot=function(J,$){if(!nl(J))throw Error(p$1(299));var _e=!1,et="",tt=kl;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),$=bl(J,1,!1,null,null,_e,!1,et,tt),J[uf]=$.current,sf(J.nodeType===8?J.parentNode:J),new ll($)},reactDom_production_min.findDOMNode=function(J){if(J==null)return null;if(J.nodeType===1)return J;var $=J._reactInternals;if($===void 0)throw typeof J.render=="function"?Error(p$1(188)):(J=Object.keys(J).join(","),Error(p$1(268,J)));return J=Zb($),J=J===null?null:J.stateNode,J},reactDom_production_min.flushSync=function(J){return Rk(J)},reactDom_production_min.hydrate=function(J,$,_e){if(!ol($))throw Error(p$1(200));return rl(null,J,$,!0,_e)},reactDom_production_min.hydrateRoot=function(J,$,_e){if(!nl(J))throw Error(p$1(405));var et=_e!=null&&_e.hydratedSources||null,tt=!1,nt="",rt=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(rt=_e.onRecoverableError)),$=el($,null,J,1,_e??null,tt,!1,nt,rt),J[uf]=$.current,sf(J),et)for(J=0;J<et.length;J++)_e=et[J],tt=_e._getVersion,tt=tt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,tt]:$.mutableSourceEagerHydrationData.push(_e,tt);return new ml($)},reactDom_production_min.render=function(J,$,_e){if(!ol($))throw Error(p$1(200));return rl(null,J,$,!1,_e)},reactDom_production_min.unmountComponentAtNode=function(J){if(!ol(J))throw Error(p$1(40));return J._reactRootContainer?(Rk(function(){rl(null,null,J,!1,function(){J._reactRootContainer=null,J[uf]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Qk,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(J,$,_e,et){if(!ol(_e))throw Error(p$1(200));if(J==null||J._reactInternals===void 0)throw Error(p$1(38));return rl(J,$,_e,!1,et)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(J){console.error(J)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;function defaultNoopBatch(J){J()}let batch=defaultNoopBatch;const setBatch=J=>batch=J,getBatch=()=>batch,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){var J;if(!React$2.createContext)return{};const $=(J=gT[ContextKey])!=null?J:gT[ContextKey]=new Map;let _e=$.get(React$2.createContext);return _e||(_e=React$2.createContext(null),$.set(React$2.createContext,_e)),_e}const ReactReduxContext=getContext();function createReduxContextHook(J=ReactReduxContext){return function(){return useContext(J)}}const useReduxContext=createReduxContextHook(),notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=J=>{useSyncExternalStoreWithSelector=J},refEquality=(J,$)=>J===$;function createSelectorHook(J=ReactReduxContext){const $=J===ReactReduxContext?useReduxContext:createReduxContextHook(J);return function(et,tt={}){const{equalityFn:nt=refEquality,stabilityCheck:rt=void 0,noopCheck:it=void 0}=typeof tt=="function"?{equalityFn:tt}:tt,{store:ot,subscription:st,getServerState:at,stabilityCheck:ct,noopCheck:ut}=$();useRef$1(!0);const ft=useCallback({[et.name](pt){return et(pt)}}[et.name],[et,ct,rt]),dt=useSyncExternalStoreWithSelector(st.addNestedSub,ot.getState,at||ot.getState,ft,nt);return useDebugValue$2(dt),dt}}const useSelector=createSelectorHook();function _objectWithoutPropertiesLoose(J,$){if(J==null)return{};var _e={};for(var et in J)if({}.hasOwnProperty.call(J,et)){if($.indexOf(et)!==-1)continue;_e[et]=J[et]}return _e}var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(J){if(typeof J=="object"&&J!==null){var $=J.$$typeof;switch($){case b:switch(J=J.type,J){case d:case f:case e:case m:case n:return J;default:switch(J=J&&J.$$typeof,J){case k:case h:case l:case q:case p:case g:return J;default:return $}}case c:return $}}}reactIs_production_min.ContextConsumer=h,reactIs_production_min.ContextProvider=g,reactIs_production_min.Element=b,reactIs_production_min.ForwardRef=l,reactIs_production_min.Fragment=d,reactIs_production_min.Lazy=q,reactIs_production_min.Memo=p,reactIs_production_min.Portal=c,reactIs_production_min.Profiler=f,reactIs_production_min.StrictMode=e,reactIs_production_min.Suspense=m,reactIs_production_min.SuspenseList=n,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(J){return v(J)===h},reactIs_production_min.isContextProvider=function(J){return v(J)===g},reactIs_production_min.isElement=function(J){return typeof J=="object"&&J!==null&&J.$$typeof===b},reactIs_production_min.isForwardRef=function(J){return v(J)===l},reactIs_production_min.isFragment=function(J){return v(J)===d},reactIs_production_min.isLazy=function(J){return v(J)===q},reactIs_production_min.isMemo=function(J){return v(J)===p},reactIs_production_min.isPortal=function(J){return v(J)===c},reactIs_production_min.isProfiler=function(J){return v(J)===f},reactIs_production_min.isStrictMode=function(J){return v(J)===e},reactIs_production_min.isSuspense=function(J){return v(J)===m},reactIs_production_min.isSuspenseList=function(J){return v(J)===n},reactIs_production_min.isValidElementType=function(J){return typeof J=="string"||typeof J=="function"||J===d||J===f||J===e||J===m||J===n||J===t$1||typeof J=="object"&&J!==null&&(J.$$typeof===q||J.$$typeof===p||J.$$typeof===g||J.$$typeof===h||J.$$typeof===l||J.$$typeof===u||J.getModuleId!==void 0)},reactIs_production_min.typeOf=v;function createListenerCollection(){const J=getBatch();let $=null,_e=null;return{clear(){$=null,_e=null},notify(){J(()=>{let et=$;for(;et;)et.callback(),et=et.next})},get(){let et=[],tt=$;for(;tt;)et.push(tt),tt=tt.next;return et},subscribe(et){let tt=!0,nt=_e={callback:et,next:null,prev:_e};return nt.prev?nt.prev.next=nt:$=nt,function(){!tt||$===null||(tt=!1,nt.next?nt.next.prev=nt.prev:_e=nt.prev,nt.prev?nt.prev.next=nt.next:$=nt.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(J,$){let _e,et=nullListeners,tt=0,nt=!1;function rt(pt){at();const vt=et.subscribe(pt);let mt=!1;return()=>{mt||(mt=!0,vt(),ct())}}function it(){et.notify()}function ot(){dt.onStateChange&&dt.onStateChange()}function st(){return nt}function at(){tt++,_e||(_e=J.subscribe(ot),et=createListenerCollection())}function ct(){tt--,_e&&tt===0&&(_e(),_e=void 0,et.clear(),et=nullListeners)}function ut(){nt||(nt=!0,at())}function ft(){nt&&(nt=!1,ct())}const dt={addNestedSub:rt,notifyNestedSubs:it,handleChangeWrapper:ot,isSubscribed:st,trySubscribe:ut,tryUnsubscribe:ft,getListeners:()=>et};return dt}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM?React$2.useLayoutEffect:React$2.useEffect;function is(J,$){return J===$?J!==0||$!==0||1/J===1/$:J!==J&&$!==$}function shallowEqual(J,$){if(is(J,$))return!0;if(typeof J!="object"||J===null||typeof $!="object"||$===null)return!1;const _e=Object.keys(J),et=Object.keys($);if(_e.length!==et.length)return!1;for(let tt=0;tt<_e.length;tt++)if(!Object.prototype.hasOwnProperty.call($,_e[tt])||!is(J[_e[tt]],$[_e[tt]]))return!1;return!0}function Provider({store:J,context:$,children:_e,serverState:et,stabilityCheck:tt="once",noopCheck:nt="once"}){const rt=React$2.useMemo(()=>{const st=createSubscription(J);return{store:J,subscription:st,getServerState:et?()=>et:void 0,stabilityCheck:tt,noopCheck:nt}},[J,et,tt,nt]),it=React$2.useMemo(()=>J.getState(),[J]);useIsomorphicLayoutEffect(()=>{const{subscription:st}=rt;return st.onStateChange=st.notifyNestedSubs,st.trySubscribe(),it!==J.getState()&&st.notifyNestedSubs(),()=>{st.tryUnsubscribe(),st.onStateChange=void 0}},[rt,it]);const ot=$||ReactReduxContext;return React$2.createElement(ot.Provider,{value:rt},_e)}function createStoreHook(J=ReactReduxContext){const $=J===ReactReduxContext?useReduxContext:createReduxContextHook(J);return function(){const{store:et}=$();return et}}const useStore=createStoreHook();function createDispatchHook(J=ReactReduxContext){const $=J===ReactReduxContext?useStore:createStoreHook(J);return function(){return $().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector),setBatch(reactDomExports.unstable_batchedUpdates);var browser$1={exports:{}},safeBuffer={exports:{}},buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len=code$2.length;i$1<len;++i$1)lookup[i$1]=code$2[i$1],revLookup[code$2.charCodeAt(i$1)]=i$1;revLookup[45]=62,revLookup[95]=63;function getLens(J){var $=J.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _e=J.indexOf("=");_e===-1&&(_e=$);var et=_e===$?0:4-_e%4;return[_e,et]}function byteLength(J){var $=getLens(J),_e=$[0],et=$[1];return(_e+et)*3/4-et}function _byteLength(J,$,_e){return($+_e)*3/4-_e}function toByteArray(J){var $,_e=getLens(J),et=_e[0],tt=_e[1],nt=new Arr(_byteLength(J,et,tt)),rt=0,it=tt>0?et-4:et,ot;for(ot=0;ot<it;ot+=4)$=revLookup[J.charCodeAt(ot)]<<18|revLookup[J.charCodeAt(ot+1)]<<12|revLookup[J.charCodeAt(ot+2)]<<6|revLookup[J.charCodeAt(ot+3)],nt[rt++]=$>>16&255,nt[rt++]=$>>8&255,nt[rt++]=$&255;return tt===2&&($=revLookup[J.charCodeAt(ot)]<<2|revLookup[J.charCodeAt(ot+1)]>>4,nt[rt++]=$&255),tt===1&&($=revLookup[J.charCodeAt(ot)]<<10|revLookup[J.charCodeAt(ot+1)]<<4|revLookup[J.charCodeAt(ot+2)]>>2,nt[rt++]=$>>8&255,nt[rt++]=$&255),nt}function tripletToBase64(J){return lookup[J>>18&63]+lookup[J>>12&63]+lookup[J>>6&63]+lookup[J&63]}function encodeChunk(J,$,_e){for(var et,tt=[],nt=$;nt<_e;nt+=3)et=(J[nt]<<16&16711680)+(J[nt+1]<<8&65280)+(J[nt+2]&255),tt.push(tripletToBase64(et));return tt.join("")}function fromByteArray(J){for(var $,_e=J.length,et=_e%3,tt=[],nt=16383,rt=0,it=_e-et;rt<it;rt+=nt)tt.push(encodeChunk(J,rt,rt+nt>it?it:rt+nt));return et===1?($=J[_e-1],tt.push(lookup[$>>2]+lookup[$<<4&63]+"==")):et===2&&($=(J[_e-2]<<8)+J[_e-1],tt.push(lookup[$>>10]+lookup[$>>4&63]+lookup[$<<2&63]+"=")),tt.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(J,$,_e,et,tt){var nt,rt,it=tt*8-et-1,ot=(1<<it)-1,st=ot>>1,at=-7,ct=_e?tt-1:0,ut=_e?-1:1,ft=J[$+ct];for(ct+=ut,nt=ft&(1<<-at)-1,ft>>=-at,at+=it;at>0;nt=nt*256+J[$+ct],ct+=ut,at-=8);for(rt=nt&(1<<-at)-1,nt>>=-at,at+=et;at>0;rt=rt*256+J[$+ct],ct+=ut,at-=8);if(nt===0)nt=1-st;else{if(nt===ot)return rt?NaN:(ft?-1:1)*(1/0);rt=rt+Math.pow(2,et),nt=nt-st}return(ft?-1:1)*rt*Math.pow(2,nt-et)},ieee754.write=function(J,$,_e,et,tt,nt){var rt,it,ot,st=nt*8-tt-1,at=(1<<st)-1,ct=at>>1,ut=tt===23?Math.pow(2,-24)-Math.pow(2,-77):0,ft=et?0:nt-1,dt=et?1:-1,pt=$<0||$===0&&1/$<0?1:0;for($=Math.abs($),isNaN($)||$===1/0?(it=isNaN($)?1:0,rt=at):(rt=Math.floor(Math.log($)/Math.LN2),$*(ot=Math.pow(2,-rt))<1&&(rt--,ot*=2),rt+ct>=1?$+=ut/ot:$+=ut*Math.pow(2,1-ct),$*ot>=2&&(rt++,ot/=2),rt+ct>=at?(it=0,rt=at):rt+ct>=1?(it=($*ot-1)*Math.pow(2,tt),rt=rt+ct):(it=$*Math.pow(2,ct-1)*Math.pow(2,tt),rt=0));tt>=8;J[_e+ft]=it&255,ft+=dt,it/=256,tt-=8);for(rt=rt<<tt|it,st+=tt;st>0;J[_e+ft]=rt&255,ft+=dt,rt/=256,st-=8);J[_e+ft-dt]|=pt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(J){var $=base64Js,_e=ieee754,et=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=it,J.SlowBuffer=Ot,J.INSPECT_MAX_BYTES=50;var tt=2147483647;J.kMaxLength=tt,it.TYPED_ARRAY_SUPPORT=nt(),!it.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function nt(){try{var St=new Uint8Array(1),ht={foo:function(){return 42}};return Object.setPrototypeOf(ht,Uint8Array.prototype),Object.setPrototypeOf(St,ht),St.foo()===42}catch{return!1}}Object.defineProperty(it.prototype,"parent",{enumerable:!0,get:function(){if(it.isBuffer(this))return this.buffer}}),Object.defineProperty(it.prototype,"offset",{enumerable:!0,get:function(){if(it.isBuffer(this))return this.byteOffset}});function rt(St){if(St>tt)throw new RangeError('The value "'+St+'" is invalid for option "size"');var ht=new Uint8Array(St);return Object.setPrototypeOf(ht,it.prototype),ht}function it(St,ht,gt){if(typeof St=="number"){if(typeof ht=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ct(St)}return ot(St,ht,gt)}it.poolSize=8192;function ot(St,ht,gt){if(typeof St=="string")return ut(St,ht);if(ArrayBuffer.isView(St))return dt(St);if(St==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof St);if(sn(St,ArrayBuffer)||St&&sn(St.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sn(St,SharedArrayBuffer)||St&&sn(St.buffer,SharedArrayBuffer)))return pt(St,ht,gt);if(typeof St=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var xt=St.valueOf&&St.valueOf();if(xt!=null&&xt!==St)return it.from(xt,ht,gt);var Pt=vt(St);if(Pt)return Pt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof St[Symbol.toPrimitive]=="function")return it.from(St[Symbol.toPrimitive]("string"),ht,gt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof St)}it.from=function(St,ht,gt){return ot(St,ht,gt)},Object.setPrototypeOf(it.prototype,Uint8Array.prototype),Object.setPrototypeOf(it,Uint8Array);function st(St){if(typeof St!="number")throw new TypeError('"size" argument must be of type number');if(St<0)throw new RangeError('The value "'+St+'" is invalid for option "size"')}function at(St,ht,gt){return st(St),St<=0?rt(St):ht!==void 0?typeof gt=="string"?rt(St).fill(ht,gt):rt(St).fill(ht):rt(St)}it.alloc=function(St,ht,gt){return at(St,ht,gt)};function ct(St){return st(St),rt(St<0?0:mt(St)|0)}it.allocUnsafe=function(St){return ct(St)},it.allocUnsafeSlow=function(St){return ct(St)};function ut(St,ht){if((typeof ht!="string"||ht==="")&&(ht="utf8"),!it.isEncoding(ht))throw new TypeError("Unknown encoding: "+ht);var gt=yt(St,ht)|0,xt=rt(gt),Pt=xt.write(St,ht);return Pt!==gt&&(xt=xt.slice(0,Pt)),xt}function ft(St){for(var ht=St.length<0?0:mt(St.length)|0,gt=rt(ht),xt=0;xt<ht;xt+=1)gt[xt]=St[xt]&255;return gt}function dt(St){if(sn(St,Uint8Array)){var ht=new Uint8Array(St);return pt(ht.buffer,ht.byteOffset,ht.byteLength)}return ft(St)}function pt(St,ht,gt){if(ht<0||St.byteLength<ht)throw new RangeError('"offset" is outside of buffer bounds');if(St.byteLength<ht+(gt||0))throw new RangeError('"length" is outside of buffer bounds');var xt;return ht===void 0&&gt===void 0?xt=new Uint8Array(St):gt===void 0?xt=new Uint8Array(St,ht):xt=new Uint8Array(St,ht,gt),Object.setPrototypeOf(xt,it.prototype),xt}function vt(St){if(it.isBuffer(St)){var ht=mt(St.length)|0,gt=rt(ht);return gt.length===0||St.copy(gt,0,0,ht),gt}if(St.length!==void 0)return typeof St.length!="number"||hn(St.length)?rt(0):ft(St);if(St.type==="Buffer"&&Array.isArray(St.data))return ft(St.data)}function mt(St){if(St>=tt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+tt.toString(16)+" bytes");return St|0}function Ot(St){return+St!=St&&(St=0),it.alloc(+St)}it.isBuffer=function(ht){return ht!=null&&ht._isBuffer===!0&&ht!==it.prototype},it.compare=function(ht,gt){if(sn(ht,Uint8Array)&&(ht=it.from(ht,ht.offset,ht.byteLength)),sn(gt,Uint8Array)&&(gt=it.from(gt,gt.offset,gt.byteLength)),!it.isBuffer(ht)||!it.isBuffer(gt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ht===gt)return 0;for(var xt=ht.length,Pt=gt.length,Qt=0,Mt=Math.min(xt,Pt);Qt<Mt;++Qt)if(ht[Qt]!==gt[Qt]){xt=ht[Qt],Pt=gt[Qt];break}return xt<Pt?-1:Pt<xt?1:0},it.isEncoding=function(ht){switch(String(ht).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},it.concat=function(ht,gt){if(!Array.isArray(ht))throw new TypeError('"list" argument must be an Array of Buffers');if(ht.length===0)return it.alloc(0);var xt;if(gt===void 0)for(gt=0,xt=0;xt<ht.length;++xt)gt+=ht[xt].length;var Pt=it.allocUnsafe(gt),Qt=0;for(xt=0;xt<ht.length;++xt){var Mt=ht[xt];if(sn(Mt,Uint8Array))Qt+Mt.length>Pt.length?it.from(Mt).copy(Pt,Qt):Uint8Array.prototype.set.call(Pt,Mt,Qt);else if(it.isBuffer(Mt))Mt.copy(Pt,Qt);else throw new TypeError('"list" argument must be an Array of Buffers');Qt+=Mt.length}return Pt};function yt(St,ht){if(it.isBuffer(St))return St.length;if(ArrayBuffer.isView(St)||sn(St,ArrayBuffer))return St.byteLength;if(typeof St!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof St);var gt=St.length,xt=arguments.length>2&&arguments[2]===!0;if(!xt&&gt===0)return 0;for(var Pt=!1;;)switch(ht){case"ascii":case"latin1":case"binary":return gt;case"utf8":case"utf-8":return dn(St).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt*2;case"hex":return gt>>>1;case"base64":return pn(St).length;default:if(Pt)return xt?-1:dn(St).length;ht=(""+ht).toLowerCase(),Pt=!0}}it.byteLength=yt;function wt(St,ht,gt){var xt=!1;if((ht===void 0||ht<0)&&(ht=0),ht>this.length||((gt===void 0||gt>this.length)&&(gt=this.length),gt<=0)||(gt>>>=0,ht>>>=0,gt<=ht))return"";for(St||(St="utf8");;)switch(St){case"hex":return Rt(this,ht,gt);case"utf8":case"utf-8":return Zt(this,ht,gt);case"ascii":return $t(this,ht,gt);case"latin1":case"binary":return Tt(this,ht,gt);case"base64":return Wt(this,ht,gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,ht,gt);default:if(xt)throw new TypeError("Unknown encoding: "+St);St=(St+"").toLowerCase(),xt=!0}}it.prototype._isBuffer=!0;function bt(St,ht,gt){var xt=St[ht];St[ht]=St[gt],St[gt]=xt}it.prototype.swap16=function(){var ht=this.length;if(ht%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var gt=0;gt<ht;gt+=2)bt(this,gt,gt+1);return this},it.prototype.swap32=function(){var ht=this.length;if(ht%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var gt=0;gt<ht;gt+=4)bt(this,gt,gt+3),bt(this,gt+1,gt+2);return this},it.prototype.swap64=function(){var ht=this.length;if(ht%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var gt=0;gt<ht;gt+=8)bt(this,gt,gt+7),bt(this,gt+1,gt+6),bt(this,gt+2,gt+5),bt(this,gt+3,gt+4);return this},it.prototype.toString=function(){var ht=this.length;return ht===0?"":arguments.length===0?Zt(this,0,ht):wt.apply(this,arguments)},it.prototype.toLocaleString=it.prototype.toString,it.prototype.equals=function(ht){if(!it.isBuffer(ht))throw new TypeError("Argument must be a Buffer");return this===ht?!0:it.compare(this,ht)===0},it.prototype.inspect=function(){var ht="",gt=J.INSPECT_MAX_BYTES;return ht=this.toString("hex",0,gt).replace(/(.{2})/g,"$1 ").trim(),this.length>gt&&(ht+=" ... "),"<Buffer "+ht+">"},et&&(it.prototype[et]=it.prototype.inspect),it.prototype.compare=function(ht,gt,xt,Pt,Qt){if(sn(ht,Uint8Array)&&(ht=it.from(ht,ht.offset,ht.byteLength)),!it.isBuffer(ht))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ht);if(gt===void 0&&(gt=0),xt===void 0&&(xt=ht?ht.length:0),Pt===void 0&&(Pt=0),Qt===void 0&&(Qt=this.length),gt<0||xt>ht.length||Pt<0||Qt>this.length)throw new RangeError("out of range index");if(Pt>=Qt&&gt>=xt)return 0;if(Pt>=Qt)return-1;if(gt>=xt)return 1;if(gt>>>=0,xt>>>=0,Pt>>>=0,Qt>>>=0,this===ht)return 0;for(var Mt=Qt-Pt,Ut=xt-gt,Ft=Math.min(Mt,Ut),Xt=this.slice(Pt,Qt),Yt=ht.slice(gt,xt),Ht=0;Ht<Ft;++Ht)if(Xt[Ht]!==Yt[Ht]){Mt=Xt[Ht],Ut=Yt[Ht];break}return Mt<Ut?-1:Ut<Mt?1:0};function Ct(St,ht,gt,xt,Pt){if(St.length===0)return-1;if(typeof gt=="string"?(xt=gt,gt=0):gt>2147483647?gt=2147483647:gt<-2147483648&&(gt=-2147483648),gt=+gt,hn(gt)&&(gt=Pt?0:St.length-1),gt<0&&(gt=St.length+gt),gt>=St.length){if(Pt)return-1;gt=St.length-1}else if(gt<0)if(Pt)gt=0;else return-1;if(typeof ht=="string"&&(ht=it.from(ht,xt)),it.isBuffer(ht))return ht.length===0?-1:kt(St,ht,gt,xt,Pt);if(typeof ht=="number")return ht=ht&255,typeof Uint8Array.prototype.indexOf=="function"?Pt?Uint8Array.prototype.indexOf.call(St,ht,gt):Uint8Array.prototype.lastIndexOf.call(St,ht,gt):kt(St,[ht],gt,xt,Pt);throw new TypeError("val must be string, number or Buffer")}function kt(St,ht,gt,xt,Pt){var Qt=1,Mt=St.length,Ut=ht.length;if(xt!==void 0&&(xt=String(xt).toLowerCase(),xt==="ucs2"||xt==="ucs-2"||xt==="utf16le"||xt==="utf-16le")){if(St.length<2||ht.length<2)return-1;Qt=2,Mt/=2,Ut/=2,gt/=2}function Ft(gn,mn){return Qt===1?gn[mn]:gn.readUInt16BE(mn*Qt)}var Xt;if(Pt){var Yt=-1;for(Xt=gt;Xt<Mt;Xt++)if(Ft(St,Xt)===Ft(ht,Yt===-1?0:Xt-Yt)){if(Yt===-1&&(Yt=Xt),Xt-Yt+1===Ut)return Yt*Qt}else Yt!==-1&&(Xt-=Xt-Yt),Yt=-1}else for(gt+Ut>Mt&&(gt=Mt-Ut),Xt=gt;Xt>=0;Xt--){for(var Ht=!0,cn=0;cn<Ut;cn++)if(Ft(St,Xt+cn)!==Ft(ht,cn)){Ht=!1;break}if(Ht)return Xt}return-1}it.prototype.includes=function(ht,gt,xt){return this.indexOf(ht,gt,xt)!==-1},it.prototype.indexOf=function(ht,gt,xt){return Ct(this,ht,gt,xt,!0)},it.prototype.lastIndexOf=function(ht,gt,xt){return Ct(this,ht,gt,xt,!1)};function Et(St,ht,gt,xt){gt=Number(gt)||0;var Pt=St.length-gt;xt?(xt=Number(xt),xt>Pt&&(xt=Pt)):xt=Pt;var Qt=ht.length;xt>Qt/2&&(xt=Qt/2);for(var Mt=0;Mt<xt;++Mt){var Ut=parseInt(ht.substr(Mt*2,2),16);if(hn(Ut))return Mt;St[gt+Mt]=Ut}return Mt}function _t(St,ht,gt,xt){return ln(dn(ht,St.length-gt),St,gt,xt)}function At(St,ht,gt,xt){return ln(yn(ht),St,gt,xt)}function Dt(St,ht,gt,xt){return ln(pn(ht),St,gt,xt)}function jt(St,ht,gt,xt){return ln(vn(ht,St.length-gt),St,gt,xt)}it.prototype.write=function(ht,gt,xt,Pt){if(gt===void 0)Pt="utf8",xt=this.length,gt=0;else if(xt===void 0&&typeof gt=="string")Pt=gt,xt=this.length,gt=0;else if(isFinite(gt))gt=gt>>>0,isFinite(xt)?(xt=xt>>>0,Pt===void 0&&(Pt="utf8")):(Pt=xt,xt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Qt=this.length-gt;if((xt===void 0||xt>Qt)&&(xt=Qt),ht.length>0&&(xt<0||gt<0)||gt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pt||(Pt="utf8");for(var Mt=!1;;)switch(Pt){case"hex":return Et(this,ht,gt,xt);case"utf8":case"utf-8":return _t(this,ht,gt,xt);case"ascii":case"latin1":case"binary":return At(this,ht,gt,xt);case"base64":return Dt(this,ht,gt,xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,ht,gt,xt);default:if(Mt)throw new TypeError("Unknown encoding: "+Pt);Pt=(""+Pt).toLowerCase(),Mt=!0}},it.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wt(St,ht,gt){return ht===0&&gt===St.length?$.fromByteArray(St):$.fromByteArray(St.slice(ht,gt))}function Zt(St,ht,gt){gt=Math.min(St.length,gt);for(var xt=[],Pt=ht;Pt<gt;){var Qt=St[Pt],Mt=null,Ut=Qt>239?4:Qt>223?3:Qt>191?2:1;if(Pt+Ut<=gt){var Ft,Xt,Yt,Ht;switch(Ut){case 1:Qt<128&&(Mt=Qt);break;case 2:Ft=St[Pt+1],(Ft&192)===128&&(Ht=(Qt&31)<<6|Ft&63,Ht>127&&(Mt=Ht));break;case 3:Ft=St[Pt+1],Xt=St[Pt+2],(Ft&192)===128&&(Xt&192)===128&&(Ht=(Qt&15)<<12|(Ft&63)<<6|Xt&63,Ht>2047&&(Ht<55296||Ht>57343)&&(Mt=Ht));break;case 4:Ft=St[Pt+1],Xt=St[Pt+2],Yt=St[Pt+3],(Ft&192)===128&&(Xt&192)===128&&(Yt&192)===128&&(Ht=(Qt&15)<<18|(Ft&63)<<12|(Xt&63)<<6|Yt&63,Ht>65535&&Ht<1114112&&(Mt=Ht))}}Mt===null?(Mt=65533,Ut=1):Mt>65535&&(Mt-=65536,xt.push(Mt>>>10&1023|55296),Mt=56320|Mt&1023),xt.push(Mt),Pt+=Ut}return Vt(xt)}var It=4096;function Vt(St){var ht=St.length;if(ht<=It)return String.fromCharCode.apply(String,St);for(var gt="",xt=0;xt<ht;)gt+=String.fromCharCode.apply(String,St.slice(xt,xt+=It));return gt}function $t(St,ht,gt){var xt="";gt=Math.min(St.length,gt);for(var Pt=ht;Pt<gt;++Pt)xt+=String.fromCharCode(St[Pt]&127);return xt}function Tt(St,ht,gt){var xt="";gt=Math.min(St.length,gt);for(var Pt=ht;Pt<gt;++Pt)xt+=String.fromCharCode(St[Pt]);return xt}function Rt(St,ht,gt){var xt=St.length;(!ht||ht<0)&&(ht=0),(!gt||gt<0||gt>xt)&&(gt=xt);for(var Pt="",Qt=ht;Qt<gt;++Qt)Pt+=Sn[St[Qt]];return Pt}function Lt(St,ht,gt){for(var xt=St.slice(ht,gt),Pt="",Qt=0;Qt<xt.length-1;Qt+=2)Pt+=String.fromCharCode(xt[Qt]+xt[Qt+1]*256);return Pt}it.prototype.slice=function(ht,gt){var xt=this.length;ht=~~ht,gt=gt===void 0?xt:~~gt,ht<0?(ht+=xt,ht<0&&(ht=0)):ht>xt&&(ht=xt),gt<0?(gt+=xt,gt<0&&(gt=0)):gt>xt&&(gt=xt),gt<ht&&(gt=ht);var Pt=this.subarray(ht,gt);return Object.setPrototypeOf(Pt,it.prototype),Pt};function Nt(St,ht,gt){if(St%1!==0||St<0)throw new RangeError("offset is not uint");if(St+ht>gt)throw new RangeError("Trying to access beyond buffer length")}it.prototype.readUintLE=it.prototype.readUIntLE=function(ht,gt,xt){ht=ht>>>0,gt=gt>>>0,xt||Nt(ht,gt,this.length);for(var Pt=this[ht],Qt=1,Mt=0;++Mt<gt&&(Qt*=256);)Pt+=this[ht+Mt]*Qt;return Pt},it.prototype.readUintBE=it.prototype.readUIntBE=function(ht,gt,xt){ht=ht>>>0,gt=gt>>>0,xt||Nt(ht,gt,this.length);for(var Pt=this[ht+--gt],Qt=1;gt>0&&(Qt*=256);)Pt+=this[ht+--gt]*Qt;return Pt},it.prototype.readUint8=it.prototype.readUInt8=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,1,this.length),this[ht]},it.prototype.readUint16LE=it.prototype.readUInt16LE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,2,this.length),this[ht]|this[ht+1]<<8},it.prototype.readUint16BE=it.prototype.readUInt16BE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,2,this.length),this[ht]<<8|this[ht+1]},it.prototype.readUint32LE=it.prototype.readUInt32LE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),(this[ht]|this[ht+1]<<8|this[ht+2]<<16)+this[ht+3]*16777216},it.prototype.readUint32BE=it.prototype.readUInt32BE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),this[ht]*16777216+(this[ht+1]<<16|this[ht+2]<<8|this[ht+3])},it.prototype.readIntLE=function(ht,gt,xt){ht=ht>>>0,gt=gt>>>0,xt||Nt(ht,gt,this.length);for(var Pt=this[ht],Qt=1,Mt=0;++Mt<gt&&(Qt*=256);)Pt+=this[ht+Mt]*Qt;return Qt*=128,Pt>=Qt&&(Pt-=Math.pow(2,8*gt)),Pt},it.prototype.readIntBE=function(ht,gt,xt){ht=ht>>>0,gt=gt>>>0,xt||Nt(ht,gt,this.length);for(var Pt=gt,Qt=1,Mt=this[ht+--Pt];Pt>0&&(Qt*=256);)Mt+=this[ht+--Pt]*Qt;return Qt*=128,Mt>=Qt&&(Mt-=Math.pow(2,8*gt)),Mt},it.prototype.readInt8=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,1,this.length),this[ht]&128?(255-this[ht]+1)*-1:this[ht]},it.prototype.readInt16LE=function(ht,gt){ht=ht>>>0,gt||Nt(ht,2,this.length);var xt=this[ht]|this[ht+1]<<8;return xt&32768?xt|4294901760:xt},it.prototype.readInt16BE=function(ht,gt){ht=ht>>>0,gt||Nt(ht,2,this.length);var xt=this[ht+1]|this[ht]<<8;return xt&32768?xt|4294901760:xt},it.prototype.readInt32LE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),this[ht]|this[ht+1]<<8|this[ht+2]<<16|this[ht+3]<<24},it.prototype.readInt32BE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),this[ht]<<24|this[ht+1]<<16|this[ht+2]<<8|this[ht+3]},it.prototype.readFloatLE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),_e.read(this,ht,!0,23,4)},it.prototype.readFloatBE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,4,this.length),_e.read(this,ht,!1,23,4)},it.prototype.readDoubleLE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,8,this.length),_e.read(this,ht,!0,52,8)},it.prototype.readDoubleBE=function(ht,gt){return ht=ht>>>0,gt||Nt(ht,8,this.length),_e.read(this,ht,!1,52,8)};function Bt(St,ht,gt,xt,Pt,Qt){if(!it.isBuffer(St))throw new TypeError('"buffer" argument must be a Buffer instance');if(ht>Pt||ht<Qt)throw new RangeError('"value" argument is out of bounds');if(gt+xt>St.length)throw new RangeError("Index out of range")}it.prototype.writeUintLE=it.prototype.writeUIntLE=function(ht,gt,xt,Pt){if(ht=+ht,gt=gt>>>0,xt=xt>>>0,!Pt){var Qt=Math.pow(2,8*xt)-1;Bt(this,ht,gt,xt,Qt,0)}var Mt=1,Ut=0;for(this[gt]=ht&255;++Ut<xt&&(Mt*=256);)this[gt+Ut]=ht/Mt&255;return gt+xt},it.prototype.writeUintBE=it.prototype.writeUIntBE=function(ht,gt,xt,Pt){if(ht=+ht,gt=gt>>>0,xt=xt>>>0,!Pt){var Qt=Math.pow(2,8*xt)-1;Bt(this,ht,gt,xt,Qt,0)}var Mt=xt-1,Ut=1;for(this[gt+Mt]=ht&255;--Mt>=0&&(Ut*=256);)this[gt+Mt]=ht/Ut&255;return gt+xt},it.prototype.writeUint8=it.prototype.writeUInt8=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,1,255,0),this[gt]=ht&255,gt+1},it.prototype.writeUint16LE=it.prototype.writeUInt16LE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,2,65535,0),this[gt]=ht&255,this[gt+1]=ht>>>8,gt+2},it.prototype.writeUint16BE=it.prototype.writeUInt16BE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,2,65535,0),this[gt]=ht>>>8,this[gt+1]=ht&255,gt+2},it.prototype.writeUint32LE=it.prototype.writeUInt32LE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,4,4294967295,0),this[gt+3]=ht>>>24,this[gt+2]=ht>>>16,this[gt+1]=ht>>>8,this[gt]=ht&255,gt+4},it.prototype.writeUint32BE=it.prototype.writeUInt32BE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,4,4294967295,0),this[gt]=ht>>>24,this[gt+1]=ht>>>16,this[gt+2]=ht>>>8,this[gt+3]=ht&255,gt+4},it.prototype.writeIntLE=function(ht,gt,xt,Pt){if(ht=+ht,gt=gt>>>0,!Pt){var Qt=Math.pow(2,8*xt-1);Bt(this,ht,gt,xt,Qt-1,-Qt)}var Mt=0,Ut=1,Ft=0;for(this[gt]=ht&255;++Mt<xt&&(Ut*=256);)ht<0&&Ft===0&&this[gt+Mt-1]!==0&&(Ft=1),this[gt+Mt]=(ht/Ut>>0)-Ft&255;return gt+xt},it.prototype.writeIntBE=function(ht,gt,xt,Pt){if(ht=+ht,gt=gt>>>0,!Pt){var Qt=Math.pow(2,8*xt-1);Bt(this,ht,gt,xt,Qt-1,-Qt)}var Mt=xt-1,Ut=1,Ft=0;for(this[gt+Mt]=ht&255;--Mt>=0&&(Ut*=256);)ht<0&&Ft===0&&this[gt+Mt+1]!==0&&(Ft=1),this[gt+Mt]=(ht/Ut>>0)-Ft&255;return gt+xt},it.prototype.writeInt8=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,1,127,-128),ht<0&&(ht=255+ht+1),this[gt]=ht&255,gt+1},it.prototype.writeInt16LE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,2,32767,-32768),this[gt]=ht&255,this[gt+1]=ht>>>8,gt+2},it.prototype.writeInt16BE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,2,32767,-32768),this[gt]=ht>>>8,this[gt+1]=ht&255,gt+2},it.prototype.writeInt32LE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,4,2147483647,-2147483648),this[gt]=ht&255,this[gt+1]=ht>>>8,this[gt+2]=ht>>>16,this[gt+3]=ht>>>24,gt+4},it.prototype.writeInt32BE=function(ht,gt,xt){return ht=+ht,gt=gt>>>0,xt||Bt(this,ht,gt,4,2147483647,-2147483648),ht<0&&(ht=4294967295+ht+1),this[gt]=ht>>>24,this[gt+1]=ht>>>16,this[gt+2]=ht>>>8,this[gt+3]=ht&255,gt+4};function zt(St,ht,gt,xt,Pt,Qt){if(gt+xt>St.length)throw new RangeError("Index out of range");if(gt<0)throw new RangeError("Index out of range")}function qt(St,ht,gt,xt,Pt){return ht=+ht,gt=gt>>>0,Pt||zt(St,ht,gt,4),_e.write(St,ht,gt,xt,23,4),gt+4}it.prototype.writeFloatLE=function(ht,gt,xt){return qt(this,ht,gt,!0,xt)},it.prototype.writeFloatBE=function(ht,gt,xt){return qt(this,ht,gt,!1,xt)};function Kt(St,ht,gt,xt,Pt){return ht=+ht,gt=gt>>>0,Pt||zt(St,ht,gt,8),_e.write(St,ht,gt,xt,52,8),gt+8}it.prototype.writeDoubleLE=function(ht,gt,xt){return Kt(this,ht,gt,!0,xt)},it.prototype.writeDoubleBE=function(ht,gt,xt){return Kt(this,ht,gt,!1,xt)},it.prototype.copy=function(ht,gt,xt,Pt){if(!it.isBuffer(ht))throw new TypeError("argument should be a Buffer");if(xt||(xt=0),!Pt&&Pt!==0&&(Pt=this.length),gt>=ht.length&&(gt=ht.length),gt||(gt=0),Pt>0&&Pt<xt&&(Pt=xt),Pt===xt||ht.length===0||this.length===0)return 0;if(gt<0)throw new RangeError("targetStart out of bounds");if(xt<0||xt>=this.length)throw new RangeError("Index out of range");if(Pt<0)throw new RangeError("sourceEnd out of bounds");Pt>this.length&&(Pt=this.length),ht.length-gt<Pt-xt&&(Pt=ht.length-gt+xt);var Qt=Pt-xt;return this===ht&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(gt,xt,Pt):Uint8Array.prototype.set.call(ht,this.subarray(xt,Pt),gt),Qt},it.prototype.fill=function(ht,gt,xt,Pt){if(typeof ht=="string"){if(typeof gt=="string"?(Pt=gt,gt=0,xt=this.length):typeof xt=="string"&&(Pt=xt,xt=this.length),Pt!==void 0&&typeof Pt!="string")throw new TypeError("encoding must be a string");if(typeof Pt=="string"&&!it.isEncoding(Pt))throw new TypeError("Unknown encoding: "+Pt);if(ht.length===1){var Qt=ht.charCodeAt(0);(Pt==="utf8"&&Qt<128||Pt==="latin1")&&(ht=Qt)}}else typeof ht=="number"?ht=ht&255:typeof ht=="boolean"&&(ht=Number(ht));if(gt<0||this.length<gt||this.length<xt)throw new RangeError("Out of range index");if(xt<=gt)return this;gt=gt>>>0,xt=xt===void 0?this.length:xt>>>0,ht||(ht=0);var Mt;if(typeof ht=="number")for(Mt=gt;Mt<xt;++Mt)this[Mt]=ht;else{var Ut=it.isBuffer(ht)?ht:it.from(ht,Pt),Ft=Ut.length;if(Ft===0)throw new TypeError('The value "'+ht+'" is invalid for argument "value"');for(Mt=0;Mt<xt-gt;++Mt)this[Mt+gt]=Ut[Mt%Ft]}return this};var Gt=/[^+/0-9A-Za-z-_]/g;function Jt(St){if(St=St.split("=")[0],St=St.trim().replace(Gt,""),St.length<2)return"";for(;St.length%4!==0;)St=St+"=";return St}function dn(St,ht){ht=ht||1/0;for(var gt,xt=St.length,Pt=null,Qt=[],Mt=0;Mt<xt;++Mt){if(gt=St.charCodeAt(Mt),gt>55295&&gt<57344){if(!Pt){if(gt>56319){(ht-=3)>-1&&Qt.push(239,191,189);continue}else if(Mt+1===xt){(ht-=3)>-1&&Qt.push(239,191,189);continue}Pt=gt;continue}if(gt<56320){(ht-=3)>-1&&Qt.push(239,191,189),Pt=gt;continue}gt=(Pt-55296<<10|gt-56320)+65536}else Pt&&(ht-=3)>-1&&Qt.push(239,191,189);if(Pt=null,gt<128){if((ht-=1)<0)break;Qt.push(gt)}else if(gt<2048){if((ht-=2)<0)break;Qt.push(gt>>6|192,gt&63|128)}else if(gt<65536){if((ht-=3)<0)break;Qt.push(gt>>12|224,gt>>6&63|128,gt&63|128)}else if(gt<1114112){if((ht-=4)<0)break;Qt.push(gt>>18|240,gt>>12&63|128,gt>>6&63|128,gt&63|128)}else throw new Error("Invalid code point")}return Qt}function yn(St){for(var ht=[],gt=0;gt<St.length;++gt)ht.push(St.charCodeAt(gt)&255);return ht}function vn(St,ht){for(var gt,xt,Pt,Qt=[],Mt=0;Mt<St.length&&!((ht-=2)<0);++Mt)gt=St.charCodeAt(Mt),xt=gt>>8,Pt=gt%256,Qt.push(Pt),Qt.push(xt);return Qt}function pn(St){return $.toByteArray(Jt(St))}function ln(St,ht,gt,xt){for(var Pt=0;Pt<xt&&!(Pt+gt>=ht.length||Pt>=St.length);++Pt)ht[Pt+gt]=St[Pt];return Pt}function sn(St,ht){return St instanceof ht||St!=null&&St.constructor!=null&&St.constructor.name!=null&&St.constructor.name===ht.name}function hn(St){return St!==St}var Sn=function(){for(var St="0123456789abcdef",ht=new Array(256),gt=0;gt<16;++gt)for(var xt=gt*16,Pt=0;Pt<16;++Pt)ht[xt+Pt]=St[gt]+St[Pt];return ht}()})(buffer);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(J,$){var _e=buffer,et=_e.Buffer;function tt(rt,it){for(var ot in rt)it[ot]=rt[ot]}et.from&&et.alloc&&et.allocUnsafe&&et.allocUnsafeSlow?J.exports=_e:(tt(_e,$),$.Buffer=nt);function nt(rt,it,ot){return et(rt,it,ot)}nt.prototype=Object.create(et.prototype),tt(et,nt),nt.from=function(rt,it,ot){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return et(rt,it,ot)},nt.alloc=function(rt,it,ot){if(typeof rt!="number")throw new TypeError("Argument must be a number");var st=et(rt);return it!==void 0?typeof ot=="string"?st.fill(it,ot):st.fill(it):st.fill(0),st},nt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return et(rt)},nt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return _e.SlowBuffer(rt)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer=safeBufferExports.Buffer,crypto=commonjsGlobal.crypto||commonjsGlobal.msCrypto;crypto&&crypto.getRandomValues?browser$1.exports=randomBytes$1:browser$1.exports=oldBrowser;function randomBytes$1(J,$){if(J>MAX_UINT32)throw new RangeError("requested too many random bytes");var _e=Buffer.allocUnsafe(J);if(J>0)if(J>MAX_BYTES)for(var et=0;et<J;et+=MAX_BYTES)crypto.getRandomValues(_e.slice(et,et+MAX_BYTES));else crypto.getRandomValues(_e);return typeof $=="function"?process.nextTick(function(){$(null,_e)}):_e}var browserExports=browser$1.exports,randomBytes=browserExports,UID_LENGTH=16,UID=generateUID(),PLACE_HOLDER_REGEXP=new RegExp('(\\\\)?"@__(F|R|D|M|S|A|U|I|B|L)-'+UID+'-(\\d+)__@"',"g"),IS_NATIVE_CODE_REGEXP=/\{\s*\[native code\]\s*\}/g,IS_PURE_FUNCTION=/function.*?\(/,IS_ARROW_FUNCTION=/.*?=>.*?/,UNSAFE_CHARS_REGEXP=/[<>\/\u2028\u2029]/g,RESERVED_SYMBOLS=["*","async"],ESCAPED_CHARS={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function escapeUnsafeChars(J){return ESCAPED_CHARS[J]}function generateUID(){for(var J=randomBytes(UID_LENGTH),$="",_e=0;_e<UID_LENGTH;++_e)$+=J[_e].toString(16);return $}function deleteFunctions(J){var $=[];for(var _e in J)typeof J[_e]=="function"&&$.push(_e);for(var et=0;et<$.length;et++)delete J[$[et]]}var serializeJavascript=function J($,_e){_e||(_e={}),(typeof _e=="number"||typeof _e=="string")&&(_e={space:_e});var et=[],tt=[],nt=[],rt=[],it=[],ot=[],st=[],at=[],ct=[],ut=[];function ft(vt,mt){if(_e.ignoreFunction&&deleteFunctions(mt),!mt&&mt!==void 0&&mt!==BigInt(0))return mt;var Ot=this[vt],yt=typeof Ot;if(yt==="object"){if(Ot instanceof RegExp)return"@__R-"+UID+"-"+(tt.push(Ot)-1)+"__@";if(Ot instanceof Date)return"@__D-"+UID+"-"+(nt.push(Ot)-1)+"__@";if(Ot instanceof Map)return"@__M-"+UID+"-"+(rt.push(Ot)-1)+"__@";if(Ot instanceof Set)return"@__S-"+UID+"-"+(it.push(Ot)-1)+"__@";if(Ot instanceof Array){var wt=Ot.filter(function(){return!0}).length!==Ot.length;if(wt)return"@__A-"+UID+"-"+(ot.push(Ot)-1)+"__@"}if(Ot instanceof URL)return"@__L-"+UID+"-"+(ut.push(Ot)-1)+"__@"}return yt==="function"?"@__F-"+UID+"-"+(et.push(Ot)-1)+"__@":yt==="undefined"?"@__U-"+UID+"-"+(st.push(Ot)-1)+"__@":yt==="number"&&!isNaN(Ot)&&!isFinite(Ot)?"@__I-"+UID+"-"+(at.push(Ot)-1)+"__@":yt==="bigint"?"@__B-"+UID+"-"+(ct.push(Ot)-1)+"__@":mt}function dt(vt){var mt=vt.toString();if(IS_NATIVE_CODE_REGEXP.test(mt))throw new TypeError("Serializing native function: "+vt.name);if(IS_PURE_FUNCTION.test(mt)||IS_ARROW_FUNCTION.test(mt))return mt;var Ot=mt.indexOf("("),yt=mt.substr(0,Ot).trim().split(" ").filter(function(bt){return bt.length>0}),wt=yt.filter(function(bt){return RESERVED_SYMBOLS.indexOf(bt)===-1});return wt.length>0?(yt.indexOf("async")>-1?"async ":"")+"function"+(yt.join("").indexOf("*")>-1?"*":"")+mt.substr(Ot):mt}if(_e.ignoreFunction&&typeof $=="function"&&($=void 0),$===void 0)return String($);var pt;return _e.isJSON&&!_e.space?pt=JSON.stringify($):pt=JSON.stringify($,_e.isJSON?null:ft,_e.space),typeof pt!="string"?String(pt):(_e.unsafe!==!0&&(pt=pt.replace(UNSAFE_CHARS_REGEXP,escapeUnsafeChars)),et.length===0&&tt.length===0&&nt.length===0&&rt.length===0&&it.length===0&&ot.length===0&&st.length===0&&at.length===0&&ct.length===0&&ut.length===0?pt:pt.replace(PLACE_HOLDER_REGEXP,function(vt,mt,Ot,yt){if(mt)return vt;if(Ot==="D")return'new Date("'+nt[yt].toISOString()+'")';if(Ot==="R")return"new RegExp("+J(tt[yt].source)+', "'+tt[yt].flags+'")';if(Ot==="M")return"new Map("+J(Array.from(rt[yt].entries()),_e)+")";if(Ot==="S")return"new Set("+J(Array.from(it[yt].values()),_e)+")";if(Ot==="A")return"Array.prototype.slice.call("+J(Object.assign({length:ot[yt].length},ot[yt]),_e)+")";if(Ot==="U")return"undefined";if(Ot==="I")return at[yt];if(Ot==="B")return'BigInt("'+ct[yt]+'")';if(Ot==="L")return"new URL("+J(ut[yt].toString(),_e)+")";var wt=et[yt];return dt(wt)}))};const serialize=getDefaultExportFromCjs(serializeJavascript),WIDGET="widget",WIDGET_ID="widgetId",WIDGET_URL="widgetUrl";var util;(function(J){J.assertEqual=tt=>tt;function $(tt){}J.assertIs=$;function _e(tt){throw new Error}J.assertNever=_e,J.arrayToEnum=tt=>{const nt={};for(const rt of tt)nt[rt]=rt;return nt},J.getValidEnumValues=tt=>{const nt=J.objectKeys(tt).filter(it=>typeof tt[tt[it]]!="number"),rt={};for(const it of nt)rt[it]=tt[it];return J.objectValues(rt)},J.objectValues=tt=>J.objectKeys(tt).map(function(nt){return tt[nt]}),J.objectKeys=typeof Object.keys=="function"?tt=>Object.keys(tt):tt=>{const nt=[];for(const rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&nt.push(rt);return nt},J.find=(tt,nt)=>{for(const rt of tt)if(nt(rt))return rt},J.isInteger=typeof Number.isInteger=="function"?tt=>Number.isInteger(tt):tt=>typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt;function et(tt,nt=" | "){return tt.map(rt=>typeof rt=="string"?`'${rt}'`:rt).join(nt)}J.joinValues=et,J.jsonStringifyReplacer=(tt,nt)=>typeof nt=="bigint"?nt.toString():nt})(util||(util={}));var objectUtil;(function(J){J.mergeShapes=($,_e)=>({...$,..._e})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=J=>{switch(typeof J){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(J)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(J)?ZodParsedType.array:J===null?ZodParsedType.null:J.then&&typeof J.then=="function"&&J.catch&&typeof J.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&J instanceof Map?ZodParsedType.map:typeof Set<"u"&&J instanceof Set?ZodParsedType.set:typeof Date<"u"&&J instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=J=>JSON.stringify(J,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor($){super(),this.issues=[],this.addIssue=et=>{this.issues=[...this.issues,et]},this.addIssues=(et=[])=>{this.issues=[...this.issues,...et]};const _e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,_e):this.__proto__=_e,this.name="ZodError",this.issues=$}format($){const _e=$||function(nt){return nt.message},et={_errors:[]},tt=nt=>{for(const rt of nt.issues)if(rt.code==="invalid_union")rt.unionErrors.map(tt);else if(rt.code==="invalid_return_type")tt(rt.returnTypeError);else if(rt.code==="invalid_arguments")tt(rt.argumentsError);else if(rt.path.length===0)et._errors.push(_e(rt));else{let it=et,ot=0;for(;ot<rt.path.length;){const st=rt.path[ot];ot===rt.path.length-1?(it[st]=it[st]||{_errors:[]},it[st]._errors.push(_e(rt))):it[st]=it[st]||{_errors:[]},it=it[st],ot++}}};return tt(this),et}static assert($){if(!($ instanceof ZodError))throw new Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=_e=>_e.message){const _e={},et=[];for(const tt of this.issues)tt.path.length>0?(_e[tt.path[0]]=_e[tt.path[0]]||[],_e[tt.path[0]].push($(tt))):et.push($(tt));return{formErrors:et,fieldErrors:_e}}get formErrors(){return this.flatten()}}ZodError.create=J=>new ZodError(J);const errorMap=(J,$)=>{let _e;switch(J.code){case ZodIssueCode.invalid_type:J.received===ZodParsedType.undefined?_e="Required":_e=`Expected ${J.expected}, received ${J.received}`;break;case ZodIssueCode.invalid_literal:_e=`Invalid literal value, expected ${JSON.stringify(J.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:_e=`Unrecognized key(s) in object: ${util.joinValues(J.keys,", ")}`;break;case ZodIssueCode.invalid_union:_e="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:_e=`Invalid discriminator value. Expected ${util.joinValues(J.options)}`;break;case ZodIssueCode.invalid_enum_value:_e=`Invalid enum value. Expected ${util.joinValues(J.options)}, received '${J.received}'`;break;case ZodIssueCode.invalid_arguments:_e="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:_e="Invalid function return type";break;case ZodIssueCode.invalid_date:_e="Invalid date";break;case ZodIssueCode.invalid_string:typeof J.validation=="object"?"includes"in J.validation?(_e=`Invalid input: must include "${J.validation.includes}"`,typeof J.validation.position=="number"&&(_e=`${_e} at one or more positions greater than or equal to ${J.validation.position}`)):"startsWith"in J.validation?_e=`Invalid input: must start with "${J.validation.startsWith}"`:"endsWith"in J.validation?_e=`Invalid input: must end with "${J.validation.endsWith}"`:util.assertNever(J.validation):J.validation!=="regex"?_e=`Invalid ${J.validation}`:_e="Invalid";break;case ZodIssueCode.too_small:J.type==="array"?_e=`Array must contain ${J.exact?"exactly":J.inclusive?"at least":"more than"} ${J.minimum} element(s)`:J.type==="string"?_e=`String must contain ${J.exact?"exactly":J.inclusive?"at least":"over"} ${J.minimum} character(s)`:J.type==="number"?_e=`Number must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${J.minimum}`:J.type==="date"?_e=`Date must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(J.minimum))}`:_e="Invalid input";break;case ZodIssueCode.too_big:J.type==="array"?_e=`Array must contain ${J.exact?"exactly":J.inclusive?"at most":"less than"} ${J.maximum} element(s)`:J.type==="string"?_e=`String must contain ${J.exact?"exactly":J.inclusive?"at most":"under"} ${J.maximum} character(s)`:J.type==="number"?_e=`Number must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`:J.type==="bigint"?_e=`BigInt must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`:J.type==="date"?_e=`Date must be ${J.exact?"exactly":J.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(J.maximum))}`:_e="Invalid input";break;case ZodIssueCode.custom:_e="Invalid input";break;case ZodIssueCode.invalid_intersection_types:_e="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:_e=`Number must be a multiple of ${J.multipleOf}`;break;case ZodIssueCode.not_finite:_e="Number must be finite";break;default:_e=$.defaultError,util.assertNever(J)}return{message:_e}};let overrideErrorMap=errorMap;function setErrorMap(J){overrideErrorMap=J}function getErrorMap(){return overrideErrorMap}const makeIssue=J=>{const{data:$,path:_e,errorMaps:et,issueData:tt}=J,nt=[..._e,...tt.path||[]],rt={...tt,path:nt};if(tt.message!==void 0)return{...tt,path:nt,message:tt.message};let it="";const ot=et.filter(st=>!!st).slice().reverse();for(const st of ot)it=st(rt,{data:$,defaultError:it}).message;return{...tt,path:nt,message:it}},EMPTY_PATH=[];function addIssueToContext(J,$){const _e=getErrorMap(),et=makeIssue({issueData:$,data:J.data,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,_e,_e===errorMap?void 0:errorMap].filter(tt=>!!tt)});J.common.issues.push(et)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray($,_e){const et=[];for(const tt of _e){if(tt.status==="aborted")return INVALID;tt.status==="dirty"&&$.dirty(),et.push(tt.value)}return{status:$.value,value:et}}static async mergeObjectAsync($,_e){const et=[];for(const tt of _e){const nt=await tt.key,rt=await tt.value;et.push({key:nt,value:rt})}return ParseStatus.mergeObjectSync($,et)}static mergeObjectSync($,_e){const et={};for(const tt of _e){const{key:nt,value:rt}=tt;if(nt.status==="aborted"||rt.status==="aborted")return INVALID;nt.status==="dirty"&&$.dirty(),rt.status==="dirty"&&$.dirty(),nt.value!=="__proto__"&&(typeof rt.value<"u"||tt.alwaysSet)&&(et[nt.value]=rt.value)}return{status:$.value,value:et}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=J=>({status:"dirty",value:J}),OK=J=>({status:"valid",value:J}),isAborted=J=>J.status==="aborted",isDirty=J=>J.status==="dirty",isValid=J=>J.status==="valid",isAsync=J=>typeof Promise<"u"&&J instanceof Promise;function __classPrivateFieldGet(J,$,_e,et){if(typeof $=="function"?J!==$||!0:!$.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $.get(J)}function __classPrivateFieldSet(J,$,_e,et,tt){if(typeof $=="function"?J!==$||!0:!$.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return $.set(J,_e),_e}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(J){J.errToObj=$=>typeof $=="string"?{message:$}:$||{},J.toString=$=>typeof $=="string"?$:$==null?void 0:$.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor($,_e,et,tt){this._cachedPath=[],this.parent=$,this.data=_e,this._path=et,this._key=tt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(J,$)=>{if(isValid($))return{success:!0,data:$.value};if(!J.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const _e=new ZodError(J.common.issues);return this._error=_e,this._error}}};function processCreateParams(J){if(!J)return{};const{errorMap:$,invalid_type_error:_e,required_error:et,description:tt}=J;if($&&(_e||et))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return $?{errorMap:$,description:tt}:{errorMap:(rt,it)=>{var ot,st;const{message:at}=J;return rt.code==="invalid_enum_value"?{message:at??it.defaultError}:typeof it.data>"u"?{message:(ot=at??et)!==null&&ot!==void 0?ot:it.defaultError}:rt.code!=="invalid_type"?{message:it.defaultError}:{message:(st=at??_e)!==null&&st!==void 0?st:it.defaultError}},description:tt}}class ZodType{get description(){return this._def.description}_getType($){return getParsedType($.data)}_getOrReturnCtx($,_e){return _e||{common:$.parent.common,data:$.data,parsedType:getParsedType($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new ParseStatus,ctx:{common:$.parent.common,data:$.data,parsedType:getParsedType($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){const _e=this._parse($);if(isAsync(_e))throw new Error("Synchronous parse encountered promise.");return _e}_parseAsync($){const _e=this._parse($);return Promise.resolve(_e)}parse($,_e){const et=this.safeParse($,_e);if(et.success)return et.data;throw et.error}safeParse($,_e){var et;const tt={common:{issues:[],async:(et=_e==null?void 0:_e.async)!==null&&et!==void 0?et:!1,contextualErrorMap:_e==null?void 0:_e.errorMap},path:(_e==null?void 0:_e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:getParsedType($)},nt=this._parseSync({data:$,path:tt.path,parent:tt});return handleResult(tt,nt)}"~validate"($){var _e,et;const tt={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:getParsedType($)};if(!this["~standard"].async)try{const nt=this._parseSync({data:$,path:[],parent:tt});return isValid(nt)?{value:nt.value}:{issues:tt.common.issues}}catch(nt){!((et=(_e=nt==null?void 0:nt.message)===null||_e===void 0?void 0:_e.toLowerCase())===null||et===void 0)&&et.includes("encountered")&&(this["~standard"].async=!0),tt.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:tt}).then(nt=>isValid(nt)?{value:nt.value}:{issues:tt.common.issues})}async parseAsync($,_e){const et=await this.safeParseAsync($,_e);if(et.success)return et.data;throw et.error}async safeParseAsync($,_e){const et={common:{issues:[],contextualErrorMap:_e==null?void 0:_e.errorMap,async:!0},path:(_e==null?void 0:_e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:getParsedType($)},tt=this._parse({data:$,path:et.path,parent:et}),nt=await(isAsync(tt)?tt:Promise.resolve(tt));return handleResult(et,nt)}refine($,_e){const et=tt=>typeof _e=="string"||typeof _e>"u"?{message:_e}:typeof _e=="function"?_e(tt):_e;return this._refinement((tt,nt)=>{const rt=$(tt),it=()=>nt.addIssue({code:ZodIssueCode.custom,...et(tt)});return typeof Promise<"u"&&rt instanceof Promise?rt.then(ot=>ot?!0:(it(),!1)):rt?!0:(it(),!1)})}refinement($,_e){return this._refinement((et,tt)=>$(et)?!0:(tt.addIssue(typeof _e=="function"?_e(et,tt):_e),!1))}_refinement($){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:_e=>this["~validate"](_e)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or($){return ZodUnion.create([this,$],this._def)}and($){return ZodIntersection.create(this,$,this._def)}transform($){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:$}})}default($){const _e=typeof $=="function"?$:()=>$;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:_e,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch($){const _e=typeof $=="function"?$:()=>$;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:_e,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe($){const _e=this.constructor;return new _e({...this._def,description:$})}pipe($){return ZodPipeline.create(this,$)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(J){let $="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return J.precision?$=`${$}\\.\\d{${J.precision}}`:J.precision==null&&($=`${$}(\\.\\d+)?`),$}function timeRegex(J){return new RegExp(`^${timeRegexSource(J)}$`)}function datetimeRegex(J){let $=`${dateRegexSource}T${timeRegexSource(J)}`;const _e=[];return _e.push(J.local?"Z?":"Z"),J.offset&&_e.push("([+-]\\d{2}:?\\d{2})"),$=`${$}(${_e.join("|")})`,new RegExp(`^${$}$`)}function isValidIP(J,$){return!!(($==="v4"||!$)&&ipv4Regex.test(J)||($==="v6"||!$)&&ipv6Regex.test(J))}function isValidJWT(J,$){if(!jwtRegex.test(J))return!1;try{const[_e]=J.split("."),et=_e.replace(/-/g,"+").replace(/_/g,"/").padEnd(_e.length+(4-_e.length%4)%4,"="),tt=JSON.parse(atob(et));return!(typeof tt!="object"||tt===null||!tt.typ||!tt.alg||$&&tt.alg!==$)}catch{return!1}}function isValidCidr(J,$){return!!(($==="v4"||!$)&&ipv4CidrRegex.test(J)||($==="v6"||!$)&&ipv6CidrRegex.test(J))}class ZodString extends ZodType{_parse($){if(this._def.coerce&&($.data=String($.data)),this._getType($)!==ZodParsedType.string){const nt=this._getOrReturnCtx($);return addIssueToContext(nt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:nt.parsedType}),INVALID}const et=new ParseStatus;let tt;for(const nt of this._def.checks)if(nt.kind==="min")$.data.length<nt.value&&(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.value,type:"string",inclusive:!0,exact:!1,message:nt.message}),et.dirty());else if(nt.kind==="max")$.data.length>nt.value&&(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.value,type:"string",inclusive:!0,exact:!1,message:nt.message}),et.dirty());else if(nt.kind==="length"){const rt=$.data.length>nt.value,it=$.data.length<nt.value;(rt||it)&&(tt=this._getOrReturnCtx($,tt),rt?addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.value,type:"string",inclusive:!0,exact:!0,message:nt.message}):it&&addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.value,type:"string",inclusive:!0,exact:!0,message:nt.message}),et.dirty())}else if(nt.kind==="email")emailRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"email",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"emoji",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="uuid")uuidRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="nanoid")nanoidRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="cuid")cuidRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="cuid2")cuid2Regex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="ulid")ulidRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"ulid",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty());else if(nt.kind==="url")try{new URL($.data)}catch{tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"url",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()}else nt.kind==="regex"?(nt.regex.lastIndex=0,nt.regex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"regex",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty())):nt.kind==="trim"?$.data=$.data.trim():nt.kind==="includes"?$.data.includes(nt.value,nt.position)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:{includes:nt.value,position:nt.position},message:nt.message}),et.dirty()):nt.kind==="toLowerCase"?$.data=$.data.toLowerCase():nt.kind==="toUpperCase"?$.data=$.data.toUpperCase():nt.kind==="startsWith"?$.data.startsWith(nt.value)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:{startsWith:nt.value},message:nt.message}),et.dirty()):nt.kind==="endsWith"?$.data.endsWith(nt.value)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:{endsWith:nt.value},message:nt.message}),et.dirty()):nt.kind==="datetime"?datetimeRegex(nt).test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:nt.message}),et.dirty()):nt.kind==="date"?dateRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:"date",message:nt.message}),et.dirty()):nt.kind==="time"?timeRegex(nt).test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.invalid_string,validation:"time",message:nt.message}),et.dirty()):nt.kind==="duration"?durationRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"duration",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):nt.kind==="ip"?isValidIP($.data,nt.version)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"ip",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):nt.kind==="jwt"?isValidJWT($.data,nt.alg)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"jwt",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):nt.kind==="cidr"?isValidCidr($.data,nt.version)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"cidr",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):nt.kind==="base64"?base64Regex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"base64",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):nt.kind==="base64url"?base64urlRegex.test($.data)||(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{validation:"base64url",code:ZodIssueCode.invalid_string,message:nt.message}),et.dirty()):util.assertNever(nt);return{status:et.value,value:$.data}}_regex($,_e,et){return this.refinement(tt=>$.test(tt),{validation:_e,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(et)})}_addCheck($){return new ZodString({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...errorUtil.errToObj($)})}url($){return this._addCheck({kind:"url",...errorUtil.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...errorUtil.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...errorUtil.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...errorUtil.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...errorUtil.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...errorUtil.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...errorUtil.errToObj($)})}base64($){return this._addCheck({kind:"base64",...errorUtil.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...errorUtil.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...errorUtil.errToObj($)})}ip($){return this._addCheck({kind:"ip",...errorUtil.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...errorUtil.errToObj($)})}datetime($){var _e,et;return typeof $=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$}):this._addCheck({kind:"datetime",precision:typeof($==null?void 0:$.precision)>"u"?null:$==null?void 0:$.precision,offset:(_e=$==null?void 0:$.offset)!==null&&_e!==void 0?_e:!1,local:(et=$==null?void 0:$.local)!==null&&et!==void 0?et:!1,...errorUtil.errToObj($==null?void 0:$.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){return typeof $=="string"?this._addCheck({kind:"time",precision:null,message:$}):this._addCheck({kind:"time",precision:typeof($==null?void 0:$.precision)>"u"?null:$==null?void 0:$.precision,...errorUtil.errToObj($==null?void 0:$.message)})}duration($){return this._addCheck({kind:"duration",...errorUtil.errToObj($)})}regex($,_e){return this._addCheck({kind:"regex",regex:$,...errorUtil.errToObj(_e)})}includes($,_e){return this._addCheck({kind:"includes",value:$,position:_e==null?void 0:_e.position,...errorUtil.errToObj(_e==null?void 0:_e.message)})}startsWith($,_e){return this._addCheck({kind:"startsWith",value:$,...errorUtil.errToObj(_e)})}endsWith($,_e){return this._addCheck({kind:"endsWith",value:$,...errorUtil.errToObj(_e)})}min($,_e){return this._addCheck({kind:"min",value:$,...errorUtil.errToObj(_e)})}max($,_e){return this._addCheck({kind:"max",value:$,...errorUtil.errToObj(_e)})}length($,_e){return this._addCheck({kind:"length",value:$,...errorUtil.errToObj(_e)})}nonempty($){return this.min(1,errorUtil.errToObj($))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find($=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find($=>$.kind==="date")}get isTime(){return!!this._def.checks.find($=>$.kind==="time")}get isDuration(){return!!this._def.checks.find($=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find($=>$.kind==="email")}get isURL(){return!!this._def.checks.find($=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find($=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find($=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find($=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find($=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find($=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find($=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find($=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find($=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find($=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find($=>$.kind==="base64url")}get minLength(){let $=null;for(const _e of this._def.checks)_e.kind==="min"&&($===null||_e.value>$)&&($=_e.value);return $}get maxLength(){let $=null;for(const _e of this._def.checks)_e.kind==="max"&&($===null||_e.value<$)&&($=_e.value);return $}}ZodString.create=J=>{var $;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:($=J==null?void 0:J.coerce)!==null&&$!==void 0?$:!1,...processCreateParams(J)})};function floatSafeRemainder(J,$){const _e=(J.toString().split(".")[1]||"").length,et=($.toString().split(".")[1]||"").length,tt=_e>et?_e:et,nt=parseInt(J.toFixed(tt).replace(".","")),rt=parseInt($.toFixed(tt).replace(".",""));return nt%rt/Math.pow(10,tt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce&&($.data=Number($.data)),this._getType($)!==ZodParsedType.number){const nt=this._getOrReturnCtx($);return addIssueToContext(nt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:nt.parsedType}),INVALID}let et;const tt=new ParseStatus;for(const nt of this._def.checks)nt.kind==="int"?util.isInteger($.data)||(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:nt.message}),tt.dirty()):nt.kind==="min"?(nt.inclusive?$.data<nt.value:$.data<=nt.value)&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:nt.value,type:"number",inclusive:nt.inclusive,exact:!1,message:nt.message}),tt.dirty()):nt.kind==="max"?(nt.inclusive?$.data>nt.value:$.data>=nt.value)&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:nt.value,type:"number",inclusive:nt.inclusive,exact:!1,message:nt.message}),tt.dirty()):nt.kind==="multipleOf"?floatSafeRemainder($.data,nt.value)!==0&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.not_multiple_of,multipleOf:nt.value,message:nt.message}),tt.dirty()):nt.kind==="finite"?Number.isFinite($.data)||(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.not_finite,message:nt.message}),tt.dirty()):util.assertNever(nt);return{status:tt.value,value:$.data}}gte($,_e){return this.setLimit("min",$,!0,errorUtil.toString(_e))}gt($,_e){return this.setLimit("min",$,!1,errorUtil.toString(_e))}lte($,_e){return this.setLimit("max",$,!0,errorUtil.toString(_e))}lt($,_e){return this.setLimit("max",$,!1,errorUtil.toString(_e))}setLimit($,_e,et,tt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:$,value:_e,inclusive:et,message:errorUtil.toString(tt)}]})}_addCheck($){return new ZodNumber({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:errorUtil.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString($)})}multipleOf($,_e){return this._addCheck({kind:"multipleOf",value:$,message:errorUtil.toString(_e)})}finite($){return this._addCheck({kind:"finite",message:errorUtil.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString($)})}get minValue(){let $=null;for(const _e of this._def.checks)_e.kind==="min"&&($===null||_e.value>$)&&($=_e.value);return $}get maxValue(){let $=null;for(const _e of this._def.checks)_e.kind==="max"&&($===null||_e.value<$)&&($=_e.value);return $}get isInt(){return!!this._def.checks.find($=>$.kind==="int"||$.kind==="multipleOf"&&util.isInteger($.value))}get isFinite(){let $=null,_e=null;for(const et of this._def.checks){if(et.kind==="finite"||et.kind==="int"||et.kind==="multipleOf")return!0;et.kind==="min"?(_e===null||et.value>_e)&&(_e=et.value):et.kind==="max"&&($===null||et.value<$)&&($=et.value)}return Number.isFinite(_e)&&Number.isFinite($)}}ZodNumber.create=J=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(J==null?void 0:J.coerce)||!1,...processCreateParams(J)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==ZodParsedType.bigint)return this._getInvalidInput($);let et;const tt=new ParseStatus;for(const nt of this._def.checks)nt.kind==="min"?(nt.inclusive?$.data<nt.value:$.data<=nt.value)&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.too_small,type:"bigint",minimum:nt.value,inclusive:nt.inclusive,message:nt.message}),tt.dirty()):nt.kind==="max"?(nt.inclusive?$.data>nt.value:$.data>=nt.value)&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.too_big,type:"bigint",maximum:nt.value,inclusive:nt.inclusive,message:nt.message}),tt.dirty()):nt.kind==="multipleOf"?$.data%nt.value!==BigInt(0)&&(et=this._getOrReturnCtx($,et),addIssueToContext(et,{code:ZodIssueCode.not_multiple_of,multipleOf:nt.value,message:nt.message}),tt.dirty()):util.assertNever(nt);return{status:tt.value,value:$.data}}_getInvalidInput($){const _e=this._getOrReturnCtx($);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:_e.parsedType}),INVALID}gte($,_e){return this.setLimit("min",$,!0,errorUtil.toString(_e))}gt($,_e){return this.setLimit("min",$,!1,errorUtil.toString(_e))}lte($,_e){return this.setLimit("max",$,!0,errorUtil.toString(_e))}lt($,_e){return this.setLimit("max",$,!1,errorUtil.toString(_e))}setLimit($,_e,et,tt){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:$,value:_e,inclusive:et,message:errorUtil.toString(tt)}]})}_addCheck($){return new ZodBigInt({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString($)})}multipleOf($,_e){return this._addCheck({kind:"multipleOf",value:$,message:errorUtil.toString(_e)})}get minValue(){let $=null;for(const _e of this._def.checks)_e.kind==="min"&&($===null||_e.value>$)&&($=_e.value);return $}get maxValue(){let $=null;for(const _e of this._def.checks)_e.kind==="max"&&($===null||_e.value<$)&&($=_e.value);return $}}ZodBigInt.create=J=>{var $;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:($=J==null?void 0:J.coerce)!==null&&$!==void 0?$:!1,...processCreateParams(J)})};class ZodBoolean extends ZodType{_parse($){if(this._def.coerce&&($.data=!!$.data),this._getType($)!==ZodParsedType.boolean){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:et.parsedType}),INVALID}return OK($.data)}}ZodBoolean.create=J=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(J==null?void 0:J.coerce)||!1,...processCreateParams(J)});class ZodDate extends ZodType{_parse($){if(this._def.coerce&&($.data=new Date($.data)),this._getType($)!==ZodParsedType.date){const nt=this._getOrReturnCtx($);return addIssueToContext(nt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:nt.parsedType}),INVALID}if(isNaN($.data.getTime())){const nt=this._getOrReturnCtx($);return addIssueToContext(nt,{code:ZodIssueCode.invalid_date}),INVALID}const et=new ParseStatus;let tt;for(const nt of this._def.checks)nt.kind==="min"?$.data.getTime()<nt.value&&(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.too_small,message:nt.message,inclusive:!0,exact:!1,minimum:nt.value,type:"date"}),et.dirty()):nt.kind==="max"?$.data.getTime()>nt.value&&(tt=this._getOrReturnCtx($,tt),addIssueToContext(tt,{code:ZodIssueCode.too_big,message:nt.message,inclusive:!0,exact:!1,maximum:nt.value,type:"date"}),et.dirty()):util.assertNever(nt);return{status:et.value,value:new Date($.data.getTime())}}_addCheck($){return new ZodDate({...this._def,checks:[...this._def.checks,$]})}min($,_e){return this._addCheck({kind:"min",value:$.getTime(),message:errorUtil.toString(_e)})}max($,_e){return this._addCheck({kind:"max",value:$.getTime(),message:errorUtil.toString(_e)})}get minDate(){let $=null;for(const _e of this._def.checks)_e.kind==="min"&&($===null||_e.value>$)&&($=_e.value);return $!=null?new Date($):null}get maxDate(){let $=null;for(const _e of this._def.checks)_e.kind==="max"&&($===null||_e.value<$)&&($=_e.value);return $!=null?new Date($):null}}ZodDate.create=J=>new ZodDate({checks:[],coerce:(J==null?void 0:J.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(J)});class ZodSymbol extends ZodType{_parse($){if(this._getType($)!==ZodParsedType.symbol){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:et.parsedType}),INVALID}return OK($.data)}}ZodSymbol.create=J=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(J)});class ZodUndefined extends ZodType{_parse($){if(this._getType($)!==ZodParsedType.undefined){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:et.parsedType}),INVALID}return OK($.data)}}ZodUndefined.create=J=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(J)});class ZodNull extends ZodType{_parse($){if(this._getType($)!==ZodParsedType.null){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:et.parsedType}),INVALID}return OK($.data)}}ZodNull.create=J=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(J)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse($){return OK($.data)}}ZodAny.create=J=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(J)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse($){return OK($.data)}}ZodUnknown.create=J=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(J)});class ZodNever extends ZodType{_parse($){const _e=this._getOrReturnCtx($);return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:_e.parsedType}),INVALID}}ZodNever.create=J=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(J)});class ZodVoid extends ZodType{_parse($){if(this._getType($)!==ZodParsedType.undefined){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:et.parsedType}),INVALID}return OK($.data)}}ZodVoid.create=J=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(J)});class ZodArray extends ZodType{_parse($){const{ctx:_e,status:et}=this._processInputParams($),tt=this._def;if(_e.parsedType!==ZodParsedType.array)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:_e.parsedType}),INVALID;if(tt.exactLength!==null){const rt=_e.data.length>tt.exactLength.value,it=_e.data.length<tt.exactLength.value;(rt||it)&&(addIssueToContext(_e,{code:rt?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:it?tt.exactLength.value:void 0,maximum:rt?tt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:tt.exactLength.message}),et.dirty())}if(tt.minLength!==null&&_e.data.length<tt.minLength.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:tt.minLength.value,type:"array",inclusive:!0,exact:!1,message:tt.minLength.message}),et.dirty()),tt.maxLength!==null&&_e.data.length>tt.maxLength.value&&(addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:tt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:tt.maxLength.message}),et.dirty()),_e.common.async)return Promise.all([..._e.data].map((rt,it)=>tt.type._parseAsync(new ParseInputLazyPath(_e,rt,_e.path,it)))).then(rt=>ParseStatus.mergeArray(et,rt));const nt=[..._e.data].map((rt,it)=>tt.type._parseSync(new ParseInputLazyPath(_e,rt,_e.path,it)));return ParseStatus.mergeArray(et,nt)}get element(){return this._def.type}min($,_e){return new ZodArray({...this._def,minLength:{value:$,message:errorUtil.toString(_e)}})}max($,_e){return new ZodArray({...this._def,maxLength:{value:$,message:errorUtil.toString(_e)}})}length($,_e){return new ZodArray({...this._def,exactLength:{value:$,message:errorUtil.toString(_e)}})}nonempty($){return this.min(1,$)}}ZodArray.create=(J,$)=>new ZodArray({type:J,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams($)});function deepPartialify(J){if(J instanceof ZodObject){const $={};for(const _e in J.shape){const et=J.shape[_e];$[_e]=ZodOptional.create(deepPartialify(et))}return new ZodObject({...J._def,shape:()=>$})}else return J instanceof ZodArray?new ZodArray({...J._def,type:deepPartialify(J.element)}):J instanceof ZodOptional?ZodOptional.create(deepPartialify(J.unwrap())):J instanceof ZodNullable?ZodNullable.create(deepPartialify(J.unwrap())):J instanceof ZodTuple?ZodTuple.create(J.items.map($=>deepPartialify($))):J}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const $=this._def.shape(),_e=util.objectKeys($);return this._cached={shape:$,keys:_e}}_parse($){if(this._getType($)!==ZodParsedType.object){const st=this._getOrReturnCtx($);return addIssueToContext(st,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:st.parsedType}),INVALID}const{status:et,ctx:tt}=this._processInputParams($),{shape:nt,keys:rt}=this._getCached(),it=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const st in tt.data)rt.includes(st)||it.push(st);const ot=[];for(const st of rt){const at=nt[st],ct=tt.data[st];ot.push({key:{status:"valid",value:st},value:at._parse(new ParseInputLazyPath(tt,ct,tt.path,st)),alwaysSet:st in tt.data})}if(this._def.catchall instanceof ZodNever){const st=this._def.unknownKeys;if(st==="passthrough")for(const at of it)ot.push({key:{status:"valid",value:at},value:{status:"valid",value:tt.data[at]}});else if(st==="strict")it.length>0&&(addIssueToContext(tt,{code:ZodIssueCode.unrecognized_keys,keys:it}),et.dirty());else if(st!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const st=this._def.catchall;for(const at of it){const ct=tt.data[at];ot.push({key:{status:"valid",value:at},value:st._parse(new ParseInputLazyPath(tt,ct,tt.path,at)),alwaysSet:at in tt.data})}}return tt.common.async?Promise.resolve().then(async()=>{const st=[];for(const at of ot){const ct=await at.key,ut=await at.value;st.push({key:ct,value:ut,alwaysSet:at.alwaysSet})}return st}).then(st=>ParseStatus.mergeObjectSync(et,st)):ParseStatus.mergeObjectSync(et,ot)}get shape(){return this._def.shape()}strict($){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(_e,et)=>{var tt,nt,rt,it;const ot=(rt=(nt=(tt=this._def).errorMap)===null||nt===void 0?void 0:nt.call(tt,_e,et).message)!==null&&rt!==void 0?rt:et.defaultError;return _e.code==="unrecognized_keys"?{message:(it=errorUtil.errToObj($).message)!==null&&it!==void 0?it:ot}:{message:ot}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend($){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new ZodObject({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey($,_e){return this.augment({[$]:_e})}catchall($){return new ZodObject({...this._def,catchall:$})}pick($){const _e={};return util.objectKeys($).forEach(et=>{$[et]&&this.shape[et]&&(_e[et]=this.shape[et])}),new ZodObject({...this._def,shape:()=>_e})}omit($){const _e={};return util.objectKeys(this.shape).forEach(et=>{$[et]||(_e[et]=this.shape[et])}),new ZodObject({...this._def,shape:()=>_e})}deepPartial(){return deepPartialify(this)}partial($){const _e={};return util.objectKeys(this.shape).forEach(et=>{const tt=this.shape[et];$&&!$[et]?_e[et]=tt:_e[et]=tt.optional()}),new ZodObject({...this._def,shape:()=>_e})}required($){const _e={};return util.objectKeys(this.shape).forEach(et=>{if($&&!$[et])_e[et]=this.shape[et];else{let nt=this.shape[et];for(;nt instanceof ZodOptional;)nt=nt._def.innerType;_e[et]=nt}}),new ZodObject({...this._def,shape:()=>_e})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(J,$)=>new ZodObject({shape:()=>J,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams($)}),ZodObject.strictCreate=(J,$)=>new ZodObject({shape:()=>J,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams($)}),ZodObject.lazycreate=(J,$)=>new ZodObject({shape:J,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams($)});class ZodUnion extends ZodType{_parse($){const{ctx:_e}=this._processInputParams($),et=this._def.options;function tt(nt){for(const it of nt)if(it.result.status==="valid")return it.result;for(const it of nt)if(it.result.status==="dirty")return _e.common.issues.push(...it.ctx.common.issues),it.result;const rt=nt.map(it=>new ZodError(it.ctx.common.issues));return addIssueToContext(_e,{code:ZodIssueCode.invalid_union,unionErrors:rt}),INVALID}if(_e.common.async)return Promise.all(et.map(async nt=>{const rt={..._e,common:{..._e.common,issues:[]},parent:null};return{result:await nt._parseAsync({data:_e.data,path:_e.path,parent:rt}),ctx:rt}})).then(tt);{let nt;const rt=[];for(const ot of et){const st={..._e,common:{..._e.common,issues:[]},parent:null},at=ot._parseSync({data:_e.data,path:_e.path,parent:st});if(at.status==="valid")return at;at.status==="dirty"&&!nt&&(nt={result:at,ctx:st}),st.common.issues.length&&rt.push(st.common.issues)}if(nt)return _e.common.issues.push(...nt.ctx.common.issues),nt.result;const it=rt.map(ot=>new ZodError(ot));return addIssueToContext(_e,{code:ZodIssueCode.invalid_union,unionErrors:it}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(J,$)=>new ZodUnion({options:J,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams($)});const getDiscriminator=J=>J instanceof ZodLazy?getDiscriminator(J.schema):J instanceof ZodEffects?getDiscriminator(J.innerType()):J instanceof ZodLiteral?[J.value]:J instanceof ZodEnum?J.options:J instanceof ZodNativeEnum?util.objectValues(J.enum):J instanceof ZodDefault?getDiscriminator(J._def.innerType):J instanceof ZodUndefined?[void 0]:J instanceof ZodNull?[null]:J instanceof ZodOptional?[void 0,...getDiscriminator(J.unwrap())]:J instanceof ZodNullable?[null,...getDiscriminator(J.unwrap())]:J instanceof ZodBranded||J instanceof ZodReadonly?getDiscriminator(J.unwrap()):J instanceof ZodCatch?getDiscriminator(J._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse($){const{ctx:_e}=this._processInputParams($);if(_e.parsedType!==ZodParsedType.object)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:_e.parsedType}),INVALID;const et=this.discriminator,tt=_e.data[et],nt=this.optionsMap.get(tt);return nt?_e.common.async?nt._parseAsync({data:_e.data,path:_e.path,parent:_e}):nt._parseSync({data:_e.data,path:_e.path,parent:_e}):(addIssueToContext(_e,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[et]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,_e,et){const tt=new Map;for(const nt of _e){const rt=getDiscriminator(nt.shape[$]);if(!rt.length)throw new Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(const it of rt){if(tt.has(it))throw new Error(`Discriminator property ${String($)} has duplicate value ${String(it)}`);tt.set(it,nt)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:$,options:_e,optionsMap:tt,...processCreateParams(et)})}}function mergeValues(J,$){const _e=getParsedType(J),et=getParsedType($);if(J===$)return{valid:!0,data:J};if(_e===ZodParsedType.object&&et===ZodParsedType.object){const tt=util.objectKeys($),nt=util.objectKeys(J).filter(it=>tt.indexOf(it)!==-1),rt={...J,...$};for(const it of nt){const ot=mergeValues(J[it],$[it]);if(!ot.valid)return{valid:!1};rt[it]=ot.data}return{valid:!0,data:rt}}else if(_e===ZodParsedType.array&&et===ZodParsedType.array){if(J.length!==$.length)return{valid:!1};const tt=[];for(let nt=0;nt<J.length;nt++){const rt=J[nt],it=$[nt],ot=mergeValues(rt,it);if(!ot.valid)return{valid:!1};tt.push(ot.data)}return{valid:!0,data:tt}}else return _e===ZodParsedType.date&&et===ZodParsedType.date&&+J==+$?{valid:!0,data:J}:{valid:!1}}class ZodIntersection extends ZodType{_parse($){const{status:_e,ctx:et}=this._processInputParams($),tt=(nt,rt)=>{if(isAborted(nt)||isAborted(rt))return INVALID;const it=mergeValues(nt.value,rt.value);return it.valid?((isDirty(nt)||isDirty(rt))&&_e.dirty(),{status:_e.value,value:it.data}):(addIssueToContext(et,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return et.common.async?Promise.all([this._def.left._parseAsync({data:et.data,path:et.path,parent:et}),this._def.right._parseAsync({data:et.data,path:et.path,parent:et})]).then(([nt,rt])=>tt(nt,rt)):tt(this._def.left._parseSync({data:et.data,path:et.path,parent:et}),this._def.right._parseSync({data:et.data,path:et.path,parent:et}))}}ZodIntersection.create=(J,$,_e)=>new ZodIntersection({left:J,right:$,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(_e)});class ZodTuple extends ZodType{_parse($){const{status:_e,ctx:et}=this._processInputParams($);if(et.parsedType!==ZodParsedType.array)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:et.parsedType}),INVALID;if(et.data.length<this._def.items.length)return addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&et.data.length>this._def.items.length&&(addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e.dirty());const nt=[...et.data].map((rt,it)=>{const ot=this._def.items[it]||this._def.rest;return ot?ot._parse(new ParseInputLazyPath(et,rt,et.path,it)):null}).filter(rt=>!!rt);return et.common.async?Promise.all(nt).then(rt=>ParseStatus.mergeArray(_e,rt)):ParseStatus.mergeArray(_e,nt)}get items(){return this._def.items}rest($){return new ZodTuple({...this._def,rest:$})}}ZodTuple.create=(J,$)=>{if(!Array.isArray(J))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:J,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams($)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){const{status:_e,ctx:et}=this._processInputParams($);if(et.parsedType!==ZodParsedType.object)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:et.parsedType}),INVALID;const tt=[],nt=this._def.keyType,rt=this._def.valueType;for(const it in et.data)tt.push({key:nt._parse(new ParseInputLazyPath(et,it,et.path,it)),value:rt._parse(new ParseInputLazyPath(et,et.data[it],et.path,it)),alwaysSet:it in et.data});return et.common.async?ParseStatus.mergeObjectAsync(_e,tt):ParseStatus.mergeObjectSync(_e,tt)}get element(){return this._def.valueType}static create($,_e,et){return _e instanceof ZodType?new ZodRecord({keyType:$,valueType:_e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(et)}):new ZodRecord({keyType:ZodString.create(),valueType:$,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(_e)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){const{status:_e,ctx:et}=this._processInputParams($);if(et.parsedType!==ZodParsedType.map)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:et.parsedType}),INVALID;const tt=this._def.keyType,nt=this._def.valueType,rt=[...et.data.entries()].map(([it,ot],st)=>({key:tt._parse(new ParseInputLazyPath(et,it,et.path,[st,"key"])),value:nt._parse(new ParseInputLazyPath(et,ot,et.path,[st,"value"]))}));if(et.common.async){const it=new Map;return Promise.resolve().then(async()=>{for(const ot of rt){const st=await ot.key,at=await ot.value;if(st.status==="aborted"||at.status==="aborted")return INVALID;(st.status==="dirty"||at.status==="dirty")&&_e.dirty(),it.set(st.value,at.value)}return{status:_e.value,value:it}})}else{const it=new Map;for(const ot of rt){const st=ot.key,at=ot.value;if(st.status==="aborted"||at.status==="aborted")return INVALID;(st.status==="dirty"||at.status==="dirty")&&_e.dirty(),it.set(st.value,at.value)}return{status:_e.value,value:it}}}}ZodMap.create=(J,$,_e)=>new ZodMap({valueType:$,keyType:J,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(_e)});class ZodSet extends ZodType{_parse($){const{status:_e,ctx:et}=this._processInputParams($);if(et.parsedType!==ZodParsedType.set)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:et.parsedType}),INVALID;const tt=this._def;tt.minSize!==null&&et.data.size<tt.minSize.value&&(addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.minSize.value,type:"set",inclusive:!0,exact:!1,message:tt.minSize.message}),_e.dirty()),tt.maxSize!==null&&et.data.size>tt.maxSize.value&&(addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:tt.maxSize.message}),_e.dirty());const nt=this._def.valueType;function rt(ot){const st=new Set;for(const at of ot){if(at.status==="aborted")return INVALID;at.status==="dirty"&&_e.dirty(),st.add(at.value)}return{status:_e.value,value:st}}const it=[...et.data.values()].map((ot,st)=>nt._parse(new ParseInputLazyPath(et,ot,et.path,st)));return et.common.async?Promise.all(it).then(ot=>rt(ot)):rt(it)}min($,_e){return new ZodSet({...this._def,minSize:{value:$,message:errorUtil.toString(_e)}})}max($,_e){return new ZodSet({...this._def,maxSize:{value:$,message:errorUtil.toString(_e)}})}size($,_e){return this.min($,_e).max($,_e)}nonempty($){return this.min(1,$)}}ZodSet.create=(J,$)=>new ZodSet({valueType:J,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams($)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse($){const{ctx:_e}=this._processInputParams($);if(_e.parsedType!==ZodParsedType.function)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:_e.parsedType}),INVALID;function et(it,ot){return makeIssue({data:it,path:_e.path,errorMaps:[_e.common.contextualErrorMap,_e.schemaErrorMap,getErrorMap(),errorMap].filter(st=>!!st),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ot}})}function tt(it,ot){return makeIssue({data:it,path:_e.path,errorMaps:[_e.common.contextualErrorMap,_e.schemaErrorMap,getErrorMap(),errorMap].filter(st=>!!st),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ot}})}const nt={errorMap:_e.common.contextualErrorMap},rt=_e.data;if(this._def.returns instanceof ZodPromise){const it=this;return OK(async function(...ot){const st=new ZodError([]),at=await it._def.args.parseAsync(ot,nt).catch(ft=>{throw st.addIssue(et(ot,ft)),st}),ct=await Reflect.apply(rt,this,at);return await it._def.returns._def.type.parseAsync(ct,nt).catch(ft=>{throw st.addIssue(tt(ct,ft)),st})})}else{const it=this;return OK(function(...ot){const st=it._def.args.safeParse(ot,nt);if(!st.success)throw new ZodError([et(ot,st.error)]);const at=Reflect.apply(rt,this,st.data),ct=it._def.returns.safeParse(at,nt);if(!ct.success)throw new ZodError([tt(at,ct.error)]);return ct.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new ZodFunction({...this._def,args:ZodTuple.create($).rest(ZodUnknown.create())})}returns($){return new ZodFunction({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,_e,et){return new ZodFunction({args:$||ZodTuple.create([]).rest(ZodUnknown.create()),returns:_e||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(et)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse($){const{ctx:_e}=this._processInputParams($);return this._def.getter()._parse({data:_e.data,path:_e.path,parent:_e})}}ZodLazy.create=(J,$)=>new ZodLazy({getter:J,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams($)});class ZodLiteral extends ZodType{_parse($){if($.data!==this._def.value){const _e=this._getOrReturnCtx($);return addIssueToContext(_e,{received:_e.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:$.data}}get value(){return this._def.value}}ZodLiteral.create=(J,$)=>new ZodLiteral({value:J,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams($)});function createZodEnum(J,$){return new ZodEnum({values:J,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams($)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse($){if(typeof $.data!="string"){const _e=this._getOrReturnCtx($),et=this._def.values;return addIssueToContext(_e,{expected:util.joinValues(et),received:_e.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has($.data)){const _e=this._getOrReturnCtx($),et=this._def.values;return addIssueToContext(_e,{received:_e.data,code:ZodIssueCode.invalid_enum_value,options:et}),INVALID}return OK($.data)}get options(){return this._def.values}get enum(){const $={};for(const _e of this._def.values)$[_e]=_e;return $}get Values(){const $={};for(const _e of this._def.values)$[_e]=_e;return $}get Enum(){const $={};for(const _e of this._def.values)$[_e]=_e;return $}extract($,_e=this._def){return ZodEnum.create($,{...this._def,..._e})}exclude($,_e=this._def){return ZodEnum.create(this.options.filter(et=>!$.includes(et)),{...this._def,..._e})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse($){const _e=util.getValidEnumValues(this._def.values),et=this._getOrReturnCtx($);if(et.parsedType!==ZodParsedType.string&&et.parsedType!==ZodParsedType.number){const tt=util.objectValues(_e);return addIssueToContext(et,{expected:util.joinValues(tt),received:et.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has($.data)){const tt=util.objectValues(_e);return addIssueToContext(et,{received:et.data,code:ZodIssueCode.invalid_enum_value,options:tt}),INVALID}return OK($.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(J,$)=>new ZodNativeEnum({values:J,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams($)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse($){const{ctx:_e}=this._processInputParams($);if(_e.parsedType!==ZodParsedType.promise&&_e.common.async===!1)return addIssueToContext(_e,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:_e.parsedType}),INVALID;const et=_e.parsedType===ZodParsedType.promise?_e.data:Promise.resolve(_e.data);return OK(et.then(tt=>this._def.type.parseAsync(tt,{path:_e.path,errorMap:_e.common.contextualErrorMap})))}}ZodPromise.create=(J,$)=>new ZodPromise({type:J,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams($)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){const{status:_e,ctx:et}=this._processInputParams($),tt=this._def.effect||null,nt={addIssue:rt=>{addIssueToContext(et,rt),rt.fatal?_e.abort():_e.dirty()},get path(){return et.path}};if(nt.addIssue=nt.addIssue.bind(nt),tt.type==="preprocess"){const rt=tt.transform(et.data,nt);if(et.common.async)return Promise.resolve(rt).then(async it=>{if(_e.value==="aborted")return INVALID;const ot=await this._def.schema._parseAsync({data:it,path:et.path,parent:et});return ot.status==="aborted"?INVALID:ot.status==="dirty"||_e.value==="dirty"?DIRTY(ot.value):ot});{if(_e.value==="aborted")return INVALID;const it=this._def.schema._parseSync({data:rt,path:et.path,parent:et});return it.status==="aborted"?INVALID:it.status==="dirty"||_e.value==="dirty"?DIRTY(it.value):it}}if(tt.type==="refinement"){const rt=it=>{const ot=tt.refinement(it,nt);if(et.common.async)return Promise.resolve(ot);if(ot instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return it};if(et.common.async===!1){const it=this._def.schema._parseSync({data:et.data,path:et.path,parent:et});return it.status==="aborted"?INVALID:(it.status==="dirty"&&_e.dirty(),rt(it.value),{status:_e.value,value:it.value})}else return this._def.schema._parseAsync({data:et.data,path:et.path,parent:et}).then(it=>it.status==="aborted"?INVALID:(it.status==="dirty"&&_e.dirty(),rt(it.value).then(()=>({status:_e.value,value:it.value}))))}if(tt.type==="transform")if(et.common.async===!1){const rt=this._def.schema._parseSync({data:et.data,path:et.path,parent:et});if(!isValid(rt))return rt;const it=tt.transform(rt.value,nt);if(it instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:_e.value,value:it}}else return this._def.schema._parseAsync({data:et.data,path:et.path,parent:et}).then(rt=>isValid(rt)?Promise.resolve(tt.transform(rt.value,nt)).then(it=>({status:_e.value,value:it})):rt);util.assertNever(tt)}}ZodEffects.create=(J,$,_e)=>new ZodEffects({schema:J,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:$,...processCreateParams(_e)}),ZodEffects.createWithPreprocess=(J,$,_e)=>new ZodEffects({schema:$,effect:{type:"preprocess",transform:J},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(_e)});class ZodOptional extends ZodType{_parse($){return this._getType($)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse($)}unwrap(){return this._def.innerType}}ZodOptional.create=(J,$)=>new ZodOptional({innerType:J,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams($)});class ZodNullable extends ZodType{_parse($){return this._getType($)===ZodParsedType.null?OK(null):this._def.innerType._parse($)}unwrap(){return this._def.innerType}}ZodNullable.create=(J,$)=>new ZodNullable({innerType:J,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams($)});class ZodDefault extends ZodType{_parse($){const{ctx:_e}=this._processInputParams($);let et=_e.data;return _e.parsedType===ZodParsedType.undefined&&(et=this._def.defaultValue()),this._def.innerType._parse({data:et,path:_e.path,parent:_e})}removeDefault(){return this._def.innerType}}ZodDefault.create=(J,$)=>new ZodDefault({innerType:J,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof $.default=="function"?$.default:()=>$.default,...processCreateParams($)});class ZodCatch extends ZodType{_parse($){const{ctx:_e}=this._processInputParams($),et={..._e,common:{..._e.common,issues:[]}},tt=this._def.innerType._parse({data:et.data,path:et.path,parent:{...et}});return isAsync(tt)?tt.then(nt=>({status:"valid",value:nt.status==="valid"?nt.value:this._def.catchValue({get error(){return new ZodError(et.common.issues)},input:et.data})})):{status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new ZodError(et.common.issues)},input:et.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(J,$)=>new ZodCatch({innerType:J,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof $.catch=="function"?$.catch:()=>$.catch,...processCreateParams($)});class ZodNaN extends ZodType{_parse($){if(this._getType($)!==ZodParsedType.nan){const et=this._getOrReturnCtx($);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:et.parsedType}),INVALID}return{status:"valid",value:$.data}}}ZodNaN.create=J=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(J)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse($){const{ctx:_e}=this._processInputParams($),et=_e.data;return this._def.type._parse({data:et,path:_e.path,parent:_e})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse($){const{status:_e,ctx:et}=this._processInputParams($);if(et.common.async)return(async()=>{const nt=await this._def.in._parseAsync({data:et.data,path:et.path,parent:et});return nt.status==="aborted"?INVALID:nt.status==="dirty"?(_e.dirty(),DIRTY(nt.value)):this._def.out._parseAsync({data:nt.value,path:et.path,parent:et})})();{const tt=this._def.in._parseSync({data:et.data,path:et.path,parent:et});return tt.status==="aborted"?INVALID:tt.status==="dirty"?(_e.dirty(),{status:"dirty",value:tt.value}):this._def.out._parseSync({data:tt.value,path:et.path,parent:et})}}static create($,_e){return new ZodPipeline({in:$,out:_e,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse($){const _e=this._def.innerType._parse($),et=tt=>(isValid(tt)&&(tt.value=Object.freeze(tt.value)),tt);return isAsync(_e)?_e.then(tt=>et(tt)):et(_e)}unwrap(){return this._def.innerType}}ZodReadonly.create=(J,$)=>new ZodReadonly({innerType:J,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams($)});function cleanParams(J,$){const _e=typeof J=="function"?J($):typeof J=="string"?{message:J}:J;return typeof _e=="string"?{message:_e}:_e}function custom(J,$={},_e){return J?ZodAny.create().superRefine((et,tt)=>{var nt,rt;const it=J(et);if(it instanceof Promise)return it.then(ot=>{var st,at;if(!ot){const ct=cleanParams($,et),ut=(at=(st=ct.fatal)!==null&&st!==void 0?st:_e)!==null&&at!==void 0?at:!0;tt.addIssue({code:"custom",...ct,fatal:ut})}});if(!it){const ot=cleanParams($,et),st=(rt=(nt=ot.fatal)!==null&&nt!==void 0?nt:_e)!==null&&rt!==void 0?rt:!0;tt.addIssue({code:"custom",...ot,fatal:st})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(J){J.ZodString="ZodString",J.ZodNumber="ZodNumber",J.ZodNaN="ZodNaN",J.ZodBigInt="ZodBigInt",J.ZodBoolean="ZodBoolean",J.ZodDate="ZodDate",J.ZodSymbol="ZodSymbol",J.ZodUndefined="ZodUndefined",J.ZodNull="ZodNull",J.ZodAny="ZodAny",J.ZodUnknown="ZodUnknown",J.ZodNever="ZodNever",J.ZodVoid="ZodVoid",J.ZodArray="ZodArray",J.ZodObject="ZodObject",J.ZodUnion="ZodUnion",J.ZodDiscriminatedUnion="ZodDiscriminatedUnion",J.ZodIntersection="ZodIntersection",J.ZodTuple="ZodTuple",J.ZodRecord="ZodRecord",J.ZodMap="ZodMap",J.ZodSet="ZodSet",J.ZodFunction="ZodFunction",J.ZodLazy="ZodLazy",J.ZodLiteral="ZodLiteral",J.ZodEnum="ZodEnum",J.ZodEffects="ZodEffects",J.ZodNativeEnum="ZodNativeEnum",J.ZodOptional="ZodOptional",J.ZodNullable="ZodNullable",J.ZodDefault="ZodDefault",J.ZodCatch="ZodCatch",J.ZodPromise="ZodPromise",J.ZodBranded="ZodBranded",J.ZodPipeline="ZodPipeline",J.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(J,$={message:`Input not instance of ${J.name}`})=>custom(_e=>_e instanceof J,$),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:J=>ZodString.create({...J,coerce:!0}),number:J=>ZodNumber.create({...J,coerce:!0}),boolean:J=>ZodBoolean.create({...J,coerce:!0}),bigint:J=>ZodBigInt.create({...J,coerce:!0}),date:J=>ZodDate.create({...J,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const CDN_DEV_BASE="docutest-a.akamaihd.net",CDN_PROD_BASE="docucdn-a.akamaihd.net",getCdnBaseUrl=J=>J==="production"||J==="demo"?CDN_PROD_BASE:CDN_DEV_BASE,getWidgetCdnUrl=(J,$,_e,et="integration")=>`https://${getCdnBaseUrl(et)}/${et}/1ds/widgets/${J}/${$}/js/${_e}.js`,Package=z.object({id:z.string(),version:z.string(),name:z.string().optional()}),PluginAuth=z.object({secretKeyName:z.string().optional(),clientAppId:z.string(),authenticationType:z.string(),scopes:z.array(z.string()),generateAuthTxnId:z.boolean().default(!1),callbackUrl:z.string().url().optional(),logoutUrl:z.string().url().optional(),authCookiesToClear:z.array(z.string()).optional(),useNativeAuth:z.boolean().optional(),ramp1DSAuthPercent:z.number().optional()}),Plugin=z.object({enabled:z.boolean().optional(),route:z.string().optional(),auth:PluginAuth.optional()}),Runtime=z.object({preload:z.array(z.object({apiGet:z.string().optional(),widget:z.string().optional()})).optional(),dependsOn:z.object({widgets:z.array(z.object({widgetId:z.string()})).optional(),pinnedWidgets:z.array(z.object({widgetId:z.string(),version:z.string()})).optional()}).optional(),headers:z.record(z.string(),z.string()).optional()}),WidgetConfig=z.object({widgetId:z.string(),plugin:Plugin.optional(),version:z.string(),activePhasedDeployment:z.boolean(),runtime:Runtime,type:z.string().optional()}),WidgetVersionData=z.object({environment:z.string(),version:z.string(),nodeVersion:z.string(),buildNumber:z.string(),branch:z.string(),gitSha:z.string(),packages:z.object({externals:z.array(Package),installed:z.array(Package.omit({name:!0}))}),configs:z.object({widgetConfig:z.array(WidgetConfig)})}),EnvironmentUrls={development:"http://localhost:8080",integration:"https://apps.dev.docusign.net",stage:"https://apps-s.docusign.com",demo:"https://apps-d.docusign.com",production:"https://apps.docusign.com"},downloadWidgetVersions=async()=>{try{const J=await(await fetch(`${EnvironmentUrls.integration}/version`,{method:"GET"})).json();return WidgetVersionData.parse(J)}catch(J){throw console.error({message:`Failed to download widget versions: ${J}`,error:J}),J}},WidgetEnvironmentActivity=z.object({dateTime:z.string().datetime().optional(),pipelineUrl:z.string().url().optional(),contributors:z.array(z.string()).default([]),widgetVersion:z.string().optional()}),WidgetActivity=z.object({repoUrl:z.string().url(),adoProjectUrl:z.string().url(),sourceBranch:z.string(),lastModified:z.object({integration:WidgetEnvironmentActivity.optional(),stage:WidgetEnvironmentActivity.optional(),demo:WidgetEnvironmentActivity.optional(),production:WidgetEnvironmentActivity.optional()})}),WidgetActivityResult=z.record(WidgetActivity),downloadWidgetActivity=async()=>{try{const J=getCdnBaseUrl("integration"),$=await(await fetch(`https://${J}/integration/1ds/configs/widget-activity.json`,{method:"GET"})).json();return WidgetActivityResult.parse($)}catch(J){throw console.error(J),J}},WidgetBundle=WidgetEnvironmentActivity.extend({bundleUrl:z.string().url().optional(),configUrl:z.string().url()}),Widget$1=WidgetActivity.extend({widgetId:z.string(),lastModified:z.object({integration:WidgetBundle.optional(),stage:WidgetBundle.optional(),demo:WidgetBundle.optional(),production:WidgetBundle.optional()}),widgetDependencies:z.array(z.string()),pinnnedWidgetDependencies:z.array(z.string()),variants:z.array(z.string()),auth:PluginAuth.optional(),route:z.string().optional(),isPlugin:z.boolean().default(!1)}),getConfigUrl=(J,$)=>{const _e=J.replace("/","-");return`https://github.docusignhq.com/Core/1ds-configs/blob/main/${$}/${_e}.json`},envToCheck=["integration","stage","demo","production"],getWidgets=async()=>{try{const[J,$]=await Promise.all([downloadWidgetVersions(),downloadWidgetActivity()]),_e=new Map(J.configs.widgetConfig.map(tt=>[tt.widgetId,tt])),et=Object.keys($).map(tt=>{var ot,st,at,ct,ut,ft;const nt=$[tt],rt=_e.get(tt);if(!rt){console.error(`No version found for widget ${tt}`);return}const it={...nt,widgetId:tt,widgetDependencies:((st=(ot=rt.runtime.dependsOn)==null?void 0:ot.widgets)==null?void 0:st.map(dt=>dt.widgetId))??[],pinnnedWidgetDependencies:((ct=(at=rt.runtime.dependsOn)==null?void 0:at.pinnedWidgets)==null?void 0:ct.map(dt=>`${dt.widgetId}@${dt.version}`))??[],variants:[],auth:(ut=rt.plugin)==null?void 0:ut.auth,route:(ft=rt.plugin)==null?void 0:ft.route,isPlugin:rt.plugin!=null};return envToCheck.forEach(dt=>{var pt,vt,mt;(pt=it.lastModified)!=null&&pt[dt]&&(it.lastModified[dt]={...it.lastModified[dt],bundleUrl:(vt=it.lastModified[dt])!=null&&vt.widgetVersion?getWidgetCdnUrl(tt,(mt=it.lastModified[dt])==null?void 0:mt.widgetVersion,"1ds-bundle",dt):void 0,configUrl:getConfigUrl(tt,dt)})}),Widget$1.parse(it)}).filter(Boolean);return console.log(`loaded ${et.length} widgets`),et}catch(J){throw console.error({message:"Failed to load widgets",err:J}),new Error("Failed to load widgets")}},loadWidgets=createAsyncThunk("app/refreshWidgets",async(J,{dispatch:$})=>{try{const _e=await getWidgets(),et=_e.filter(ot=>{var st;return!!((st=ot.lastModified.integration)!=null&&st.widgetVersion)}).map(ot=>{var st;return{value:ot.widgetId,type:((st=ot.lastModified.integration)==null?void 0:st.widgetVersion)??"unknown"}}),tt=new URLSearchParams(window.location.search),nt=tt.get(WIDGET_ID)||tt.get(WIDGET),rt=_e.find(ot=>ot.widgetId===nt);return[_e,(()=>{var ot,st,at;return rt?((st=(ot=window.importMapOverrides)==null?void 0:ot.getOverrideMap())==null?void 0:st.imports[rt.widgetId])??((at=rt.lastModified.integration)==null?void 0:at.bundleUrl):tt.get(WIDGET_URL)??nt})()]}catch(_e){throw console.error(_e),_e}}),appThunks={loadWidgets},createShallowSelector=createSelectorCreator(defaultMemoize,shallowEqual),propsValidation=jsCode=>{try{const jsObject=eval("("+jsCode+")");if(typeof jsObject!="object")throw new Error("You must pass an object")}catch(J){return console.error(J),!1}return!0},STORAGE_KEY="bathtub",WIDGET_URL_KEY="url",WIDGET_PROPS_KEY="props",widgetsAdapter=createEntityAdapter({selectId:J=>J.widgetId,sortComparer:(J,$)=>J.widgetId.localeCompare($.widgetId)}),initialState$1=widgetsAdapter.getInitialState({loading:!0,error:void 0,activeWidgetUrl:void 0,activeWidgetProps:serialize({kitchenSink:"testing"},{unsafe:!0,space:2}),isPropsEditorOpen:!1,tickTock:!1,isWidgetSwitcherOpen:!1,environment:"integration",hasPropsError:!1}),appStateSlice=createSlice({initialState:initialState$1,name:"app",reducers:{setActiveWidgetUrl:(J,$)=>{J.activeWidgetUrl=$.payload,J.isWidgetSwitcherOpen=!1,sessionStorage.setItem(`${STORAGE_KEY}-${WIDGET_URL_KEY}`,$.payload)},setActiveWidgetProps:(J,$)=>{propsValidation($.payload)?(J.activeWidgetProps=$.payload,J.isPropsEditorOpen=!1,J.hasPropsError=!1,sessionStorage.setItem(`${STORAGE_KEY}-${WIDGET_PROPS_KEY}`,$.payload)):J.hasPropsError=!0},clearPropsError:J=>{J.hasPropsError=!1},setIsPropsEditorOpen:(J,$)=>{J.isPropsEditorOpen=$.payload,J.activeWidgetProps=tryGetLastUsedWidgetProps()??J.activeWidgetProps;const _e=propsValidation(J.activeWidgetProps);J.hasPropsError=!_e},setIsWidgetSwitcherOpen:(J,$)=>{J.isWidgetSwitcherOpen=$.payload},renderWidget:J=>{J.activeWidgetProps=tryGetLastUsedWidgetProps()??J.activeWidgetProps,J.activeWidgetUrl=tryGetLastUsedWidgetUrl()??J.activeWidgetUrl,J.tickTock=!J.tickTock},reset:()=>{sessionStorage.removeItem(`${STORAGE_KEY}-${WIDGET_URL_KEY}`),sessionStorage.removeItem(`${STORAGE_KEY}-${WIDGET_PROPS_KEY}`),window.location.reload()}},extraReducers:J=>{J.addCase(appThunks.loadWidgets.pending,$=>{$.loading=!0,$.error=void 0}),J.addCase(appThunks.loadWidgets.rejected,($,_e)=>{$.loading=!1,$.error=`[${_e.error.name} (${_e.error.code})] ${_e.error.message}

Stack:
${_e.error.stack}`}),J.addCase(appThunks.loadWidgets.fulfilled,($,_e)=>{$.loading=!1,$.error=void 0;const[et,tt]=_e.payload;widgetsAdapter.setAll($,et),$.activeWidgetProps=tryGetLastUsedWidgetProps()??$.activeWidgetProps,$.activeWidgetUrl=tt??tryGetLastUsedWidgetUrl()??$.activeWidgetUrl,$.activeWidgetUrl&&sessionStorage.setItem(`${STORAGE_KEY}-${WIDGET_URL_KEY}`,$.activeWidgetUrl)})}}),tryGetLastUsedWidgetUrl=()=>{const J=sessionStorage.getItem(`${STORAGE_KEY}-${WIDGET_URL_KEY}`);if(J)return J},tryGetLastUsedWidgetProps=()=>{const J=sessionStorage.getItem(`${STORAGE_KEY}-${WIDGET_PROPS_KEY}`);if(J)return J},{actions:appActions,reducer:appReducer}=appStateSlice,selectApp=J=>J.app,selectActiveWidgetUrl=createSelector(selectApp,J=>J.activeWidgetUrl),selectActiveWidgetProps=createSelector(selectApp,J=>J.activeWidgetProps),selectWidgetRefreshSignal=createSelector(selectApp,J=>J.tickTock),{selectAll:selectAll$1,selectById:selectWidgetById}=widgetsAdapter.getSelectors(),selectAllWidgets=J=>selectAll$1(selectApp(J));createSelector(selectAllWidgets,J=>J.filter($=>!!$.route));const selectWidget=J=>selectWidgetById(selectApp(J),selectApp(J).activeWidgetUrl??""),selectLoadingOrError=createSelector(selectApp,J=>({isLoading:J.loading,error:J.error})),store=configureStore({reducer:{app:appReducer},middleware:J=>J()}),useAppDispatch=useDispatch,useAppSelector=useSelector,translations={Bathtub:{Header:{SkipLink:{translation:"Skip to main",instruction:"Link to the main content of the page"},Waffle:{translation:"Widget switcher",instruction:"Button to switch between widgets"},Docs:{translation:"1DS Docs",instruction:"Button to link to the 1DS Docs"},Help:{translation:"Help",instruction:"Button to open the help slack channel"},Reset:{translation:"Reset",instruction:"Button to reset the widget"},Render:{translation:"Render",instruction:"Button to render the widget"},Editor:{translation:"Widget props",instruction:"Button to open the widget props"},Variant:{translation:"Variant",instruction:"Button to open the variant switcher"},VariantDefault:{translation:"Default",instruction:"Button to switch to the default widget"}},App:{Loading:{translation:"Loading...",instruction:"Loading message when the environment is loading"}},PropEditor:{Title:{translation:"Widget props",instruction:"Title of the property editor"},Update:{translation:"Update",instruction:"Button to update the widget props"},ValidationError:{translation:"There is a problem with props. Check the console for more information.",instruction:"Error message to users when props object is not valid."}},Renderer:{Help:{translation:"Select a <code>widget</code> from the waffle menu to get started. Or you can add the <code>widgetUrl</code> query parameter to the URL to load a specific widget.",instruction:"Help message when no widget is selected"},HelpAction:{translation:"Select a widget",instruction:"Title of the help message"},HelpHeader:{translation:"Welcome to 1DS Bathtub!",instruction:"Header of the help message"},HelpFailed:{translation:"We tried loading the widget and failed. Press the CLEAN button to reset the bathtub.",instruction:"Message when the widget fails to load"},HelpFailedHeader:{translation:"Yikes! We couldn't load the widget.",instruction:"Message when the widget fails to load"},HelpFailedAction:{translation:"Clean",instruction:"Button to clean the bathtub"},HelpFailureLocation:{translation:"{{WIDGET}}:{{LOCATION}}",instruction:"The error message and location joined with :"},HelpFailureOpenFile:{translation:"Open in browser",instruction:"Button to open the file where the error occurred"},HelpFailureStackTrace:{translation:"Stack trace",instruction:"Heading for the stack trace"}},Switcher:{SearchLabel:{translation:"Select a widget",instruction:"Label for the search input"},SearchPlaceholder:{translation:"@1ds/widget-starter-kit",instruction:"Placeholder for the search input"},SwitcherTitle:{translation:"Widget switcher",instruction:"Title of the widget switcher"},UrlSwitcherLabel:{translation:"Enter a widget url",instruction:"Label of the widget switcher"},QuickLinksLabel:{translation:"Quick load:",instruction:"Label of the quick links"},Apply:{translation:"Apply",instruction:"Button to apply new url from the widget switcher"},SwitcherPlaceholder:{translation:"http://127.0.0.1/js/1ds-bundle.js",instruction:"Placeholder of the widget switcher"},OrLabel:{translation:"OR",instruction:"Text that separates the widget switcher and the widget url switcher"}},Shortcuts:{Title:{translation:"Shortcuts",instruction:"Title of the shortcuts widget"},Copy:{translation:"Copy",instruction:"Button to copy the shortcut"},CopyShortcut:{translation:"CTRL+SHIFT+C",instruction:"Shortcut to trigger the copy action"},OpenSwitcher:{translation:"Open widget switcher",instruction:"Button to open the widget switcher"},OpenSwitcherShortcut:{translation:"Ctrl+/",instruction:"Shortcut to trigger the widget switcher"},OpenEditor:{translation:"Open props editor",instruction:"Button to open the widget props"},OpenEditorShortcut:{translation:"Ctrl+P",instruction:"Shortcut to trigger the widget props"},Reset:{translation:"Reset",instruction:"Button to reset the widget"},ResetShortcut:{translation:"Ctrl+R",instruction:"Shortcut to reload the widget"},Clean:{translation:"Clean (on error)",instruction:"Button to clean the bathtub"},CleanShortcut:{translation:"CMD+ESC",instruction:"Shortcut to clean the bathtub"}}},PluginBrowser:{ColumnHeaders:{Name:{translation:"Plugin",instruction:"Column header for the plugin name"},VersionInt:{translation:"Version: Int",instruction:"Column header for the plugin version in the integration environment"},VersionStage:{translation:"Version: Stage",instruction:"Column header for the plugin version in the staging environment"},VersionDemo:{translation:"Version: Demo",instruction:"Column header for the plugin version in the demo environment"},VersionProd:{translation:"Version: Prod",instruction:"Column header for the plugin version in the production environment"},Route:{translation:"Route",instruction:"Column header for the plugin route"},Auth:{translation:"Authentication Enabled",instruction:"Column header for the plugin authentication required"},Launch:{translation:"Launch",instruction:"Column header for the plugin open button"}}},WidgetBrowser:{Root:{Title:{translation:"Widget Browser",instruction:"Title of the widget browser"},PreviewTag:{translation:"Preview",instruction:"Tag for the preview button"}},Menu:{Actions:{translation:"More Actions - {{widget_name}}",instruction:"Button to open the actions menu for a widget"},PipelineHeader:{translation:"Pipelines",instruction:"Header for the pipeline menu"},AzureDevOps:{translation:"ADO Project",instruction:"Button to open the ADO project"},BundleAnalysis:{translation:"Bundle Analysis",instruction:"Button to open the bundle analysis"},Pipeline:{translation:"Pipeline",instruction:"Button to open the pipeline"},Rollback:{translation:"Rollback",instruction:"Button to rollback the widget"},ConfigurationHeader:{translation:"Configs",instruction:"Header for the configuration menu"},ConfigurationInt:{translation:"Integration",instruction:"Button to open the widget integration configuration"},ConfigurationStage:{translation:"Stage",instruction:"Button to open the widget stage configuration"},ConfigurationDemo:{translation:"Demo",instruction:"Button to open the widget demo configuration"},ConfigurationProd:{translation:"Production",instruction:"Button to open the widget prod configuration"},Team:{translation:"Contact",instruction:"Button to contact the widget owner"},CreatedDate:{translation:"Created {{date}}",instruction:"Description of the widget creation date"}},Links:{Repository:{translation:"Repository - {{widget_name}}",instruction:"Link to the widget repository"},Configuration:{translation:"Configuration",instruction:"Link to the widget configuration"},Bathtub:{translation:"Launch {{widget_name}}",instruction:"Link to the widget in the bathtub"},Version:{translation:"{{version_number}} - {{widget_name}}",instruction:"Link showing the version number with the widget name added for additional context"}},Columns:{Id:{translation:"Id",instruction:"Column header for Id"},Name:{translation:"NAME",instruction:"Column header for Name"},Links:{translation:"LINKS",instruction:"Column header for Links"},Route:{translation:"ROUTE",instruction:"Column header for Route"},Authentication:{translation:"AUTHENTICATION",instruction:"Column header for Authentication"},Integration:{translation:"INTEGRATION",instruction:"Column header for Integration"},Stage:{translation:"STAGE",instruction:"Column header for Stage"},Demo:{translation:"DEMO",instruction:"Column header for Demo"},Prod:{translation:"PROD",instruction:"Column header for Prod"},Action:{translation:"ACTION",instruction:"Column header for Action"}}},DataTable:{Footer:{AccessibilityText:{translation:"Pagination",instruction:"Accessibility text for the pagination"}}}},useTranslate=()=>(J,$)=>J.split(".").reduce((et,tt)=>et==null?void 0:et[tt],translations).translation;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function J(et,tt,nt,rt,it,ot){if(ot!==ReactPropTypesSecret){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}J.isRequired=J;function $(){return J}var _e={array:J,bigint:J,bool:J,func:J,number:J,object:J,string:J,symbol:J,any:J,arrayOf:$,element:J,elementType:J,instanceOf:$,node:J,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _e.PropTypes=_e,_e};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const isff=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function addEvent(J,$,_e,et){J.addEventListener?J.addEventListener($,_e,et):J.attachEvent&&J.attachEvent("on".concat($),_e)}function removeEvent(J,$,_e,et){J.removeEventListener?J.removeEventListener($,_e,et):J.detachEvent&&J.detachEvent("on".concat($),_e)}function getMods(J,$){const _e=$.slice(0,$.length-1);for(let et=0;et<_e.length;et++)_e[et]=J[_e[et].toLowerCase()];return _e}function getKeys(J){typeof J!="string"&&(J=""),J=J.replace(/\s/g,"");const $=J.split(",");let _e=$.lastIndexOf("");for(;_e>=0;)$[_e-1]+=",",$.splice(_e,1),_e=$.lastIndexOf("");return $}function compareArray$1(J,$){const _e=J.length>=$.length?J:$,et=J.length>=$.length?$:J;let tt=!0;for(let nt=0;nt<_e.length;nt++)et.indexOf(_e[nt])===-1&&(tt=!1);return tt}const _keyMap={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"[":219,"]":221,"\\":220},_modifier={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={};for(let J=1;J<20;J++)_keyMap["f".concat(J)]=111+J;let _downKeys=[],winListendFocus=null,_scope="all";const elementEventMap=new Map,code$1=J=>_keyMap[J.toLowerCase()]||_modifier[J.toLowerCase()]||J.toUpperCase().charCodeAt(0),getKey=J=>Object.keys(_keyMap).find($=>_keyMap[$]===J),getModifier=J=>Object.keys(_modifier).find($=>_modifier[$]===J);function setScope(J){_scope=J||"all"}function getScope$1(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function getPressedKeyString(){return _downKeys.map(J=>getKey(J)||getModifier(J)||String.fromCharCode(J))}function getAllKeyCodes(){const J=[];return Object.keys(_handlers).forEach($=>{_handlers[$].forEach(_e=>{let{key:et,scope:tt,mods:nt,shortcut:rt}=_e;J.push({scope:tt,shortcut:rt,mods:nt,keys:et.split("+").map(it=>code$1(it))})})}),J}function filter(J){const $=J.target||J.srcElement,{tagName:_e}=$;let et=!0;const tt=_e==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes($.type);return($.isContentEditable||(tt||_e==="TEXTAREA"||_e==="SELECT")&&!$.readOnly)&&(et=!1),et}function isPressed(J){return typeof J=="string"&&(J=code$1(J)),_downKeys.indexOf(J)!==-1}function deleteScope(J,$){let _e,et;J||(J=getScope$1());for(const tt in _handlers)if(Object.prototype.hasOwnProperty.call(_handlers,tt))for(_e=_handlers[tt],et=0;et<_e.length;)_e[et].scope===J?_e.splice(et,1).forEach(rt=>{let{element:it}=rt;return removeKeyEvent(it)}):et++;getScope$1()===J&&setScope($||"all")}function clearModifier(J){let $=J.keyCode||J.which||J.charCode;const _e=_downKeys.indexOf($);if(_e>=0&&_downKeys.splice(_e,1),J.key&&J.key.toLowerCase()==="meta"&&_downKeys.splice(0,_downKeys.length),($===93||$===224)&&($=91),$ in _mods){_mods[$]=!1;for(const et in _modifier)_modifier[et]===$&&(hotkeys[et]=!1)}}function unbind(J){if(typeof J>"u")Object.keys(_handlers).forEach(tt=>{Array.isArray(_handlers[tt])&&_handlers[tt].forEach(nt=>eachUnbind(nt)),delete _handlers[tt]}),removeKeyEvent(null);else if(Array.isArray(J))J.forEach(tt=>{tt.key&&eachUnbind(tt)});else if(typeof J=="object")J.key&&eachUnbind(J);else if(typeof J=="string"){for(var $=arguments.length,_e=new Array($>1?$-1:0),et=1;et<$;et++)_e[et-1]=arguments[et];let[tt,nt]=_e;typeof tt=="function"&&(nt=tt,tt=""),eachUnbind({key:J,scope:tt,method:nt,splitKey:"+"})}}const eachUnbind=J=>{let{key:$,scope:_e,method:et,splitKey:tt="+"}=J;getKeys($).forEach(rt=>{const it=rt.split(tt),ot=it.length,st=it[ot-1],at=st==="*"?"*":code$1(st);if(!_handlers[at])return;_e||(_e=getScope$1());const ct=ot>1?getMods(_modifier,it):[],ut=[];_handlers[at]=_handlers[at].filter(ft=>{const pt=(et?ft.method===et:!0)&&ft.scope===_e&&compareArray$1(ft.mods,ct);return pt&&ut.push(ft.element),!pt}),ut.forEach(ft=>removeKeyEvent(ft))})};function eventHandler(J,$,_e,et){if($.element!==et)return;let tt;if($.scope===_e||$.scope==="all"){tt=$.mods.length>0;for(const nt in _mods)Object.prototype.hasOwnProperty.call(_mods,nt)&&(!_mods[nt]&&$.mods.indexOf(+nt)>-1||_mods[nt]&&$.mods.indexOf(+nt)===-1)&&(tt=!1);($.mods.length===0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||tt||$.shortcut==="*")&&($.keys=[],$.keys=$.keys.concat(_downKeys),$.method(J,$)===!1&&(J.preventDefault?J.preventDefault():J.returnValue=!1,J.stopPropagation&&J.stopPropagation(),J.cancelBubble&&(J.cancelBubble=!0)))}}function dispatch(J,$){const _e=_handlers["*"];let et=J.keyCode||J.which||J.charCode;if(!hotkeys.filter.call(this,J))return;if((et===93||et===224)&&(et=91),_downKeys.indexOf(et)===-1&&et!==229&&_downKeys.push(et),["metaKey","ctrlKey","altKey","shiftKey"].forEach(it=>{const ot=modifierMap[it];J[it]&&_downKeys.indexOf(ot)===-1?_downKeys.push(ot):!J[it]&&_downKeys.indexOf(ot)>-1?_downKeys.splice(_downKeys.indexOf(ot),1):it==="metaKey"&&J[it]&&(_downKeys=_downKeys.filter(st=>st in modifierMap||st===et))}),et in _mods){_mods[et]=!0;for(const it in _modifier)_modifier[it]===et&&(hotkeys[it]=!0);if(!_e)return}for(const it in _mods)Object.prototype.hasOwnProperty.call(_mods,it)&&(_mods[it]=J[modifierMap[it]]);J.getModifierState&&!(J.altKey&&!J.ctrlKey)&&J.getModifierState("AltGraph")&&(_downKeys.indexOf(17)===-1&&_downKeys.push(17),_downKeys.indexOf(18)===-1&&_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);const tt=getScope$1();if(_e)for(let it=0;it<_e.length;it++)_e[it].scope===tt&&(J.type==="keydown"&&_e[it].keydown||J.type==="keyup"&&_e[it].keyup)&&eventHandler(J,_e[it],tt,$);if(!(et in _handlers))return;const nt=_handlers[et],rt=nt.length;for(let it=0;it<rt;it++)if((J.type==="keydown"&&nt[it].keydown||J.type==="keyup"&&nt[it].keyup)&&nt[it].key){const ot=nt[it],{splitKey:st}=ot,at=ot.key.split(st),ct=[];for(let ut=0;ut<at.length;ut++)ct.push(code$1(at[ut]));ct.sort().join("")===_downKeys.sort().join("")&&eventHandler(J,ot,tt,$)}}function hotkeys(J,$,_e){_downKeys=[];const et=getKeys(J);let tt=[],nt="all",rt=document,it=0,ot=!1,st=!0,at="+",ct=!1,ut=!1;for(_e===void 0&&typeof $=="function"&&(_e=$),Object.prototype.toString.call($)==="[object Object]"&&($.scope&&(nt=$.scope),$.element&&(rt=$.element),$.keyup&&(ot=$.keyup),$.keydown!==void 0&&(st=$.keydown),$.capture!==void 0&&(ct=$.capture),typeof $.splitKey=="string"&&(at=$.splitKey),$.single===!0&&(ut=!0)),typeof $=="string"&&(nt=$),ut&&unbind(J,nt);it<et.length;it++)J=et[it].split(at),tt=[],J.length>1&&(tt=getMods(_modifier,J)),J=J[J.length-1],J=J==="*"?"*":code$1(J),J in _handlers||(_handlers[J]=[]),_handlers[J].push({keyup:ot,keydown:st,scope:nt,mods:tt,shortcut:et[it],method:_e,key:et[it],splitKey:at,element:rt});if(typeof rt<"u"&&window){if(!elementEventMap.has(rt)){const ft=function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return dispatch(pt,rt)},dt=function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;dispatch(pt,rt),clearModifier(pt)};elementEventMap.set(rt,{keydownListener:ft,keyupListenr:dt,capture:ct}),addEvent(rt,"keydown",ft,ct),addEvent(rt,"keyup",dt,ct)}if(!winListendFocus){const ft=()=>{_downKeys=[]};winListendFocus={listener:ft,capture:ct},addEvent(window,"focus",ft,ct)}}}function trigger(J){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(_handlers).forEach(_e=>{_handlers[_e].filter(tt=>tt.scope===$&&tt.shortcut===J).forEach(tt=>{tt&&tt.method&&tt.method()})})}function removeKeyEvent(J){const $=Object.values(_handlers).flat();if($.findIndex(et=>{let{element:tt}=et;return tt===J})<0){const{keydownListener:et,keyupListenr:tt,capture:nt}=elementEventMap.get(J)||{};et&&tt&&(removeEvent(J,"keyup",tt,nt),removeEvent(J,"keydown",et,nt),elementEventMap.delete(J))}if(($.length<=0||elementEventMap.size<=0)&&(Object.keys(elementEventMap).forEach(tt=>{const{keydownListener:nt,keyupListenr:rt,capture:it}=elementEventMap.get(tt)||{};nt&&rt&&(removeEvent(tt,"keyup",rt,it),removeEvent(tt,"keydown",nt,it),elementEventMap.delete(tt))}),elementEventMap.clear(),Object.keys(_handlers).forEach(tt=>delete _handlers[tt]),winListendFocus)){const{listener:tt,capture:nt}=winListendFocus;removeEvent(window,"focus",tt,nt),winListendFocus=null}}const _api={getPressedKeyString,setScope,getScope:getScope$1,deleteScope,getPressedKeyCodes,getAllKeyCodes,isPressed,filter,trigger,unbind,keyMap:_keyMap,modifier:_modifier,modifierMap};for(const J in _api)Object.prototype.hasOwnProperty.call(_api,J)&&(hotkeys[J]=_api[J]);if(typeof window<"u"){const J=window.hotkeys;hotkeys.noConflict=$=>($&&window.hotkeys===hotkeys&&(window.hotkeys=J),hotkeys),window.hotkeys=hotkeys}class ReactHotkeys extends React__default.Component{constructor($){super($),this.isKeyDown=!1,this.handle=void 0,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.handleKeyUpEvent=this.handleKeyUpEvent.bind(this),this.handle={}}componentDidMount(){var{filter:$,splitKey:_e}=this.props;$&&(hotkeys.filter=$),hotkeys.unbind(this.props.keyName),hotkeys(this.props.keyName,{splitKey:_e},this.onKeyDown),document&&document.body.addEventListener("keyup",this.handleKeyUpEvent)}componentWillUnmount(){hotkeys.unbind(this.props.keyName),this.isKeyDown=!0,this.handle={},document&&document.body.removeEventListener("keyup",this.handleKeyUpEvent)}onKeyUp($,_e){var{onKeyUp:et,disabled:tt}=this.props;!tt&&et&&et(_e.shortcut,$,_e)}onKeyDown($,_e){var{onKeyDown:et,allowRepeat:tt,disabled:nt}=this.props;this.isKeyDown&&!tt||(this.isKeyDown=!0,this.handle=_e,!nt&&et&&et(_e.shortcut,$,_e))}handleKeyUpEvent($){this.isKeyDown&&(this.isKeyDown=!1,!(this.props.keyName&&this.props.keyName.indexOf(this.handle.shortcut)<0)&&(this.onKeyUp($,this.handle),this.handle={}))}render(){return this.props.children||null}}ReactHotkeys.defaultProps={filter(J){var $=J.target||J.srcElement,_e=$.tagName;return!($.isContentEditable||_e==="INPUT"||_e==="SELECT"||_e==="TEXTAREA")}},ReactHotkeys.propTypes={keyName:propTypesExports.string,filter:propTypesExports.func,onKeyDown:propTypesExports.func,onKeyUp:propTypesExports.func,disabled:propTypesExports.bool,splitKey:propTypesExports.string};var lib={exports:{}},Modal$2={},ModalPortal={exports:{}},focusManager={},tabbable={exports:{}};(function(J,$){Object.defineProperty($,"__esModule",{value:!0}),$.default=at;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var _e="none",et="contents",tt=/^(input|select|textarea|button|object|iframe)$/;function nt(ct,ut){return ut.getPropertyValue("overflow")!=="visible"||ct.scrollWidth<=0&&ct.scrollHeight<=0}function rt(ct){var ut=ct.offsetWidth<=0&&ct.offsetHeight<=0;if(ut&&!ct.innerHTML)return!0;try{var ft=window.getComputedStyle(ct),dt=ft.getPropertyValue("display");return ut?dt!==et&&nt(ct,ft):dt===_e}catch{return console.warn("Failed to inspect element style"),!1}}function it(ct){for(var ut=ct,ft=ct.getRootNode&&ct.getRootNode();ut&&ut!==document.body;){if(ft&&ut===ft&&(ut=ft.host.parentNode),rt(ut))return!1;ut=ut.parentNode}return!0}function ot(ct,ut){var ft=ct.nodeName.toLowerCase(),dt=tt.test(ft)&&!ct.disabled||ft==="a"&&ct.href||ut;return dt&&it(ct)}function st(ct){var ut=ct.getAttribute("tabindex");ut===null&&(ut=void 0);var ft=isNaN(ut);return(ft||ut>=0)&&ot(ct,!ft)}function at(ct){var ut=[].slice.call(ct.querySelectorAll("*"),0).reduce(function(ft,dt){return ft.concat(dt.shadowRoot?at(dt.shadowRoot):[dt])},[]);return ut.filter(st)}J.exports=$.default})(tabbable,tabbable.exports);var tabbableExports=tabbable.exports;Object.defineProperty(focusManager,"__esModule",{value:!0}),focusManager.resetState=resetState$4,focusManager.log=log$4,focusManager.handleBlur=handleBlur,focusManager.handleFocus=handleFocus,focusManager.markForFocusLater=markForFocusLater,focusManager.returnFocus=returnFocus,focusManager.popWithoutFocus=popWithoutFocus,focusManager.setupScopedFocus=setupScopedFocus,focusManager.teardownScopedFocus=teardownScopedFocus;var _tabbable=tabbableExports,_tabbable2=_interopRequireDefault$4(_tabbable);function _interopRequireDefault$4(J){return J&&J.__esModule?J:{default:J}}var focusLaterElements=[],modalElement=null,needToFocus=!1;function resetState$4(){focusLaterElements=[]}function log$4(){}function handleBlur(){needToFocus=!0}function handleFocus(){if(needToFocus){if(needToFocus=!1,!modalElement)return;setTimeout(function(){if(!modalElement.contains(document.activeElement)){var J=(0,_tabbable2.default)(modalElement)[0]||modalElement;J.focus()}},0)}}function markForFocusLater(){focusLaterElements.push(document.activeElement)}function returnFocus(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,$=null;try{focusLaterElements.length!==0&&($=focusLaterElements.pop(),$.focus({preventScroll:J}));return}catch{console.warn(["You tried to return focus to",$,"but it is not in the DOM anymore"].join(" "))}}function popWithoutFocus(){focusLaterElements.length>0&&focusLaterElements.pop()}function setupScopedFocus(J){modalElement=J,window.addEventListener?(window.addEventListener("blur",handleBlur,!1),document.addEventListener("focus",handleFocus,!0)):(window.attachEvent("onBlur",handleBlur),document.attachEvent("onFocus",handleFocus))}function teardownScopedFocus(){modalElement=null,window.addEventListener?(window.removeEventListener("blur",handleBlur),document.removeEventListener("focus",handleFocus)):(window.detachEvent("onBlur",handleBlur),document.detachEvent("onFocus",handleFocus))}var scopeTab={exports:{}};(function(J,$){Object.defineProperty($,"__esModule",{value:!0}),$.default=rt;var _e=tabbableExports,et=tt(_e);function tt(it){return it&&it.__esModule?it:{default:it}}function nt(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return it.activeElement.shadowRoot?nt(it.activeElement.shadowRoot):it.activeElement}function rt(it,ot){var st=(0,et.default)(it);if(!st.length){ot.preventDefault();return}var at=void 0,ct=ot.shiftKey,ut=st[0],ft=st[st.length-1],dt=nt();if(it===dt){if(!ct)return;at=ft}if(ft===dt&&!ct&&(at=ut),ut===dt&&ct&&(at=ft),at){ot.preventDefault(),at.focus();return}var pt=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),vt=pt!=null&&pt[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(vt){var mt=st.indexOf(dt);if(mt>-1&&(mt+=ct?-1:1),at=st[mt],typeof at>"u"){ot.preventDefault(),at=ct?ft:ut,at.focus();return}ot.preventDefault(),at.focus()}}J.exports=$.default})(scopeTab,scopeTab.exports);var scopeTabExports=scopeTab.exports,ariaAppHider$1={},warning$1=function(){},warning_1=warning$1,safeHTMLElement={},exenv={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(J){(function(){var $=!!(typeof window<"u"&&window.document&&window.document.createElement),_e={canUseDOM:$,canUseWorkers:typeof Worker<"u",canUseEventListeners:$&&!!(window.addEventListener||window.attachEvent),canUseViewport:$&&!!window.screen};J.exports?J.exports=_e:window.ExecutionEnvironment=_e})()})(exenv);var exenvExports=exenv.exports;Object.defineProperty(safeHTMLElement,"__esModule",{value:!0}),safeHTMLElement.canUseDOM=safeHTMLElement.SafeNodeList=safeHTMLElement.SafeHTMLCollection=void 0;var _exenv=exenvExports,_exenv2=_interopRequireDefault$3(_exenv);function _interopRequireDefault$3(J){return J&&J.__esModule?J:{default:J}}var EE=_exenv2.default,SafeHTMLElement=EE.canUseDOM?window.HTMLElement:{};safeHTMLElement.SafeHTMLCollection=EE.canUseDOM?window.HTMLCollection:{},safeHTMLElement.SafeNodeList=EE.canUseDOM?window.NodeList:{},safeHTMLElement.canUseDOM=EE.canUseDOM,safeHTMLElement.default=SafeHTMLElement,Object.defineProperty(ariaAppHider$1,"__esModule",{value:!0}),ariaAppHider$1.resetState=resetState$3,ariaAppHider$1.log=log$3,ariaAppHider$1.assertNodeList=assertNodeList,ariaAppHider$1.setElement=setElement,ariaAppHider$1.validateElement=validateElement,ariaAppHider$1.hide=hide,ariaAppHider$1.show=show,ariaAppHider$1.documentNotReadyOrSSRTesting=documentNotReadyOrSSRTesting;var _warning=warning_1,_warning2=_interopRequireDefault$2(_warning),_safeHTMLElement$1=safeHTMLElement;function _interopRequireDefault$2(J){return J&&J.__esModule?J:{default:J}}var globalElement=null;function resetState$3(){globalElement&&(globalElement.removeAttribute?globalElement.removeAttribute("aria-hidden"):globalElement.length!=null?globalElement.forEach(function(J){return J.removeAttribute("aria-hidden")}):document.querySelectorAll(globalElement).forEach(function(J){return J.removeAttribute("aria-hidden")})),globalElement=null}function log$3(){}function assertNodeList(J,$){if(!J||!J.length)throw new Error("react-modal: No elements were found for selector "+$+".")}function setElement(J){var $=J;if(typeof $=="string"&&_safeHTMLElement$1.canUseDOM){var _e=document.querySelectorAll($);assertNodeList(_e,$),$=_e}return globalElement=$||globalElement,globalElement}function validateElement(J){var $=J||globalElement;return $?Array.isArray($)||$ instanceof HTMLCollection||$ instanceof NodeList?$:[$]:((0,_warning2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function hide(J){var $=!0,_e=!1,et=void 0;try{for(var tt=validateElement(J)[Symbol.iterator](),nt;!($=(nt=tt.next()).done);$=!0){var rt=nt.value;rt.setAttribute("aria-hidden","true")}}catch(it){_e=!0,et=it}finally{try{!$&&tt.return&&tt.return()}finally{if(_e)throw et}}}function show(J){var $=!0,_e=!1,et=void 0;try{for(var tt=validateElement(J)[Symbol.iterator](),nt;!($=(nt=tt.next()).done);$=!0){var rt=nt.value;rt.removeAttribute("aria-hidden")}}catch(it){_e=!0,et=it}finally{try{!$&&tt.return&&tt.return()}finally{if(_e)throw et}}}function documentNotReadyOrSSRTesting(){globalElement=null}var classList={};Object.defineProperty(classList,"__esModule",{value:!0}),classList.resetState=resetState$2,classList.log=log$2;var htmlClassList={},docBodyClassList={};function removeClass(J,$){J.classList.remove($)}function resetState$2(){var J=document.getElementsByTagName("html")[0];for(var $ in htmlClassList)removeClass(J,htmlClassList[$]);var _e=document.body;for(var et in docBodyClassList)removeClass(_e,docBodyClassList[et]);htmlClassList={},docBodyClassList={}}function log$2(){}var incrementReference=function J($,_e){return $[_e]||($[_e]=0),$[_e]+=1,_e},decrementReference=function J($,_e){return $[_e]&&($[_e]-=1),_e},trackClass=function J($,_e,et){et.forEach(function(tt){incrementReference(_e,tt),$.add(tt)})},untrackClass=function J($,_e,et){et.forEach(function(tt){decrementReference(_e,tt),_e[tt]===0&&$.remove(tt)})};classList.add=function J($,_e){return trackClass($.classList,$.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,_e.split(" "))},classList.remove=function J($,_e){return untrackClass($.classList,$.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,_e.split(" "))};var portalOpenInstances$1={};Object.defineProperty(portalOpenInstances$1,"__esModule",{value:!0}),portalOpenInstances$1.log=log$1,portalOpenInstances$1.resetState=resetState$1;function _classCallCheck$1(J,$){if(!(J instanceof $))throw new TypeError("Cannot call a class as a function")}var PortalOpenInstances=function J(){var $=this;_classCallCheck$1(this,J),this.register=function(_e){$.openInstances.indexOf(_e)===-1&&($.openInstances.push(_e),$.emit("register"))},this.deregister=function(_e){var et=$.openInstances.indexOf(_e);et!==-1&&($.openInstances.splice(et,1),$.emit("deregister"))},this.subscribe=function(_e){$.subscribers.push(_e)},this.emit=function(_e){$.subscribers.forEach(function(et){return et(_e,$.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},portalOpenInstances=new PortalOpenInstances;function log$1(){console.log("portalOpenInstances ----------"),console.log(portalOpenInstances.openInstances.length),portalOpenInstances.openInstances.forEach(function(J){return console.log(J)}),console.log("end portalOpenInstances ----------")}function resetState$1(){portalOpenInstances=new PortalOpenInstances}portalOpenInstances$1.default=portalOpenInstances;var bodyTrap$1={};Object.defineProperty(bodyTrap$1,"__esModule",{value:!0}),bodyTrap$1.resetState=resetState,bodyTrap$1.log=log;var _portalOpenInstances=portalOpenInstances$1,_portalOpenInstances2=_interopRequireDefault$1(_portalOpenInstances);function _interopRequireDefault$1(J){return J&&J.__esModule?J:{default:J}}var before=void 0,after=void 0,instances=[];function resetState(){for(var J=[before,after],$=0;$<J.length;$++){var _e=J[$];_e&&_e.parentNode&&_e.parentNode.removeChild(_e)}before=after=null,instances=[]}function log(){console.log("bodyTrap ----------"),console.log(instances.length);for(var J=[before,after],$=0;$<J.length;$++){var _e=J[$],et=_e||{};console.log(et.nodeName,et.className,et.id)}console.log("edn bodyTrap ----------")}function focusContent(){instances.length!==0&&instances[instances.length-1].focusContent()}function bodyTrap(J,$){!before&&!after&&(before=document.createElement("div"),before.setAttribute("data-react-modal-body-trap",""),before.style.position="absolute",before.style.opacity="0",before.setAttribute("tabindex","0"),before.addEventListener("focus",focusContent),after=before.cloneNode(),after.addEventListener("focus",focusContent)),instances=$,instances.length>0?(document.body.firstChild!==before&&document.body.insertBefore(before,document.body.firstChild),document.body.lastChild!==after&&document.body.appendChild(after)):(before.parentElement&&before.parentElement.removeChild(before),after.parentElement&&after.parentElement.removeChild(after))}_portalOpenInstances2.default.subscribe(bodyTrap),function(J,$){Object.defineProperty($,"__esModule",{value:!0});var _e=Object.assign||function(Zt){for(var It=1;It<arguments.length;It++){var Vt=arguments[It];for(var $t in Vt)Object.prototype.hasOwnProperty.call(Vt,$t)&&(Zt[$t]=Vt[$t])}return Zt},et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Zt){return typeof Zt}:function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt},tt=function(){function Zt(It,Vt){for(var $t=0;$t<Vt.length;$t++){var Tt=Vt[$t];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(It,Tt.key,Tt)}}return function(It,Vt,$t){return Vt&&Zt(It.prototype,Vt),$t&&Zt(It,$t),It}}(),nt=React__default,rt=propTypesExports,it=bt(rt),ot=focusManager,st=wt(ot),at=scopeTabExports,ct=bt(at),ut=ariaAppHider$1,ft=wt(ut),dt=classList,pt=wt(dt),vt=safeHTMLElement,mt=bt(vt),Ot=portalOpenInstances$1,yt=bt(Ot);function wt(Zt){if(Zt&&Zt.__esModule)return Zt;var It={};if(Zt!=null)for(var Vt in Zt)Object.prototype.hasOwnProperty.call(Zt,Vt)&&(It[Vt]=Zt[Vt]);return It.default=Zt,It}function bt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function Ct(Zt,It){if(!(Zt instanceof It))throw new TypeError("Cannot call a class as a function")}function kt(Zt,It){if(!Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It&&(typeof It=="object"||typeof It=="function")?It:Zt}function Et(Zt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);Zt.prototype=Object.create(It&&It.prototype,{constructor:{value:Zt,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(Zt,It):Zt.__proto__=It)}var _t={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},At=function(It){return It.code==="Tab"||It.keyCode===9},Dt=function(It){return It.code==="Escape"||It.keyCode===27},jt=0,Wt=function(Zt){Et(It,Zt);function It(Vt){Ct(this,It);var $t=kt(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,Vt));return $t.setOverlayRef=function(Tt){$t.overlay=Tt,$t.props.overlayRef&&$t.props.overlayRef(Tt)},$t.setContentRef=function(Tt){$t.content=Tt,$t.props.contentRef&&$t.props.contentRef(Tt)},$t.afterClose=function(){var Tt=$t.props,Rt=Tt.appElement,Lt=Tt.ariaHideApp,Nt=Tt.htmlOpenClassName,Bt=Tt.bodyOpenClassName,zt=Tt.parentSelector,qt=zt&&zt().ownerDocument||document;Bt&&pt.remove(qt.body,Bt),Nt&&pt.remove(qt.getElementsByTagName("html")[0],Nt),Lt&&jt>0&&(jt-=1,jt===0&&ft.show(Rt)),$t.props.shouldFocusAfterRender&&($t.props.shouldReturnFocusAfterClose?(st.returnFocus($t.props.preventScroll),st.teardownScopedFocus()):st.popWithoutFocus()),$t.props.onAfterClose&&$t.props.onAfterClose(),yt.default.deregister($t)},$t.open=function(){$t.beforeOpen(),$t.state.afterOpen&&$t.state.beforeClose?(clearTimeout($t.closeTimer),$t.setState({beforeClose:!1})):($t.props.shouldFocusAfterRender&&(st.setupScopedFocus($t.node),st.markForFocusLater()),$t.setState({isOpen:!0},function(){$t.openAnimationFrame=requestAnimationFrame(function(){$t.setState({afterOpen:!0}),$t.props.isOpen&&$t.props.onAfterOpen&&$t.props.onAfterOpen({overlayEl:$t.overlay,contentEl:$t.content})})}))},$t.close=function(){$t.props.closeTimeoutMS>0?$t.closeWithTimeout():$t.closeWithoutTimeout()},$t.focusContent=function(){return $t.content&&!$t.contentHasFocus()&&$t.content.focus({preventScroll:!0})},$t.closeWithTimeout=function(){var Tt=Date.now()+$t.props.closeTimeoutMS;$t.setState({beforeClose:!0,closesAt:Tt},function(){$t.closeTimer=setTimeout($t.closeWithoutTimeout,$t.state.closesAt-Date.now())})},$t.closeWithoutTimeout=function(){$t.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},$t.afterClose)},$t.handleKeyDown=function(Tt){At(Tt)&&(0,ct.default)($t.content,Tt),$t.props.shouldCloseOnEsc&&Dt(Tt)&&(Tt.stopPropagation(),$t.requestClose(Tt))},$t.handleOverlayOnClick=function(Tt){$t.shouldClose===null&&($t.shouldClose=!0),$t.shouldClose&&$t.props.shouldCloseOnOverlayClick&&($t.ownerHandlesClose()?$t.requestClose(Tt):$t.focusContent()),$t.shouldClose=null},$t.handleContentOnMouseUp=function(){$t.shouldClose=!1},$t.handleOverlayOnMouseDown=function(Tt){!$t.props.shouldCloseOnOverlayClick&&Tt.target==$t.overlay&&Tt.preventDefault()},$t.handleContentOnClick=function(){$t.shouldClose=!1},$t.handleContentOnMouseDown=function(){$t.shouldClose=!1},$t.requestClose=function(Tt){return $t.ownerHandlesClose()&&$t.props.onRequestClose(Tt)},$t.ownerHandlesClose=function(){return $t.props.onRequestClose},$t.shouldBeClosed=function(){return!$t.state.isOpen&&!$t.state.beforeClose},$t.contentHasFocus=function(){return document.activeElement===$t.content||$t.content.contains(document.activeElement)},$t.buildClassName=function(Tt,Rt){var Lt=(typeof Rt>"u"?"undefined":et(Rt))==="object"?Rt:{base:_t[Tt],afterOpen:_t[Tt]+"--after-open",beforeClose:_t[Tt]+"--before-close"},Nt=Lt.base;return $t.state.afterOpen&&(Nt=Nt+" "+Lt.afterOpen),$t.state.beforeClose&&(Nt=Nt+" "+Lt.beforeClose),typeof Rt=="string"&&Rt?Nt+" "+Rt:Nt},$t.attributesFromObject=function(Tt,Rt){return Object.keys(Rt).reduce(function(Lt,Nt){return Lt[Tt+"-"+Nt]=Rt[Nt],Lt},{})},$t.state={afterOpen:!1,beforeClose:!1},$t.shouldClose=null,$t.moveFromContentToOverlay=null,$t}return tt(It,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function($t,Tt){this.props.isOpen&&!$t.isOpen?this.open():!this.props.isOpen&&$t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Tt.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var $t=this.props,Tt=$t.appElement,Rt=$t.ariaHideApp,Lt=$t.htmlOpenClassName,Nt=$t.bodyOpenClassName,Bt=$t.parentSelector,zt=Bt&&Bt().ownerDocument||document;Nt&&pt.add(zt.body,Nt),Lt&&pt.add(zt.getElementsByTagName("html")[0],Lt),Rt&&(jt+=1,ft.hide(Tt)),yt.default.register(this)}},{key:"render",value:function(){var $t=this.props,Tt=$t.id,Rt=$t.className,Lt=$t.overlayClassName,Nt=$t.defaultStyles,Bt=$t.children,zt=Rt?{}:Nt.content,qt=Lt?{}:Nt.overlay;if(this.shouldBeClosed())return null;var Kt={ref:this.setOverlayRef,className:this.buildClassName("overlay",Lt),style:_e({},qt,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Gt=_e({id:Tt,ref:this.setContentRef,style:_e({},zt,this.props.style.content),className:this.buildClassName("content",Rt),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",_e({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Jt=this.props.contentElement(Gt,Bt);return this.props.overlayElement(Kt,Jt)}}]),It}(nt.Component);Wt.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Wt.propTypes={isOpen:it.default.bool.isRequired,defaultStyles:it.default.shape({content:it.default.object,overlay:it.default.object}),style:it.default.shape({content:it.default.object,overlay:it.default.object}),className:it.default.oneOfType([it.default.string,it.default.object]),overlayClassName:it.default.oneOfType([it.default.string,it.default.object]),parentSelector:it.default.func,bodyOpenClassName:it.default.string,htmlOpenClassName:it.default.string,ariaHideApp:it.default.bool,appElement:it.default.oneOfType([it.default.instanceOf(mt.default),it.default.instanceOf(vt.SafeHTMLCollection),it.default.instanceOf(vt.SafeNodeList),it.default.arrayOf(it.default.instanceOf(mt.default))]),onAfterOpen:it.default.func,onAfterClose:it.default.func,onRequestClose:it.default.func,closeTimeoutMS:it.default.number,shouldFocusAfterRender:it.default.bool,shouldCloseOnOverlayClick:it.default.bool,shouldReturnFocusAfterClose:it.default.bool,preventScroll:it.default.bool,role:it.default.string,contentLabel:it.default.string,aria:it.default.object,data:it.default.object,children:it.default.node,shouldCloseOnEsc:it.default.bool,overlayRef:it.default.func,contentRef:it.default.func,id:it.default.string,overlayElement:it.default.func,contentElement:it.default.func,testId:it.default.string},$.default=Wt,J.exports=$.default}(ModalPortal,ModalPortal.exports);var ModalPortalExports=ModalPortal.exports;function componentWillMount(){var J=this.constructor.getDerivedStateFromProps(this.props,this.state);J!=null&&this.setState(J)}function componentWillReceiveProps(J){function $(_e){var et=this.constructor.getDerivedStateFromProps(J,_e);return et??null}this.setState($.bind(this))}function componentWillUpdate(J,$){try{var _e=this.props,et=this.state;this.props=J,this.state=$,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(_e,et)}finally{this.props=_e,this.state=et}}componentWillMount.__suppressDeprecationWarning=!0,componentWillReceiveProps.__suppressDeprecationWarning=!0,componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(J){var $=J.prototype;if(!$||!$.isReactComponent)throw new Error("Can only polyfill class components");if(typeof J.getDerivedStateFromProps!="function"&&typeof $.getSnapshotBeforeUpdate!="function")return J;var _e=null,et=null,tt=null;if(typeof $.componentWillMount=="function"?_e="componentWillMount":typeof $.UNSAFE_componentWillMount=="function"&&(_e="UNSAFE_componentWillMount"),typeof $.componentWillReceiveProps=="function"?et="componentWillReceiveProps":typeof $.UNSAFE_componentWillReceiveProps=="function"&&(et="UNSAFE_componentWillReceiveProps"),typeof $.componentWillUpdate=="function"?tt="componentWillUpdate":typeof $.UNSAFE_componentWillUpdate=="function"&&(tt="UNSAFE_componentWillUpdate"),_e!==null||et!==null||tt!==null){var nt=J.displayName||J.name,rt=typeof J.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+nt+" uses "+rt+" but also contains the following legacy lifecycles:"+(_e!==null?`
  `+_e:"")+(et!==null?`
  `+et:"")+(tt!==null?`
  `+tt:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof J.getDerivedStateFromProps=="function"&&($.componentWillMount=componentWillMount,$.componentWillReceiveProps=componentWillReceiveProps),typeof $.getSnapshotBeforeUpdate=="function"){if(typeof $.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");$.componentWillUpdate=componentWillUpdate;var it=$.componentDidUpdate;$.componentDidUpdate=function(st,at,ct){var ut=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:ct;it.call(this,st,at,ut)}}return J}const reactLifecyclesCompat_es=Object.freeze(Object.defineProperty({__proto__:null,polyfill},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(reactLifecyclesCompat_es);Object.defineProperty(Modal$2,"__esModule",{value:!0}),Modal$2.bodyOpenClassName=Modal$2.portalClassName=void 0;var _extends$2=Object.assign||function(J){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(J[et]=_e[et])}return J},_createClass=function(){function J($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}return function($,_e,et){return _e&&J($.prototype,_e),et&&J($,et),$}}(),_react=React__default,_react2=_interopRequireDefault(_react),_reactDom=reactDomExports,_reactDom2=_interopRequireDefault(_reactDom),_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes),_ModalPortal=ModalPortalExports,_ModalPortal2=_interopRequireDefault(_ModalPortal),_ariaAppHider=ariaAppHider$1,ariaAppHider=_interopRequireWildcard(_ariaAppHider),_safeHTMLElement=safeHTMLElement,_safeHTMLElement2=_interopRequireDefault(_safeHTMLElement),_reactLifecyclesCompat=require$$6;function _interopRequireWildcard(J){if(J&&J.__esModule)return J;var $={};if(J!=null)for(var _e in J)Object.prototype.hasOwnProperty.call(J,_e)&&($[_e]=J[_e]);return $.default=J,$}function _interopRequireDefault(J){return J&&J.__esModule?J:{default:J}}function _classCallCheck(J,$){if(!(J instanceof $))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(J,$){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:J}function _inherits(J,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);J.prototype=Object.create($&&$.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(J,$):J.__proto__=$)}var portalClassName=Modal$2.portalClassName="ReactModalPortal",bodyOpenClassName=Modal$2.bodyOpenClassName="ReactModal__Body--open",isReact16=_safeHTMLElement.canUseDOM&&_reactDom2.default.createPortal!==void 0,createHTMLElement=function J($){return document.createElement($)},getCreatePortal=function J(){return isReact16?_reactDom2.default.createPortal:_reactDom2.default.unstable_renderSubtreeIntoContainer};function getParentElement(J){return J()}var Modal$1=function(J){_inherits($,J);function $(){var _e,et,tt,nt;_classCallCheck(this,$);for(var rt=arguments.length,it=Array(rt),ot=0;ot<rt;ot++)it[ot]=arguments[ot];return nt=(et=(tt=_possibleConstructorReturn(this,(_e=$.__proto__||Object.getPrototypeOf($)).call.apply(_e,[this].concat(it))),tt),tt.removePortal=function(){!isReact16&&_reactDom2.default.unmountComponentAtNode(tt.node);var st=getParentElement(tt.props.parentSelector);st&&st.contains(tt.node)?st.removeChild(tt.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},tt.portalRef=function(st){tt.portal=st},tt.renderPortal=function(st){var at=getCreatePortal(),ct=at(tt,_react2.default.createElement(_ModalPortal2.default,_extends$2({defaultStyles:$.defaultStyles},st)),tt.node);tt.portalRef(ct)},et),_possibleConstructorReturn(tt,nt)}return _createClass($,[{key:"componentDidMount",value:function(){if(_safeHTMLElement.canUseDOM){isReact16||(this.node=createHTMLElement("div")),this.node.className=this.props.portalClassName;var et=getParentElement(this.props.parentSelector);et.appendChild(this.node),!isReact16&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(et){var tt=getParentElement(et.parentSelector),nt=getParentElement(this.props.parentSelector);return{prevParent:tt,nextParent:nt}}},{key:"componentDidUpdate",value:function(et,tt,nt){if(_safeHTMLElement.canUseDOM){var rt=this.props,it=rt.isOpen,ot=rt.portalClassName;et.portalClassName!==ot&&(this.node.className=ot);var st=nt.prevParent,at=nt.nextParent;at!==st&&(st.removeChild(this.node),at.appendChild(this.node)),!(!et.isOpen&&!it)&&!isReact16&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!_safeHTMLElement.canUseDOM||!this.node||!this.portal)){var et=this.portal.state,tt=Date.now(),nt=et.isOpen&&this.props.closeTimeoutMS&&(et.closesAt||tt+this.props.closeTimeoutMS);nt?(et.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,nt-tt)):this.removePortal()}}},{key:"render",value:function(){if(!_safeHTMLElement.canUseDOM||!isReact16)return null;!this.node&&isReact16&&(this.node=createHTMLElement("div"));var et=getCreatePortal();return et(_react2.default.createElement(_ModalPortal2.default,_extends$2({ref:this.portalRef,defaultStyles:$.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(et){ariaAppHider.setElement(et)}}]),$}(_react.Component);Modal$1.propTypes={isOpen:_propTypes2.default.bool.isRequired,style:_propTypes2.default.shape({content:_propTypes2.default.object,overlay:_propTypes2.default.object}),portalClassName:_propTypes2.default.string,bodyOpenClassName:_propTypes2.default.string,htmlOpenClassName:_propTypes2.default.string,className:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),overlayClassName:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),appElement:_propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default),_propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection),_propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList),_propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),onAfterOpen:_propTypes2.default.func,onRequestClose:_propTypes2.default.func,closeTimeoutMS:_propTypes2.default.number,ariaHideApp:_propTypes2.default.bool,shouldFocusAfterRender:_propTypes2.default.bool,shouldCloseOnOverlayClick:_propTypes2.default.bool,shouldReturnFocusAfterClose:_propTypes2.default.bool,preventScroll:_propTypes2.default.bool,parentSelector:_propTypes2.default.func,aria:_propTypes2.default.object,data:_propTypes2.default.object,role:_propTypes2.default.string,contentLabel:_propTypes2.default.string,shouldCloseOnEsc:_propTypes2.default.bool,overlayRef:_propTypes2.default.func,contentRef:_propTypes2.default.func,id:_propTypes2.default.string,overlayElement:_propTypes2.default.func,contentElement:_propTypes2.default.func},Modal$1.defaultProps={isOpen:!1,portalClassName,bodyOpenClassName,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function J(){return document.body},overlayElement:function J($,_e){return _react2.default.createElement("div",$,_e)},contentElement:function J($,_e){return _react2.default.createElement("div",$,_e)}},Modal$1.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,_reactLifecyclesCompat.polyfill)(Modal$1),Modal$2.default=Modal$1,function(J,$){Object.defineProperty($,"__esModule",{value:!0});var _e=Modal$2,et=tt(_e);function tt(nt){return nt&&nt.__esModule?nt:{default:nt}}$.default=et.default,J.exports=$.default}(lib,lib.exports);var libExports=lib.exports;const Modal=getDefaultExportFromCjs(libExports),Box=newStyled.div`
  margin: ${J=>J.margin};
  padding: ${J=>J.padding};
  width: ${J=>J.width};
  height: ${J=>J.height};
  min-width: ${J=>J.minWidth};
  min-height: ${J=>J.minHeight};
  max-width: ${J=>J.maxWidth};
  max-height: ${J=>J.maxHeight};
  overflow: ${J=>J.overflow};
  position: ${J=>J.position};
  border: ${J=>J.border};
  ${J=>J["data-qa"]&&`data-qa=${J["data-qa"]}`};
`;newStyled(Box)`
  display: flex;
  justify-content: center;
  align-items: center;
  width: ${J=>J.width??"100%"};
  height: ${J=>J.height??"100%"};
`;const Flex=newStyled(Box)`
  justify-self: ${J=>J.justify};
  align-self: ${J=>J.align};
  flex: ${J=>J.flex??"1"};
  width: ${J=>J.width??"100%"};
  height: ${J=>J.height??"100%"};
`,withFlex=J=>(J.Flex=Flex,J),Row=withFlex(newStyled(Box)`
  display: flex;
  flex-direction: row;
  justify-content: ${J=>J.justify};
  align-items: ${J=>J.align};
  gap: ${J=>J.gap};
  flex-wrap: ${J=>J.wrap};
  width: ${J=>J.width??"100%"};
  height: ${J=>J.height??"100%"};
`),Column=withFlex(newStyled(Box)`
  display: flex;
  flex-direction: column;
  justify-content: ${J=>J.justify};
  align-items: ${J=>J.align};
  gap: ${J=>J.gap};
  width: ${J=>J.width??"100%"};
  height: ${J=>J.height??"100%"};
`),Text$2=newStyled.div`
  margin: ${J=>J.margin??0};
  padding: ${J=>J.padding??0};
  overflow: ${J=>J.overflow};
  color: ${J=>J.color};
  ${J=>J["data-qa"]&&`data-qa=${J["data-qa"]}`};
`,QuickLinks=memo(({port:J})=>{const $=useAppDispatch();return jsx$1("a",{style:{border:"1px solid black"},onClick:()=>$(appActions.setActiveWidgetUrl(`http://127.0.0.1:${J||"8080"}/js/1ds-bundle.js`)),children:J})}),widgetSwitcherStateSelector=createShallowSelector(selectApp,selectActiveWidgetUrl,(J,$)=>({isVisible:J.isWidgetSwitcherOpen,widgetUrl:$})),spacingM="32px",spacingS$1="24px",spacingXXS="8px",WidgetSwitcher=memo(({trigger:J})=>{const{isVisible:$,widgetUrl:_e}=useAppSelector(widgetSwitcherStateSelector),et=useAppDispatch(),[tt,nt]=useState$1(_e);return jsxs(Fragment,{children:[J,jsxs(Modal,{isOpen:$,style:{overlay:{zIndex:1e20,height:"75vh"}},children:[jsx$1("h1",{children:"Widget switcher"}),jsxs(Column,{padding:`${spacingM} 0`,children:[jsx$1("label",{htmlFor:"widgetUrl",children:"Enter a widget url"}),jsx$1("input",{id:"widgetUrl",name:"widgetUrl",type:"url",placeholder:"http://127.0.0.1/js/1fe-bundle.js",onChange:rt=>nt(rt.target.value),value:tt??_e,"data-qa":"widgetUrlInput"}),jsxs(Row,{css:{gap:`${spacingXXS}`,padding:`${spacingXXS} 0 0 0`,alignContent:"center"},children:[jsx$1(Text$2,{children:"Quick load: "}),jsx$1(QuickLinks,{port:"8080"}),jsx$1(QuickLinks,{port:"8081"}),jsx$1(QuickLinks,{port:"8082"}),jsx$1(QuickLinks,{port:"8083"})]}),jsxs(Box,{padding:`${spacingS$1} 0`,children:[jsx$1("p",{children:jsx$1("b",{children:"Shortcuts"})}),jsx$1("table",{children:jsxs("tbody",{children:[jsxs("tr",{children:[jsx$1("td",{children:"Copy"}),jsx$1("td",{children:"CTRL+SHIFT+C"})]}),jsxs("tr",{children:[jsx$1("td",{children:"Open widget switcher"}),jsx$1("td",{children:"Ctrl+/"})]}),jsxs("tr",{children:[jsx$1("td",{children:"Open props editor"}),jsx$1("td",{children:"Ctrl+P"})]}),jsxs("tr",{children:[jsx$1("td",{children:"Reset"}),jsx$1("td",{children:"Ctrl+R"})]}),jsxs("tr",{children:[jsx$1("td",{children:"Clean (on error)"}),jsx$1("td",{children:"CMD+ESC"})]})]})})]})]}),jsx$1(ReactHotkeys,{keyName:"esc",onKeyDown:()=>{et(appActions.setIsWidgetSwitcherOpen(!1))},children:jsx$1("button",{disabled:!tt||tt===_e,onClick:()=>{tt&&et(appActions.setActiveWidgetUrl(tt))},"data-qa":"apply-widget-url",children:"Apply"})}),jsx$1("button",{onClick:()=>{et(appActions.setIsWidgetSwitcherOpen(!1))},children:"close"})]})]})}),DefaultBufferLength=1024;let nextPropID=0,Range$1=class{constructor($,_e){this.from=$,this.to=_e}};class NodeProp{constructor($={}){this.id=nextPropID++,this.perNode=!!$.perNode,this.deserialize=$.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add($){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof $!="function"&&($=NodeType.match($)),_e=>{let et=$(_e);return et===void 0?null:[this,et]}}}NodeProp.closedBy=new NodeProp({deserialize:J=>J.split(" ")}),NodeProp.openedBy=new NodeProp({deserialize:J=>J.split(" ")}),NodeProp.group=new NodeProp({deserialize:J=>J.split(" ")}),NodeProp.isolate=new NodeProp({deserialize:J=>{if(J&&J!="rtl"&&J!="ltr"&&J!="auto")throw new RangeError("Invalid value for isolate: "+J);return J||"auto"}}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor($,_e,et){this.tree=$,this.overlay=_e,this.parser=et}static get($){return $&&$.props&&$.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor($,_e,et,tt=0){this.name=$,this.props=_e,this.id=et,this.flags=tt}static define($){let _e=$.props&&$.props.length?Object.create(null):noProps,et=($.top?1:0)|($.skipped?2:0)|($.error?4:0)|($.name==null?8:0),tt=new NodeType($.name||"",_e,$.id,et);if($.props){for(let nt of $.props)if(Array.isArray(nt)||(nt=nt(tt)),nt){if(nt[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");_e[nt[0].id]=nt[1]}}return tt}prop($){return this.props[$.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is($){if(typeof $=="string"){if(this.name==$)return!0;let _e=this.prop(NodeProp.group);return _e?_e.indexOf($)>-1:!1}return this.id==$}static match($){let _e=Object.create(null);for(let et in $)for(let tt of et.split(" "))_e[tt]=$[et];return et=>{for(let tt=et.prop(NodeProp.group),nt=-1;nt<(tt?tt.length:0);nt++){let rt=_e[nt<0?et.name:tt[nt]];if(rt)return rt}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor($){this.types=$;for(let _e=0;_e<$.length;_e++)if($[_e].id!=_e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...$){let _e=[];for(let et of this.types){let tt=null;for(let nt of $){let rt=nt(et);rt&&(tt||(tt=Object.assign({},et.props)),tt[rt[0].id]=rt[1])}_e.push(tt?new NodeType(et.name,tt,et.id,et.flags):et)}return new NodeSet(_e)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(J){J[J.ExcludeBuffers=1]="ExcludeBuffers",J[J.IncludeAnonymous=2]="IncludeAnonymous",J[J.IgnoreMounts=4]="IgnoreMounts",J[J.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor($,_e,et,tt,nt){if(this.type=$,this.children=_e,this.positions=et,this.length=tt,this.props=null,nt&&nt.length){this.props=Object.create(null);for(let[rt,it]of nt)this.props[typeof rt=="number"?rt:rt.id]=it}}toString(){let $=MountedTree.get(this);if($&&!$.overlay)return $.tree.toString();let _e="";for(let et of this.children){let tt=et.toString();tt&&(_e&&(_e+=","),_e+=tt)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(_e.length?"("+_e+")":""):_e}cursor($=0){return new TreeCursor(this.topNode,$)}cursorAt($,_e=0,et=0){let tt=CachedNode.get(this)||this.topNode,nt=new TreeCursor(tt);return nt.moveTo($,_e),CachedNode.set(this,nt._tree),nt}get topNode(){return new TreeNode(this,0,0,null)}resolve($,_e=0){let et=resolveNode(CachedNode.get(this)||this.topNode,$,_e,!1);return CachedNode.set(this,et),et}resolveInner($,_e=0){let et=resolveNode(CachedInnerNode.get(this)||this.topNode,$,_e,!0);return CachedInnerNode.set(this,et),et}resolveStack($,_e=0){return stackIterator(this,$,_e)}iterate($){let{enter:_e,leave:et,from:tt=0,to:nt=this.length}=$,rt=$.mode||0,it=(rt&IterMode.IncludeAnonymous)>0;for(let ot=this.cursor(rt|IterMode.IncludeAnonymous);;){let st=!1;if(ot.from<=nt&&ot.to>=tt&&(!it&&ot.type.isAnonymous||_e(ot)!==!1)){if(ot.firstChild())continue;st=!0}for(;st&&et&&(it||!ot.type.isAnonymous)&&et(ot),!ot.nextSibling();){if(!ot.parent())return;st=!0}}}prop($){return $.perNode?this.props?this.props[$.id]:void 0:this.type.prop($)}get propValues(){let $=[];if(this.props)for(let _e in this.props)$.push([+_e,this.props[_e]]);return $}balance($={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(_e,et,tt)=>new Tree(this.type,_e,et,tt,this.propValues),$.makeTree||((_e,et,tt)=>new Tree(NodeType.none,_e,et,tt)))}static build($){return buildTree($)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor($,_e){this.buffer=$,this.index=_e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor($,_e,et){this.buffer=$,this.length=_e,this.set=et}get type(){return NodeType.none}toString(){let $=[];for(let _e=0;_e<this.buffer.length;)$.push(this.childString(_e)),_e=this.buffer[_e+3];return $.join(",")}childString($){let _e=this.buffer[$],et=this.buffer[$+3],tt=this.set.types[_e],nt=tt.name;if(/\W/.test(nt)&&!tt.isError&&(nt=JSON.stringify(nt)),$+=4,et==$)return nt;let rt=[];for(;$<et;)rt.push(this.childString($)),$=this.buffer[$+3];return nt+"("+rt.join(",")+")"}findChild($,_e,et,tt,nt){let{buffer:rt}=this,it=-1;for(let ot=$;ot!=_e&&!(checkSide(nt,tt,rt[ot+1],rt[ot+2])&&(it=ot,et>0));ot=rt[ot+3]);return it}slice($,_e,et){let tt=this.buffer,nt=new Uint16Array(_e-$),rt=0;for(let it=$,ot=0;it<_e;){nt[ot++]=tt[it++],nt[ot++]=tt[it++]-et;let st=nt[ot++]=tt[it++]-et;nt[ot++]=tt[it++]-$,rt=Math.max(rt,st)}return new TreeBuffer(nt,rt,this.set)}}function checkSide(J,$,_e,et){switch(J){case-2:return _e<$;case-1:return et>=$&&_e<$;case 0:return _e<$&&et>$;case 1:return _e<=$&&et>$;case 2:return et>$;case 4:return!0}}function resolveNode(J,$,_e,et){for(var tt;J.from==J.to||(_e<1?J.from>=$:J.from>$)||(_e>-1?J.to<=$:J.to<$);){let rt=!et&&J instanceof TreeNode&&J.index<0?null:J.parent;if(!rt)return J;J=rt}let nt=et?0:IterMode.IgnoreOverlays;if(et)for(let rt=J,it=rt.parent;it;rt=it,it=rt.parent)rt instanceof TreeNode&&rt.index<0&&((tt=it.enter($,_e,nt))===null||tt===void 0?void 0:tt.from)!=rt.from&&(J=it);for(;;){let rt=J.enter($,_e,nt);if(!rt)return J;J=rt}}class BaseNode{cursor($=0){return new TreeCursor(this,$)}getChild($,_e=null,et=null){let tt=getChildren(this,$,_e,et);return tt.length?tt[0]:null}getChildren($,_e=null,et=null){return getChildren(this,$,_e,et)}resolve($,_e=0){return resolveNode(this,$,_e,!1)}resolveInner($,_e=0){return resolveNode(this,$,_e,!0)}matchContext($){return matchNodeContext(this.parent,$)}enterUnfinishedNodesBefore($){let _e=this.childBefore($),et=this;for(;_e;){let tt=_e.lastChild;if(!tt||tt.to!=_e.to)break;tt.type.isError&&tt.from==tt.to?(et=_e,_e=tt.prevSibling):_e=tt}return et}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor($,_e,et,tt){super(),this._tree=$,this.from=_e,this.index=et,this._parent=tt}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild($,_e,et,tt,nt=0){for(let rt=this;;){for(let{children:it,positions:ot}=rt._tree,st=_e>0?it.length:-1;$!=st;$+=_e){let at=it[$],ct=ot[$]+rt.from;if(checkSide(tt,et,ct,ct+at.length)){if(at instanceof TreeBuffer){if(nt&IterMode.ExcludeBuffers)continue;let ut=at.findChild(0,at.buffer.length,_e,et-ct,tt);if(ut>-1)return new BufferNode(new BufferContext(rt,at,$,ct),null,ut)}else if(nt&IterMode.IncludeAnonymous||!at.type.isAnonymous||hasChild(at)){let ut;if(!(nt&IterMode.IgnoreMounts)&&(ut=MountedTree.get(at))&&!ut.overlay)return new TreeNode(ut.tree,ct,$,rt);let ft=new TreeNode(at,ct,$,rt);return nt&IterMode.IncludeAnonymous||!ft.type.isAnonymous?ft:ft.nextChild(_e<0?at.children.length-1:0,_e,et,tt)}}}if(nt&IterMode.IncludeAnonymous||!rt.type.isAnonymous||(rt.index>=0?$=rt.index+_e:$=_e<0?-1:rt._parent._tree.children.length,rt=rt._parent,!rt))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter($){return this.nextChild(0,1,$,2)}childBefore($){return this.nextChild(this._tree.children.length-1,-1,$,-2)}enter($,_e,et=0){let tt;if(!(et&IterMode.IgnoreOverlays)&&(tt=MountedTree.get(this._tree))&&tt.overlay){let nt=$-this.from;for(let{from:rt,to:it}of tt.overlay)if((_e>0?rt<=nt:rt<nt)&&(_e<0?it>=nt:it>nt))return new TreeNode(tt.tree,tt.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,$,_e,et)}nextSignificantParent(){let $=this;for(;$.type.isAnonymous&&$._parent;)$=$._parent;return $}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(J,$,_e,et){let tt=J.cursor(),nt=[];if(!tt.firstChild())return nt;if(_e!=null){for(let rt=!1;!rt;)if(rt=tt.type.is(_e),!tt.nextSibling())return nt}for(;;){if(et!=null&&tt.type.is(et))return nt;if(tt.type.is($)&&nt.push(tt.node),!tt.nextSibling())return et==null?nt:[]}}function matchNodeContext(J,$,_e=$.length-1){for(let et=J;_e>=0;et=et.parent){if(!et)return!1;if(!et.type.isAnonymous){if($[_e]&&$[_e]!=et.name)return!1;_e--}}return!0}class BufferContext{constructor($,_e,et,tt){this.parent=$,this.buffer=_e,this.index=et,this.start=tt}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor($,_e,et){super(),this.context=$,this._parent=_e,this.index=et,this.type=$.buffer.set.types[$.buffer.buffer[et]]}child($,_e,et){let{buffer:tt}=this.context,nt=tt.findChild(this.index+4,tt.buffer[this.index+3],$,_e-this.context.start,et);return nt<0?null:new BufferNode(this.context,this,nt)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter($){return this.child(1,$,2)}childBefore($){return this.child(-1,$,-2)}enter($,_e,et=0){if(et&IterMode.ExcludeBuffers)return null;let{buffer:tt}=this.context,nt=tt.findChild(this.index+4,tt.buffer[this.index+3],_e>0?1:-1,$-this.context.start,_e);return nt<0?null:new BufferNode(this.context,this,nt)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling($){return this._parent?null:this.context.parent.nextChild(this.context.index+$,$,0,4)}get nextSibling(){let{buffer:$}=this.context,_e=$.buffer[this.index+3];return _e<(this._parent?$.buffer[this._parent.index+3]:$.buffer.length)?new BufferNode(this.context,this._parent,_e):this.externalSibling(1)}get prevSibling(){let{buffer:$}=this.context,_e=this._parent?this._parent.index+4:0;return this.index==_e?this.externalSibling(-1):new BufferNode(this.context,this._parent,$.findChild(_e,this.index,-1,0,4))}get tree(){return null}toTree(){let $=[],_e=[],{buffer:et}=this.context,tt=this.index+4,nt=et.buffer[this.index+3];if(nt>tt){let rt=et.buffer[this.index+1];$.push(et.slice(tt,nt,rt)),_e.push(0)}return new Tree(this.type,$,_e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(J){if(!J.length)return null;let $=0,_e=J[0];for(let nt=1;nt<J.length;nt++){let rt=J[nt];(rt.from>_e.from||rt.to<_e.to)&&(_e=rt,$=nt)}let et=_e instanceof TreeNode&&_e.index<0?null:_e.parent,tt=J.slice();return et?tt[$]=et:tt.splice($,1),new StackIterator(tt,_e)}class StackIterator{constructor($,_e){this.heads=$,this.node=_e}get next(){return iterStack(this.heads)}}function stackIterator(J,$,_e){let et=J.resolveInner($,_e),tt=null;for(let nt=et instanceof TreeNode?et:et.context.parent;nt;nt=nt.parent)if(nt.index<0){let rt=nt.parent;(tt||(tt=[et])).push(rt.resolve($,_e)),nt=rt}else{let rt=MountedTree.get(nt.tree);if(rt&&rt.overlay&&rt.overlay[0].from<=$&&rt.overlay[rt.overlay.length-1].to>=$){let it=new TreeNode(rt.tree,rt.overlay[0].from+nt.from,-1,nt);(tt||(tt=[et])).push(resolveNode(it,$,_e,!1))}}return tt?iterStack(tt):et}class TreeCursor{get name(){return this.type.name}constructor($,_e=0){if(this.mode=_e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,$ instanceof TreeNode)this.yieldNode($);else{this._tree=$.context.parent,this.buffer=$.context;for(let et=$._parent;et;et=et._parent)this.stack.unshift(et.index);this.bufferNode=$,this.yieldBuf($.index)}}yieldNode($){return $?(this._tree=$,this.type=$.type,this.from=$.from,this.to=$.to,!0):!1}yieldBuf($,_e){this.index=$;let{start:et,buffer:tt}=this.buffer;return this.type=_e||tt.set.types[tt.buffer[$]],this.from=et+tt.buffer[$+1],this.to=et+tt.buffer[$+2],!0}yield($){return $?$ instanceof TreeNode?(this.buffer=null,this.yieldNode($)):(this.buffer=$.context,this.yieldBuf($.index,$.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild($,_e,et){if(!this.buffer)return this.yield(this._tree.nextChild($<0?this._tree._tree.children.length-1:0,$,_e,et,this.mode));let{buffer:tt}=this.buffer,nt=tt.findChild(this.index+4,tt.buffer[this.index+3],$,_e-this.buffer.start,et);return nt<0?!1:(this.stack.push(this.index),this.yieldBuf(nt))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter($){return this.enterChild(1,$,2)}childBefore($){return this.enterChild(-1,$,-2)}enter($,_e,et=this.mode){return this.buffer?et&IterMode.ExcludeBuffers?!1:this.enterChild(1,$,_e):this.yield(this._tree.enter($,_e,et))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let $=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode($)}sibling($){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+$,$,0,4,this.mode)):!1;let{buffer:_e}=this.buffer,et=this.stack.length-1;if($<0){let tt=et<0?0:this.stack[et]+4;if(this.index!=tt)return this.yieldBuf(_e.findChild(tt,this.index,-1,0,4))}else{let tt=_e.buffer[this.index+3];if(tt<(et<0?_e.buffer.length:_e.buffer[this.stack[et]+3]))return this.yieldBuf(tt)}return et<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+$,$,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode($){let _e,et,{buffer:tt}=this;if(tt){if($>0){if(this.index<tt.buffer.buffer.length)return!1}else for(let nt=0;nt<this.index;nt++)if(tt.buffer.buffer[nt+3]<this.index)return!1;({index:_e,parent:et}=tt)}else({index:_e,_parent:et}=this._tree);for(;et;{index:_e,_parent:et}=et)if(_e>-1)for(let nt=_e+$,rt=$<0?-1:et._tree.children.length;nt!=rt;nt+=$){let it=et._tree.children[nt];if(this.mode&IterMode.IncludeAnonymous||it instanceof TreeBuffer||!it.type.isAnonymous||hasChild(it))return!1}return!0}move($,_e){if(_e&&this.enterChild($,0,4))return!0;for(;;){if(this.sibling($))return!0;if(this.atLastNode($)||!this.parent())return!1}}next($=!0){return this.move(1,$)}prev($=!0){return this.move(-1,$)}moveTo($,_e=0){for(;(this.from==this.to||(_e<1?this.from>=$:this.from>$)||(_e>-1?this.to<=$:this.to<$))&&this.parent(););for(;this.enterChild(1,$,_e););return this}get node(){if(!this.buffer)return this._tree;let $=this.bufferNode,_e=null,et=0;if($&&$.context==this.buffer)e:for(let tt=this.index,nt=this.stack.length;nt>=0;){for(let rt=$;rt;rt=rt._parent)if(rt.index==tt){if(tt==this.index)return rt;_e=rt,et=nt+1;break e}tt=this.stack[--nt]}for(let tt=et;tt<this.stack.length;tt++)_e=new BufferNode(this.buffer,_e,this.stack[tt]);return this.bufferNode=new BufferNode(this.buffer,_e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate($,_e){for(let et=0;;){let tt=!1;if(this.type.isAnonymous||$(this)!==!1){if(this.firstChild()){et++;continue}this.type.isAnonymous||(tt=!0)}for(;;){if(tt&&_e&&_e(this),tt=this.type.isAnonymous,!et)return;if(this.nextSibling())break;this.parent(),et--,tt=!0}}}matchContext($){if(!this.buffer)return matchNodeContext(this.node.parent,$);let{buffer:_e}=this.buffer,{types:et}=_e.set;for(let tt=$.length-1,nt=this.stack.length-1;tt>=0;nt--){if(nt<0)return matchNodeContext(this._tree,$,tt);let rt=et[_e.buffer[this.stack[nt]]];if(!rt.isAnonymous){if($[tt]&&$[tt]!=rt.name)return!1;tt--}}return!0}}function hasChild(J){return J.children.some($=>$ instanceof TreeBuffer||!$.type.isAnonymous||hasChild($))}function buildTree(J){var $;let{buffer:_e,nodeSet:et,maxBufferLength:tt=DefaultBufferLength,reused:nt=[],minRepeatType:rt=et.types.length}=J,it=Array.isArray(_e)?new FlatBufferCursor(_e,_e.length):_e,ot=et.types,st=0,at=0;function ct(bt,Ct,kt,Et,_t,At){let{id:Dt,start:jt,end:Wt,size:Zt}=it,It=at,Vt=st;for(;Zt<0;)if(it.next(),Zt==-1){let Nt=nt[Dt];kt.push(Nt),Et.push(jt-bt);return}else if(Zt==-3){st=Dt;return}else if(Zt==-4){at=Dt;return}else throw new RangeError(`Unrecognized record size: ${Zt}`);let $t=ot[Dt],Tt,Rt,Lt=jt-bt;if(Wt-jt<=tt&&(Rt=vt(it.pos-Ct,_t))){let Nt=new Uint16Array(Rt.size-Rt.skip),Bt=it.pos-Rt.size,zt=Nt.length;for(;it.pos>Bt;)zt=mt(Rt.start,Nt,zt);Tt=new TreeBuffer(Nt,Wt-Rt.start,et),Lt=Rt.start-bt}else{let Nt=it.pos-Zt;it.next();let Bt=[],zt=[],qt=Dt>=rt?Dt:-1,Kt=0,Gt=Wt;for(;it.pos>Nt;)qt>=0&&it.id==qt&&it.size>=0?(it.end<=Gt-tt&&(dt(Bt,zt,jt,Kt,it.end,Gt,qt,It,Vt),Kt=Bt.length,Gt=it.end),it.next()):At>2500?ut(jt,Nt,Bt,zt):ct(jt,Nt,Bt,zt,qt,At+1);if(qt>=0&&Kt>0&&Kt<Bt.length&&dt(Bt,zt,jt,Kt,jt,Gt,qt,It,Vt),Bt.reverse(),zt.reverse(),qt>-1&&Kt>0){let Jt=ft($t,Vt);Tt=balanceRange($t,Bt,zt,0,Bt.length,0,Wt-jt,Jt,Jt)}else Tt=pt($t,Bt,zt,Wt-jt,It-Wt,Vt)}kt.push(Tt),Et.push(Lt)}function ut(bt,Ct,kt,Et){let _t=[],At=0,Dt=-1;for(;it.pos>Ct;){let{id:jt,start:Wt,end:Zt,size:It}=it;if(It>4)it.next();else{if(Dt>-1&&Wt<Dt)break;Dt<0&&(Dt=Zt-tt),_t.push(jt,Wt,Zt),At++,it.next()}}if(At){let jt=new Uint16Array(At*4),Wt=_t[_t.length-2];for(let Zt=_t.length-3,It=0;Zt>=0;Zt-=3)jt[It++]=_t[Zt],jt[It++]=_t[Zt+1]-Wt,jt[It++]=_t[Zt+2]-Wt,jt[It++]=It;kt.push(new TreeBuffer(jt,_t[2]-Wt,et)),Et.push(Wt-bt)}}function ft(bt,Ct){return(kt,Et,_t)=>{let At=0,Dt=kt.length-1,jt,Wt;if(Dt>=0&&(jt=kt[Dt])instanceof Tree){if(!Dt&&jt.type==bt&&jt.length==_t)return jt;(Wt=jt.prop(NodeProp.lookAhead))&&(At=Et[Dt]+jt.length+Wt)}return pt(bt,kt,Et,_t,At,Ct)}}function dt(bt,Ct,kt,Et,_t,At,Dt,jt,Wt){let Zt=[],It=[];for(;bt.length>Et;)Zt.push(bt.pop()),It.push(Ct.pop()+kt-_t);bt.push(pt(et.types[Dt],Zt,It,At-_t,jt-At,Wt)),Ct.push(_t-kt)}function pt(bt,Ct,kt,Et,_t,At,Dt){if(At){let jt=[NodeProp.contextHash,At];Dt=Dt?[jt].concat(Dt):[jt]}if(_t>25){let jt=[NodeProp.lookAhead,_t];Dt=Dt?[jt].concat(Dt):[jt]}return new Tree(bt,Ct,kt,Et,Dt)}function vt(bt,Ct){let kt=it.fork(),Et=0,_t=0,At=0,Dt=kt.end-tt,jt={size:0,start:0,skip:0};e:for(let Wt=kt.pos-bt;kt.pos>Wt;){let Zt=kt.size;if(kt.id==Ct&&Zt>=0){jt.size=Et,jt.start=_t,jt.skip=At,At+=4,Et+=4,kt.next();continue}let It=kt.pos-Zt;if(Zt<0||It<Wt||kt.start<Dt)break;let Vt=kt.id>=rt?4:0,$t=kt.start;for(kt.next();kt.pos>It;){if(kt.size<0)if(kt.size==-3)Vt+=4;else break e;else kt.id>=rt&&(Vt+=4);kt.next()}_t=$t,Et+=Zt,At+=Vt}return(Ct<0||Et==bt)&&(jt.size=Et,jt.start=_t,jt.skip=At),jt.size>4?jt:void 0}function mt(bt,Ct,kt){let{id:Et,start:_t,end:At,size:Dt}=it;if(it.next(),Dt>=0&&Et<rt){let jt=kt;if(Dt>4){let Wt=it.pos-(Dt-4);for(;it.pos>Wt;)kt=mt(bt,Ct,kt)}Ct[--kt]=jt,Ct[--kt]=At-bt,Ct[--kt]=_t-bt,Ct[--kt]=Et}else Dt==-3?st=Et:Dt==-4&&(at=Et);return kt}let Ot=[],yt=[];for(;it.pos>0;)ct(J.start||0,J.bufferStart||0,Ot,yt,-1,0);let wt=($=J.length)!==null&&$!==void 0?$:Ot.length?yt[0]+Ot[0].length:0;return new Tree(ot[J.topID],Ot.reverse(),yt.reverse(),wt)}const nodeSizeCache=new WeakMap;function nodeSize(J,$){if(!J.isAnonymous||$ instanceof TreeBuffer||$.type!=J)return 1;let _e=nodeSizeCache.get($);if(_e==null){_e=1;for(let et of $.children){if(et.type!=J||!(et instanceof Tree)){_e=1;break}_e+=nodeSize(J,et)}nodeSizeCache.set($,_e)}return _e}function balanceRange(J,$,_e,et,tt,nt,rt,it,ot){let st=0;for(let dt=et;dt<tt;dt++)st+=nodeSize(J,$[dt]);let at=Math.ceil(st*1.5/8),ct=[],ut=[];function ft(dt,pt,vt,mt,Ot){for(let yt=vt;yt<mt;){let wt=yt,bt=pt[yt],Ct=nodeSize(J,dt[yt]);for(yt++;yt<mt;yt++){let kt=nodeSize(J,dt[yt]);if(Ct+kt>=at)break;Ct+=kt}if(yt==wt+1){if(Ct>at){let kt=dt[wt];ft(kt.children,kt.positions,0,kt.children.length,pt[wt]+Ot);continue}ct.push(dt[wt])}else{let kt=pt[yt-1]+dt[yt-1].length-bt;ct.push(balanceRange(J,dt,pt,wt,yt,bt,kt,null,ot))}ut.push(bt+Ot-nt)}}return ft($,_e,et,tt,0),(it||ot)(ct,ut,rt)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer($,_e,et){let tt=this.map.get($);tt||this.map.set($,tt=new Map),tt.set(_e,et)}getBuffer($,_e){let et=this.map.get($);return et&&et.get(_e)}set($,_e){$ instanceof BufferNode?this.setBuffer($.context.buffer,$.index,_e):$ instanceof TreeNode&&this.map.set($.tree,_e)}get($){return $ instanceof BufferNode?this.getBuffer($.context.buffer,$.index):$ instanceof TreeNode?this.map.get($.tree):void 0}cursorSet($,_e){$.buffer?this.setBuffer($.buffer.buffer,$.index,_e):this.map.set($.tree,_e)}cursorGet($){return $.buffer?this.getBuffer($.buffer.buffer,$.index):this.map.get($.tree)}}class TreeFragment{constructor($,_e,et,tt,nt=!1,rt=!1){this.from=$,this.to=_e,this.tree=et,this.offset=tt,this.open=(nt?1:0)|(rt?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree($,_e=[],et=!1){let tt=[new TreeFragment(0,$.length,$,0,!1,et)];for(let nt of _e)nt.to>$.length&&tt.push(nt);return tt}static applyChanges($,_e,et=128){if(!_e.length)return $;let tt=[],nt=1,rt=$.length?$[0]:null;for(let it=0,ot=0,st=0;;it++){let at=it<_e.length?_e[it]:null,ct=at?at.fromA:1e9;if(ct-ot>=et)for(;rt&&rt.from<ct;){let ut=rt;if(ot>=ut.from||ct<=ut.to||st){let ft=Math.max(ut.from,ot)-st,dt=Math.min(ut.to,ct)-st;ut=ft>=dt?null:new TreeFragment(ft,dt,ut.tree,ut.offset+st,it>0,!!at)}if(ut&&tt.push(ut),rt.to>ct)break;rt=nt<$.length?$[nt++]:null}if(!at)break;ot=at.toA,st=at.toA-at.toB}return tt}}class Parser{startParse($,_e,et){return typeof $=="string"&&($=new StringInput($)),et=et?et.length?et.map(tt=>new Range$1(tt.from,tt.to)):[new Range$1(0,0)]:[new Range$1(0,$.length)],this.createParse($,_e||[],et)}parse($,_e,et){let tt=this.startParse($,_e,et);for(;;){let nt=tt.advance();if(nt)return nt}}}class StringInput{constructor($){this.string=$}get length(){return this.string.length}chunk($){return this.string.slice($)}get lineChunks(){return!1}read($,_e){return this.string.slice($,_e)}}new NodeProp({perNode:!0});var define_process_env_default={};class Stack{constructor($,_e,et,tt,nt,rt,it,ot,st,at=0,ct){this.p=$,this.stack=_e,this.state=et,this.reducePos=tt,this.pos=nt,this.score=rt,this.buffer=it,this.bufferBase=ot,this.curContext=st,this.lookAhead=at,this.parent=ct}toString(){return`[${this.stack.filter(($,_e)=>_e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start($,_e,et=0){let tt=$.parser.context;return new Stack($,[],_e,et,et,0,[],0,tt?new StackContext(tt,tt.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState($,_e){this.stack.push(this.state,_e,this.bufferBase+this.buffer.length),this.state=$}reduce($){var _e;let et=$>>19,tt=$&65535,{parser:nt}=this.p,rt=this.reducePos<this.pos-25;rt&&this.setLookAhead(this.pos);let it=nt.dynamicPrecedence(tt);if(it&&(this.score+=it),et==0){this.pushState(nt.getGoto(this.state,tt,!0),this.reducePos),tt<nt.minRepeatTerm&&this.storeNode(tt,this.reducePos,this.reducePos,rt?8:4,!0),this.reduceContext(tt,this.reducePos);return}let ot=this.stack.length-(et-1)*3-($&262144?6:0),st=ot?this.stack[ot-2]:this.p.ranges[0].from,at=this.reducePos-st;at>=2e3&&!(!((_e=this.p.parser.nodeSet.types[tt])===null||_e===void 0)&&_e.isAnonymous)&&(st==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=at):this.p.lastBigReductionSize<at&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=st,this.p.lastBigReductionSize=at));let ct=ot?this.stack[ot-1]:0,ut=this.bufferBase+this.buffer.length-ct;if(tt<nt.minRepeatTerm||$&131072){let ft=nt.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(tt,st,ft,ut+4,!0)}if($&262144)this.state=this.stack[ot];else{let ft=this.stack[ot-3];this.state=nt.getGoto(ft,tt,!0)}for(;this.stack.length>ot;)this.stack.pop();this.reduceContext(tt,st)}storeNode($,_e,et,tt=4,nt=!1){if($==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let rt=this,it=this.buffer.length;if(it==0&&rt.parent&&(it=rt.bufferBase-rt.parent.bufferBase,rt=rt.parent),it>0&&rt.buffer[it-4]==0&&rt.buffer[it-1]>-1){if(_e==et)return;if(rt.buffer[it-2]>=_e){rt.buffer[it-2]=et;return}}}if(!nt||this.pos==et)this.buffer.push($,_e,et,tt);else{let rt=this.buffer.length;if(rt>0&&this.buffer[rt-4]!=0){let it=!1;for(let ot=rt;ot>0&&this.buffer[ot-2]>et;ot-=4)if(this.buffer[ot-1]>=0){it=!0;break}if(it)for(;rt>0&&this.buffer[rt-2]>et;)this.buffer[rt]=this.buffer[rt-4],this.buffer[rt+1]=this.buffer[rt-3],this.buffer[rt+2]=this.buffer[rt-2],this.buffer[rt+3]=this.buffer[rt-1],rt-=4,tt>4&&(tt-=4)}this.buffer[rt]=$,this.buffer[rt+1]=_e,this.buffer[rt+2]=et,this.buffer[rt+3]=tt}}shift($,_e,et,tt){if($&131072)this.pushState($&65535,this.pos);else if($&262144)this.pos=tt,this.shiftContext(_e,et),_e<=this.p.parser.maxNode&&this.buffer.push(_e,et,tt,4);else{let nt=$,{parser:rt}=this.p;(tt>this.pos||_e<=rt.maxNode)&&(this.pos=tt,rt.stateFlag(nt,1)||(this.reducePos=tt)),this.pushState(nt,et),this.shiftContext(_e,et),_e<=rt.maxNode&&this.buffer.push(_e,et,tt,4)}}apply($,_e,et,tt){$&65536?this.reduce($):this.shift($,_e,et,tt)}useNode($,_e){let et=this.p.reused.length-1;(et<0||this.p.reused[et]!=$)&&(this.p.reused.push($),et++);let tt=this.pos;this.reducePos=this.pos=tt+$.length,this.pushState(_e,tt),this.buffer.push(et,tt,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,$,this,this.p.stream.reset(this.pos-$.length)))}split(){let $=this,_e=$.buffer.length;for(;_e>0&&$.buffer[_e-2]>$.reducePos;)_e-=4;let et=$.buffer.slice(_e),tt=$.bufferBase+_e;for(;$&&tt==$.bufferBase;)$=$.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,et,tt,this.curContext,this.lookAhead,$)}recoverByDelete($,_e){let et=$<=this.p.parser.maxNode;et&&this.storeNode($,this.pos,_e,4),this.storeNode(0,this.pos,_e,et?8:4),this.pos=this.reducePos=_e,this.score-=190}canShift($){for(let _e=new SimulatedStack(this);;){let et=this.p.parser.stateSlot(_e.state,4)||this.p.parser.hasAction(_e.state,$);if(et==0)return!1;if(!(et&65536))return!0;_e.reduce(et)}}recoverByInsert($){if(this.stack.length>=300)return[];let _e=this.p.parser.nextStates(this.state);if(_e.length>8||this.stack.length>=120){let tt=[];for(let nt=0,rt;nt<_e.length;nt+=2)(rt=_e[nt+1])!=this.state&&this.p.parser.hasAction(rt,$)&&tt.push(_e[nt],rt);if(this.stack.length<120)for(let nt=0;tt.length<8&&nt<_e.length;nt+=2){let rt=_e[nt+1];tt.some((it,ot)=>ot&1&&it==rt)||tt.push(_e[nt],rt)}_e=tt}let et=[];for(let tt=0;tt<_e.length&&et.length<4;tt+=2){let nt=_e[tt+1];if(nt==this.state)continue;let rt=this.split();rt.pushState(nt,this.pos),rt.storeNode(0,rt.pos,rt.pos,4,!0),rt.shiftContext(_e[tt],this.pos),rt.reducePos=this.pos,rt.score-=200,et.push(rt)}return et}forceReduce(){let{parser:$}=this.p,_e=$.stateSlot(this.state,5);if(!(_e&65536))return!1;if(!$.validAction(this.state,_e)){let et=_e>>19,tt=_e&65535,nt=this.stack.length-et*3;if(nt<0||$.getGoto(this.stack[nt],tt,!1)<0){let rt=this.findForcedReduction();if(rt==null)return!1;_e=rt}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(_e),!0}findForcedReduction(){let{parser:$}=this.p,_e=[],et=(tt,nt)=>{if(!_e.includes(tt))return _e.push(tt),$.allActions(tt,rt=>{if(!(rt&393216))if(rt&65536){let it=(rt>>19)-nt;if(it>1){let ot=rt&65535,st=this.stack.length-it*3;if(st>=0&&$.getGoto(this.stack[st],ot,!1)>=0)return it<<19|65536|ot}}else{let it=et(rt,nt+1);if(it!=null)return it}})};return et(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:$}=this.p;return $.data[$.stateSlot(this.state,1)]==65535&&!$.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState($){if(this.state!=$.state||this.stack.length!=$.stack.length)return!1;for(let _e=0;_e<this.stack.length;_e+=3)if(this.stack[_e]!=$.stack[_e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled($){return this.p.parser.dialect.flags[$]}shiftContext($,_e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,$,this,this.p.stream.reset(_e)))}reduceContext($,_e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,$,this,this.p.stream.reset(_e)))}emitContext(){let $=this.buffer.length-1;($<0||this.buffer[$]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let $=this.buffer.length-1;($<0||this.buffer[$]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext($){if($!=this.curContext.context){let _e=new StackContext(this.curContext.tracker,$);_e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=_e}}setLookAhead($){$>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=$)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor($,_e){this.tracker=$,this.context=_e,this.hash=$.strict?$.hash(_e):0}}class SimulatedStack{constructor($){this.start=$,this.state=$.state,this.stack=$.stack,this.base=this.stack.length}reduce($){let _e=$&65535,et=$>>19;et==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(et-1)*3;let tt=this.start.p.parser.getGoto(this.stack[this.base-3],_e,!0);this.state=tt}}class StackBufferCursor{constructor($,_e,et){this.stack=$,this.pos=_e,this.index=et,this.buffer=$.buffer,this.index==0&&this.maybeNext()}static create($,_e=$.bufferBase+$.buffer.length){return new StackBufferCursor($,_e,_e-$.bufferBase)}maybeNext(){let $=this.stack.parent;$!=null&&(this.index=this.stack.bufferBase-$.bufferBase,this.stack=$,this.buffer=$.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(J,$=Uint16Array){if(typeof J!="string")return J;let _e=null;for(let et=0,tt=0;et<J.length;){let nt=0;for(;;){let rt=J.charCodeAt(et++),it=!1;if(rt==126){nt=65535;break}rt>=92&&rt--,rt>=34&&rt--;let ot=rt-32;if(ot>=46&&(ot-=46,it=!0),nt+=ot,it)break;nt*=46}_e?_e[tt++]=nt:_e=new $(nt)}return _e}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor($,_e){this.input=$,this.ranges=_e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=_e[0].from,this.range=_e[0],this.end=_e[_e.length-1].to,this.readNext()}resolveOffset($,_e){let et=this.range,tt=this.rangeIndex,nt=this.pos+$;for(;nt<et.from;){if(!tt)return null;let rt=this.ranges[--tt];nt-=et.from-rt.to,et=rt}for(;_e<0?nt>et.to:nt>=et.to;){if(tt==this.ranges.length-1)return null;let rt=this.ranges[++tt];nt+=rt.from-et.to,et=rt}return nt}clipPos($){if($>=this.range.from&&$<this.range.to)return $;for(let _e of this.ranges)if(_e.to>$)return Math.max($,_e.from);return this.end}peek($){let _e=this.chunkOff+$,et,tt;if(_e>=0&&_e<this.chunk.length)et=this.pos+$,tt=this.chunk.charCodeAt(_e);else{let nt=this.resolveOffset($,1);if(nt==null)return-1;if(et=nt,et>=this.chunk2Pos&&et<this.chunk2Pos+this.chunk2.length)tt=this.chunk2.charCodeAt(et-this.chunk2Pos);else{let rt=this.rangeIndex,it=this.range;for(;it.to<=et;)it=this.ranges[++rt];this.chunk2=this.input.chunk(this.chunk2Pos=et),et+this.chunk2.length>it.to&&(this.chunk2=this.chunk2.slice(0,it.to-et)),tt=this.chunk2.charCodeAt(0)}}return et>=this.token.lookAhead&&(this.token.lookAhead=et+1),tt}acceptToken($,_e=0){let et=_e?this.resolveOffset(_e,-1):this.pos;if(et==null||et<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=$,this.token.end=et}acceptTokenTo($,_e){this.token.value=$,this.token.end=_e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:$,chunkPos:_e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=$,this.chunk2Pos=_e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let $=this.input.chunk(this.pos),_e=this.pos+$.length;this.chunk=_e>this.range.to?$.slice(0,this.range.to-this.pos):$,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance($=1){for(this.chunkOff+=$;this.pos+$>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();$-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=$,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset($,_e){if(_e?(this.token=_e,_e.start=$,_e.lookAhead=$+1,_e.value=_e.extended=-1):this.token=nullToken,this.pos!=$){if(this.pos=$,$==this.end)return this.setDone(),this;for(;$<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;$>=this.range.to;)this.range=this.ranges[++this.rangeIndex];$>=this.chunkPos&&$<this.chunkPos+this.chunk.length?this.chunkOff=$-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read($,_e){if($>=this.chunkPos&&_e<=this.chunkPos+this.chunk.length)return this.chunk.slice($-this.chunkPos,_e-this.chunkPos);if($>=this.chunk2Pos&&_e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice($-this.chunk2Pos,_e-this.chunk2Pos);if($>=this.range.from&&_e<=this.range.to)return this.input.read($,_e);let et="";for(let tt of this.ranges){if(tt.from>=_e)break;tt.to>$&&(et+=this.input.read(Math.max(tt.from,$),Math.min(tt.to,_e)))}return et}}class TokenGroup{constructor($,_e){this.data=$,this.id=_e}token($,_e){let{parser:et}=_e.p;readToken(this.data,$,_e,this.id,et.data,et.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor($,_e,et){this.precTable=_e,this.elseToken=et,this.data=typeof $=="string"?decodeArray($):$}token($,_e){let et=$.pos,tt=0;for(;;){let nt=$.next<0,rt=$.resolveOffset(1,1);if(readToken(this.data,$,_e,0,this.data,this.precTable),$.token.value>-1)break;if(this.elseToken==null)return;if(nt||tt++,rt==null)break;$.reset(rt,$.token)}tt&&($.reset(et,$.token),$.acceptToken(this.elseToken,tt))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor($,_e={}){this.token=$,this.contextual=!!_e.contextual,this.fallback=!!_e.fallback,this.extend=!!_e.extend}}function readToken(J,$,_e,et,tt,nt){let rt=0,it=1<<et,{dialect:ot}=_e.p.parser;e:for(;it&J[rt];){let st=J[rt+1];for(let ft=rt+3;ft<st;ft+=2)if((J[ft+1]&it)>0){let dt=J[ft];if(ot.allows(dt)&&($.token.value==-1||$.token.value==dt||overrides(dt,$.token.value,tt,nt))){$.acceptToken(dt);break}}let at=$.next,ct=0,ut=J[rt+2];if($.next<0&&ut>ct&&J[st+ut*3-3]==65535){rt=J[st+ut*3-1];continue e}for(;ct<ut;){let ft=ct+ut>>1,dt=st+ft+(ft<<1),pt=J[dt],vt=J[dt+1]||65536;if(at<pt)ut=ft;else if(at>=vt)ct=ft+1;else{rt=J[dt+2],$.advance();continue e}}break}}function findOffset(J,$,_e){for(let et=$,tt;(tt=J[et])!=65535;et++)if(tt==_e)return et-$;return-1}function overrides(J,$,_e,et){let tt=findOffset(_e,et,$);return tt<0||findOffset(_e,et,J)<tt}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(J,$,_e){let et=J.cursor(IterMode.IncludeAnonymous);for(et.moveTo($);;)if(!(_e<0?et.childBefore($):et.childAfter($)))for(;;){if((_e<0?et.to<$:et.from>$)&&!et.type.isError)return _e<0?Math.max(0,Math.min(et.to-1,$-25)):Math.min(J.length,Math.max(et.from+1,$+25));if(_e<0?et.prevSibling():et.nextSibling())break;if(!et.parent())return _e<0?0:J.length}}class FragmentCursor{constructor($,_e){this.fragments=$,this.nodeSet=_e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let $=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if($){for(this.safeFrom=$.openStart?cutAt($.tree,$.from+$.offset,1)-$.offset:$.from,this.safeTo=$.openEnd?cutAt($.tree,$.to+$.offset,-1)-$.offset:$.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push($.tree),this.start.push(-$.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt($){if($<this.nextStart)return null;for(;this.fragment&&this.safeTo<=$;)this.nextFragment();if(!this.fragment)return null;for(;;){let _e=this.trees.length-1;if(_e<0)return this.nextFragment(),null;let et=this.trees[_e],tt=this.index[_e];if(tt==et.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let nt=et.children[tt],rt=this.start[_e]+et.positions[tt];if(rt>$)return this.nextStart=rt,null;if(nt instanceof Tree){if(rt==$){if(rt<this.safeFrom)return null;let it=rt+nt.length;if(it<=this.safeTo){let ot=nt.prop(NodeProp.lookAhead);if(!ot||it+ot<this.fragment.to)return nt}}this.index[_e]++,rt+nt.length>=Math.max(this.safeFrom,$)&&(this.trees.push(nt),this.start.push(rt),this.index.push(0))}else this.index[_e]++,this.nextStart=rt+nt.length}}}class TokenCache{constructor($,_e){this.stream=_e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=$.tokenizers.map(et=>new CachedToken)}getActions($){let _e=0,et=null,{parser:tt}=$.p,{tokenizers:nt}=tt,rt=tt.stateSlot($.state,3),it=$.curContext?$.curContext.hash:0,ot=0;for(let st=0;st<nt.length;st++){if(!(1<<st&rt))continue;let at=nt[st],ct=this.tokens[st];if(!(et&&!at.fallback)&&((at.contextual||ct.start!=$.pos||ct.mask!=rt||ct.context!=it)&&(this.updateCachedToken(ct,at,$),ct.mask=rt,ct.context=it),ct.lookAhead>ct.end+25&&(ot=Math.max(ct.lookAhead,ot)),ct.value!=0)){let ut=_e;if(ct.extended>-1&&(_e=this.addActions($,ct.extended,ct.end,_e)),_e=this.addActions($,ct.value,ct.end,_e),!at.extend&&(et=ct,_e>ut))break}}for(;this.actions.length>_e;)this.actions.pop();return ot&&$.setLookAhead(ot),!et&&$.pos==this.stream.end&&(et=new CachedToken,et.value=$.p.parser.eofTerm,et.start=et.end=$.pos,_e=this.addActions($,et.value,et.end,_e)),this.mainToken=et,this.actions}getMainToken($){if(this.mainToken)return this.mainToken;let _e=new CachedToken,{pos:et,p:tt}=$;return _e.start=et,_e.end=Math.min(et+1,tt.stream.end),_e.value=et==tt.stream.end?tt.parser.eofTerm:0,_e}updateCachedToken($,_e,et){let tt=this.stream.clipPos(et.pos);if(_e.token(this.stream.reset(tt,$),et),$.value>-1){let{parser:nt}=et.p;for(let rt=0;rt<nt.specialized.length;rt++)if(nt.specialized[rt]==$.value){let it=nt.specializers[rt](this.stream.read($.start,$.end),et);if(it>=0&&et.p.parser.dialect.allows(it>>1)){it&1?$.extended=it>>1:$.value=it>>1;break}}}else $.value=0,$.end=this.stream.clipPos(tt+1)}putAction($,_e,et,tt){for(let nt=0;nt<tt;nt+=3)if(this.actions[nt]==$)return tt;return this.actions[tt++]=$,this.actions[tt++]=_e,this.actions[tt++]=et,tt}addActions($,_e,et,tt){let{state:nt}=$,{parser:rt}=$.p,{data:it}=rt;for(let ot=0;ot<2;ot++)for(let st=rt.stateSlot(nt,ot?2:1);;st+=3){if(it[st]==65535)if(it[st+1]==1)st=pair(it,st+2);else{tt==0&&it[st+1]==2&&(tt=this.putAction(pair(it,st+2),_e,et,tt));break}it[st]==_e&&(tt=this.putAction(pair(it,st+1),_e,et,tt))}return tt}}class Parse{constructor($,_e,et,tt){this.parser=$,this.input=_e,this.ranges=tt,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(_e,tt),this.tokens=new TokenCache($,this.stream),this.topTerm=$.top[1];let{from:nt}=tt[0];this.stacks=[Stack.start(this,$.top[0],nt)],this.fragments=et.length&&this.stream.end-nt>$.bufferLength*4?new FragmentCursor(et,$.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let $=this.stacks,_e=this.minStackPos,et=this.stacks=[],tt,nt;if(this.bigReductionCount>300&&$.length==1){let[rt]=$;for(;rt.forceReduce()&&rt.stack.length&&rt.stack[rt.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let rt=0;rt<$.length;rt++){let it=$[rt];for(;;){if(this.tokens.mainToken=null,it.pos>_e)et.push(it);else{if(this.advanceStack(it,et,$))continue;{tt||(tt=[],nt=[]),tt.push(it);let ot=this.tokens.getMainToken(it);nt.push(ot.value,ot.end)}}break}}if(!et.length){let rt=tt&&findFinished(tt);if(rt)return verbose&&console.log("Finish with "+this.stackID(rt)),this.stackToTree(rt);if(this.parser.strict)throw verbose&&tt&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+_e);this.recovering||(this.recovering=5)}if(this.recovering&&tt){let rt=this.stoppedAt!=null&&tt[0].pos>this.stoppedAt?tt[0]:this.runRecovery(tt,nt,et);if(rt)return verbose&&console.log("Force-finish "+this.stackID(rt)),this.stackToTree(rt.forceAll())}if(this.recovering){let rt=this.recovering==1?1:this.recovering*3;if(et.length>rt)for(et.sort((it,ot)=>ot.score-it.score);et.length>rt;)et.pop();et.some(it=>it.reducePos>_e)&&this.recovering--}else if(et.length>1){e:for(let rt=0;rt<et.length-1;rt++){let it=et[rt];for(let ot=rt+1;ot<et.length;ot++){let st=et[ot];if(it.sameState(st)||it.buffer.length>500&&st.buffer.length>500)if((it.score-st.score||it.buffer.length-st.buffer.length)>0)et.splice(ot--,1);else{et.splice(rt--,1);continue e}}}et.length>12&&et.splice(12,et.length-12)}this.minStackPos=et[0].pos;for(let rt=1;rt<et.length;rt++)et[rt].pos<this.minStackPos&&(this.minStackPos=et[rt].pos);return null}stopAt($){if(this.stoppedAt!=null&&this.stoppedAt<$)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=$}advanceStack($,_e,et){let tt=$.pos,{parser:nt}=this,rt=verbose?this.stackID($)+" -> ":"";if(this.stoppedAt!=null&&tt>this.stoppedAt)return $.forceReduce()?$:null;if(this.fragments){let st=$.curContext&&$.curContext.tracker.strict,at=st?$.curContext.hash:0;for(let ct=this.fragments.nodeAt(tt);ct;){let ut=this.parser.nodeSet.types[ct.type.id]==ct.type?nt.getGoto($.state,ct.type.id):-1;if(ut>-1&&ct.length&&(!st||(ct.prop(NodeProp.contextHash)||0)==at))return $.useNode(ct,ut),verbose&&console.log(rt+this.stackID($)+` (via reuse of ${nt.getName(ct.type.id)})`),!0;if(!(ct instanceof Tree)||ct.children.length==0||ct.positions[0]>0)break;let ft=ct.children[0];if(ft instanceof Tree&&ct.positions[0]==0)ct=ft;else break}}let it=nt.stateSlot($.state,4);if(it>0)return $.reduce(it),verbose&&console.log(rt+this.stackID($)+` (via always-reduce ${nt.getName(it&65535)})`),!0;if($.stack.length>=8400)for(;$.stack.length>6e3&&$.forceReduce(););let ot=this.tokens.getActions($);for(let st=0;st<ot.length;){let at=ot[st++],ct=ot[st++],ut=ot[st++],ft=st==ot.length||!et,dt=ft?$:$.split(),pt=this.tokens.mainToken;if(dt.apply(at,ct,pt?pt.start:dt.pos,ut),verbose&&console.log(rt+this.stackID(dt)+` (via ${at&65536?`reduce of ${nt.getName(at&65535)}`:"shift"} for ${nt.getName(ct)} @ ${tt}${dt==$?"":", split"})`),ft)return!0;dt.pos>tt?_e.push(dt):et.push(dt)}return!1}advanceFully($,_e){let et=$.pos;for(;;){if(!this.advanceStack($,null,null))return!1;if($.pos>et)return pushStackDedup($,_e),!0}}runRecovery($,_e,et){let tt=null,nt=!1;for(let rt=0;rt<$.length;rt++){let it=$[rt],ot=_e[rt<<1],st=_e[(rt<<1)+1],at=verbose?this.stackID(it)+" -> ":"";if(it.deadEnd&&(nt||(nt=!0,it.restart(),verbose&&console.log(at+this.stackID(it)+" (restarted)"),this.advanceFully(it,et))))continue;let ct=it.split(),ut=at;for(let ft=0;ct.forceReduce()&&ft<10&&(verbose&&console.log(ut+this.stackID(ct)+" (via force-reduce)"),!this.advanceFully(ct,et));ft++)verbose&&(ut=this.stackID(ct)+" -> ");for(let ft of it.recoverByInsert(ot))verbose&&console.log(at+this.stackID(ft)+" (via recover-insert)"),this.advanceFully(ft,et);this.stream.end>it.pos?(st==it.pos&&(st++,ot=0),it.recoverByDelete(ot,st),verbose&&console.log(at+this.stackID(it)+` (via recover-delete ${this.parser.getName(ot)})`),pushStackDedup(it,et)):(!tt||tt.score<it.score)&&(tt=it)}return tt}stackToTree($){return $.close(),Tree.build({buffer:StackBufferCursor.create($),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:$.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID($){let _e=(stackIDs||(stackIDs=new WeakMap)).get($);return _e||stackIDs.set($,_e=String.fromCodePoint(this.nextStackID++)),_e+$}}function pushStackDedup(J,$){for(let _e=0;_e<$.length;_e++){let et=$[_e];if(et.pos==J.pos&&et.sameState(J)){$[_e].score<J.score&&($[_e]=J);return}}$.push(J)}class Dialect{constructor($,_e,et){this.source=$,this.flags=_e,this.disabled=et}allows($){return!this.disabled||this.disabled[$]==0}}const id=J=>J;class ContextTracker{constructor($){this.start=$.start,this.shift=$.shift||id,this.reduce=$.reduce||id,this.reuse=$.reuse||id,this.hash=$.hash||(()=>0),this.strict=$.strict!==!1}}class LRParser extends Parser{constructor($){if(super(),this.wrappers=[],$.version!=14)throw new RangeError(`Parser version (${$.version}) doesn't match runtime version (14)`);let _e=$.nodeNames.split(" ");this.minRepeatTerm=_e.length;for(let it=0;it<$.repeatNodeCount;it++)_e.push("");let et=Object.keys($.topRules).map(it=>$.topRules[it][1]),tt=[];for(let it=0;it<_e.length;it++)tt.push([]);function nt(it,ot,st){tt[it].push([ot,ot.deserialize(String(st))])}if($.nodeProps)for(let it of $.nodeProps){let ot=it[0];typeof ot=="string"&&(ot=NodeProp[ot]);for(let st=1;st<it.length;){let at=it[st++];if(at>=0)nt(at,ot,it[st++]);else{let ct=it[st+-at];for(let ut=-at;ut>0;ut--)nt(it[st++],ot,ct);st++}}}this.nodeSet=new NodeSet(_e.map((it,ot)=>NodeType.define({name:ot>=this.minRepeatTerm?void 0:it,id:ot,props:tt[ot],top:et.indexOf(ot)>-1,error:ot==0,skipped:$.skippedNodes&&$.skippedNodes.indexOf(ot)>-1}))),$.propSources&&(this.nodeSet=this.nodeSet.extend(...$.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let rt=decodeArray($.tokenData);this.context=$.context,this.specializerSpecs=$.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let it=0;it<this.specializerSpecs.length;it++)this.specialized[it]=this.specializerSpecs[it].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray($.states,Uint32Array),this.data=decodeArray($.stateData),this.goto=decodeArray($.goto),this.maxTerm=$.maxTerm,this.tokenizers=$.tokenizers.map(it=>typeof it=="number"?new TokenGroup(rt,it):it),this.topRules=$.topRules,this.dialects=$.dialects||{},this.dynamicPrecedences=$.dynamicPrecedences||null,this.tokenPrecTable=$.tokenPrec,this.termNames=$.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse($,_e,et){let tt=new Parse(this,$,_e,et);for(let nt of this.wrappers)tt=nt(tt,$,_e,et);return tt}getGoto($,_e,et=!1){let tt=this.goto;if(_e>=tt[0])return-1;for(let nt=tt[_e+1];;){let rt=tt[nt++],it=rt&1,ot=tt[nt++];if(it&&et)return ot;for(let st=nt+(rt>>1);nt<st;nt++)if(tt[nt]==$)return ot;if(it)return-1}}hasAction($,_e){let et=this.data;for(let tt=0;tt<2;tt++)for(let nt=this.stateSlot($,tt?2:1),rt;;nt+=3){if((rt=et[nt])==65535)if(et[nt+1]==1)rt=et[nt=pair(et,nt+2)];else{if(et[nt+1]==2)return pair(et,nt+2);break}if(rt==_e||rt==0)return pair(et,nt+1)}return 0}stateSlot($,_e){return this.states[$*6+_e]}stateFlag($,_e){return(this.stateSlot($,0)&_e)>0}validAction($,_e){return!!this.allActions($,et=>et==_e?!0:null)}allActions($,_e){let et=this.stateSlot($,4),tt=et?_e(et):void 0;for(let nt=this.stateSlot($,1);tt==null;nt+=3){if(this.data[nt]==65535)if(this.data[nt+1]==1)nt=pair(this.data,nt+2);else break;tt=_e(pair(this.data,nt+1))}return tt}nextStates($){let _e=[];for(let et=this.stateSlot($,1);;et+=3){if(this.data[et]==65535)if(this.data[et+1]==1)et=pair(this.data,et+2);else break;if(!(this.data[et+2]&1)){let tt=this.data[et+1];_e.some((nt,rt)=>rt&1&&nt==tt)||_e.push(this.data[et],tt)}}return _e}configure($){let _e=Object.assign(Object.create(LRParser.prototype),this);if($.props&&(_e.nodeSet=this.nodeSet.extend(...$.props)),$.top){let et=this.topRules[$.top];if(!et)throw new RangeError(`Invalid top rule name ${$.top}`);_e.top=et}return $.tokenizers&&(_e.tokenizers=this.tokenizers.map(et=>{let tt=$.tokenizers.find(nt=>nt.from==et);return tt?tt.to:et})),$.specializers&&(_e.specializers=this.specializers.slice(),_e.specializerSpecs=this.specializerSpecs.map((et,tt)=>{let nt=$.specializers.find(it=>it.from==et.external);if(!nt)return et;let rt=Object.assign(Object.assign({},et),{external:nt.to});return _e.specializers[tt]=getSpecializer(rt),rt})),$.contextTracker&&(_e.context=$.contextTracker),$.dialect&&(_e.dialect=this.parseDialect($.dialect)),$.strict!=null&&(_e.strict=$.strict),$.wrap&&(_e.wrappers=_e.wrappers.concat($.wrap)),$.bufferLength!=null&&(_e.bufferLength=$.bufferLength),_e}hasWrappers(){return this.wrappers.length>0}getName($){return this.termNames?this.termNames[$]:String($<=this.maxNode&&this.nodeSet.types[$].name||$)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence($){let _e=this.dynamicPrecedences;return _e==null?0:_e[$]||0}parseDialect($){let _e=Object.keys(this.dialects),et=_e.map(()=>!1);if($)for(let nt of $.split(" ")){let rt=_e.indexOf(nt);rt>=0&&(et[rt]=!0)}let tt=null;for(let nt=0;nt<_e.length;nt++)if(!et[nt])for(let rt=this.dialects[_e[nt]],it;(it=this.data[rt++])!=65535;)(tt||(tt=new Uint8Array(this.maxTerm+1)))[it]=1;return new Dialect($,et,tt)}static deserialize($){return new LRParser($)}}function pair(J,$){return J[$]|J[$+1]<<16}function findFinished(J){let $=null;for(let _e of J){let et=_e.p.stoppedAt;(_e.pos==_e.p.stream.end||et!=null&&_e.pos>et)&&_e.p.parser.stateFlag(_e.state,2)&&(!$||$.score<_e.score)&&($=_e)}return $}function getSpecializer(J){if(J.external){let $=J.extend?1:0;return(_e,et)=>J.external(_e,et)<<1|$}return J.get}let nextTagID=0;class Tag{constructor($,_e,et,tt){this.name=$,this.set=_e,this.base=et,this.modified=tt,this.id=nextTagID++}toString(){let{name:$}=this;for(let _e of this.modified)_e.name&&($=`${_e.name}(${$})`);return $}static define($,_e){let et=typeof $=="string"?$:"?";if($ instanceof Tag&&(_e=$),_e!=null&&_e.base)throw new Error("Can not derive from a modified tag");let tt=new Tag(et,[],null,[]);if(tt.set.push(tt),_e)for(let nt of _e.set)tt.set.push(nt);return tt}static defineModifier($){let _e=new Modifier($);return et=>et.modified.indexOf(_e)>-1?et:Modifier.get(et.base||et,et.modified.concat(_e).sort((tt,nt)=>tt.id-nt.id))}}let nextModifierID=0;class Modifier{constructor($){this.name=$,this.instances=[],this.id=nextModifierID++}static get($,_e){if(!_e.length)return $;let et=_e[0].instances.find(it=>it.base==$&&sameArray$1(_e,it.modified));if(et)return et;let tt=[],nt=new Tag($.name,tt,$,_e);for(let it of _e)it.instances.push(nt);let rt=powerSet(_e);for(let it of $.set)if(!it.modified.length)for(let ot of rt)tt.push(Modifier.get(it,ot));return nt}}function sameArray$1(J,$){return J.length==$.length&&J.every((_e,et)=>_e==$[et])}function powerSet(J){let $=[[]];for(let _e=0;_e<J.length;_e++)for(let et=0,tt=$.length;et<tt;et++)$.push($[et].concat(J[_e]));return $.sort((_e,et)=>et.length-_e.length)}function styleTags(J){let $=Object.create(null);for(let _e in J){let et=J[_e];Array.isArray(et)||(et=[et]);for(let tt of _e.split(" "))if(tt){let nt=[],rt=2,it=tt;for(let ct=0;;){if(it=="..."&&ct>0&&ct+3==tt.length){rt=1;break}let ut=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(it);if(!ut)throw new RangeError("Invalid path: "+tt);if(nt.push(ut[0]=="*"?"":ut[0][0]=='"'?JSON.parse(ut[0]):ut[0]),ct+=ut[0].length,ct==tt.length)break;let ft=tt[ct++];if(ct==tt.length&&ft=="!"){rt=0;break}if(ft!="/")throw new RangeError("Invalid path: "+tt);it=tt.slice(ct)}let ot=nt.length-1,st=nt[ot];if(!st)throw new RangeError("Invalid path: "+tt);let at=new Rule(et,rt,ot>0?nt.slice(0,ot):null);$[st]=at.sort($[st])}}return ruleNodeProp.add($)}const ruleNodeProp=new NodeProp;class Rule{constructor($,_e,et,tt){this.tags=$,this.mode=_e,this.context=et,this.next=tt}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort($){return!$||$.depth<this.depth?(this.next=$,this):($.next=this.sort($.next),$)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(J,$){let _e=Object.create(null);for(let nt of J)if(!Array.isArray(nt.tag))_e[nt.tag.id]=nt.class;else for(let rt of nt.tag)_e[rt.id]=nt.class;let{scope:et,all:tt=null}=$||{};return{style:nt=>{let rt=tt;for(let it of nt)for(let ot of it.set){let st=_e[ot.id];if(st){rt=rt?rt+" "+st:st;break}}return rt},scope:et}}function highlightTags(J,$){let _e=null;for(let et of J){let tt=et.style($);tt&&(_e=_e?_e+" "+tt:tt)}return _e}function highlightTree(J,$,_e,et=0,tt=J.length){let nt=new HighlightBuilder(et,Array.isArray($)?$:[$],_e);nt.highlightRange(J.cursor(),et,tt,"",nt.highlighters),nt.flush(tt)}class HighlightBuilder{constructor($,_e,et){this.at=$,this.highlighters=_e,this.span=et,this.class=""}startSpan($,_e){_e!=this.class&&(this.flush($),$>this.at&&(this.at=$),this.class=_e)}flush($){$>this.at&&this.class&&this.span(this.at,$,this.class)}highlightRange($,_e,et,tt,nt){let{type:rt,from:it,to:ot}=$;if(it>=et||ot<=_e)return;rt.isTop&&(nt=this.highlighters.filter(ft=>!ft.scope||ft.scope(rt)));let st=tt,at=getStyleTags($)||Rule.empty,ct=highlightTags(nt,at.tags);if(ct&&(st&&(st+=" "),st+=ct,at.mode==1&&(tt+=(tt?" ":"")+ct)),this.startSpan(Math.max(_e,it),st),at.opaque)return;let ut=$.tree&&$.tree.prop(NodeProp.mounted);if(ut&&ut.overlay){let ft=$.node.enter(ut.overlay[0].from+it,1),dt=this.highlighters.filter(vt=>!vt.scope||vt.scope(ut.tree.type)),pt=$.firstChild();for(let vt=0,mt=it;;vt++){let Ot=vt<ut.overlay.length?ut.overlay[vt]:null,yt=Ot?Ot.from+it:ot,wt=Math.max(_e,mt),bt=Math.min(et,yt);if(wt<bt&&pt)for(;$.from<bt&&(this.highlightRange($,wt,bt,tt,nt),this.startSpan(Math.min(bt,$.to),st),!($.to>=yt||!$.nextSibling())););if(!Ot||yt>et)break;mt=Ot.to+it,mt>_e&&(this.highlightRange(ft.cursor(),Math.max(_e,Ot.from+it),Math.min(et,mt),"",dt),this.startSpan(Math.min(et,mt),st))}pt&&$.parent()}else if($.firstChild()){ut&&(tt="");do if(!($.to<=_e)){if($.from>=et)break;this.highlightRange($,_e,et,tt,nt),this.startSpan(Math.min(et,$.to),st)}while($.nextSibling());$.parent()}}}function getStyleTags(J){let $=J.type.prop(ruleNodeProp);for(;$&&$.context&&!J.matchContext($.context);)$=$.next;return $||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let J in tags){let $=tags[J];$ instanceof Tag&&($.name=J)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);const noSemi=314,noSemiType=315,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=316,spaces=318,newline=319,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(J,$){return $==LineComment||$==BlockComment||$==spaces?J:$==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((J,$)=>{let{next:_e}=J;(_e==braceR||_e==-1||$.context)&&J.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((J,$)=>{let{next:_e}=J,et;space.indexOf(_e)>-1||_e==slash&&((et=J.peek(1))==slash||et==star)||_e!=braceR&&_e!=semicolon&&_e!=-1&&!$.context&&J.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((J,$)=>{J.next==bracketL&&!$.context&&J.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((J,$)=>{let{next:_e}=J;if(_e==plus||_e==minus){if(J.advance(),_e==J.next){J.advance();let et=!$.context&&$.canShift(incdec);J.acceptToken(et?incdec:incdecPrefix)}}else _e==question&&J.peek(1)==dot&&(J.advance(),J.advance(),(J.next<48||J.next>57)&&J.acceptToken(questionDot))},{contextual:!0});function identifierChar(J,$){return J>=65&&J<=90||J>=97&&J<=122||J==95||J>=192||!$&&J>=48&&J<=57}const jsx=new ExternalTokenizer((J,$)=>{if(J.next!=lt||!$.dialectEnabled(Dialect_jsx)||(J.advance(),J.next==slash))return;let _e=0;for(;space.indexOf(J.next)>-1;)J.advance(),_e++;if(identifierChar(J.next,!0)){for(J.advance(),_e++;identifierChar(J.next,!1);)J.advance(),_e++;for(;space.indexOf(J.next)>-1;)J.advance(),_e++;if(J.next==comma)return;for(let et=0;;et++){if(et==7){if(!identifierChar(J.next,!0))return;break}if(J.next!="extends".charCodeAt(et))break;J.advance(),_e++}}J.acceptToken(JSXStartTag,-_e)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},spec_word={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},spec_LessThan={__proto__:null,"<":189},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new LocalTokenGroup("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:J=>spec_identifier[J]||-1},{term:341,get:J=>spec_word[J]||-1},{term:93,get:J=>spec_LessThan[J]||-1}],tokenPrec:15116});let rangeFrom=[],rangeTo=[];(()=>{let J="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map($=>$?parseInt($,36):1);for(let $=0,_e=0;$<J.length;$++)($%2?rangeTo:rangeFrom).push(_e=_e+J[$])})();function isExtendingChar(J){if(J<768)return!1;for(let $=0,_e=rangeFrom.length;;){let et=$+_e>>1;if(J<rangeFrom[et])_e=et;else if(J>=rangeTo[et])$=et+1;else return!0;if($==_e)return!1}}function isRegionalIndicator(J){return J>=127462&&J<=127487}const ZWJ=8205;function findClusterBreak$1(J,$,_e=!0,et=!0){return(_e?nextClusterBreak:prevClusterBreak)(J,$,et)}function nextClusterBreak(J,$,_e){if($==J.length)return $;$&&surrogateLow$1(J.charCodeAt($))&&surrogateHigh$1(J.charCodeAt($-1))&&$--;let et=codePointAt$1(J,$);for($+=codePointSize$1(et);$<J.length;){let tt=codePointAt$1(J,$);if(et==ZWJ||tt==ZWJ||_e&&isExtendingChar(tt))$+=codePointSize$1(tt),et=tt;else if(isRegionalIndicator(tt)){let nt=0,rt=$-2;for(;rt>=0&&isRegionalIndicator(codePointAt$1(J,rt));)nt++,rt-=2;if(nt%2==0)break;$+=2}else break}return $}function prevClusterBreak(J,$,_e){for(;$>0;){let et=nextClusterBreak(J,$-2,_e);if(et<$)return et;$--}return 0}function codePointAt$1(J,$){let _e=J.charCodeAt($);if(!surrogateHigh$1(_e)||$+1==J.length)return _e;let et=J.charCodeAt($+1);return surrogateLow$1(et)?(_e-55296<<10)+(et-56320)+65536:_e}function surrogateLow$1(J){return J>=56320&&J<57344}function surrogateHigh$1(J){return J>=55296&&J<56320}function codePointSize$1(J){return J<65536?1:2}let Text$1=class On{lineAt($){if($<0||$>this.length)throw new RangeError(`Invalid position ${$} in document of length ${this.length}`);return this.lineInner($,!1,1,0)}line($){if($<1||$>this.lines)throw new RangeError(`Invalid line number ${$} in ${this.lines}-line document`);return this.lineInner($,!0,1,0)}replace($,_e,et){[$,_e]=clip(this,$,_e);let tt=[];return this.decompose(0,$,tt,2),et.length&&et.decompose(0,et.length,tt,3),this.decompose(_e,this.length,tt,1),TextNode.from(tt,this.length-(_e-$)+et.length)}append($){return this.replace(this.length,this.length,$)}slice($,_e=this.length){[$,_e]=clip(this,$,_e);let et=[];return this.decompose($,_e,et,0),TextNode.from(et,_e-$)}eq($){if($==this)return!0;if($.length!=this.length||$.lines!=this.lines)return!1;let _e=this.scanIdentical($,1),et=this.length-this.scanIdentical($,-1),tt=new RawTextCursor(this),nt=new RawTextCursor($);for(let rt=_e,it=_e;;){if(tt.next(rt),nt.next(rt),rt=0,tt.lineBreak!=nt.lineBreak||tt.done!=nt.done||tt.value!=nt.value)return!1;if(it+=tt.value.length,tt.done||it>=et)return!0}}iter($=1){return new RawTextCursor(this,$)}iterRange($,_e=this.length){return new PartialTextCursor(this,$,_e)}iterLines($,_e){let et;if($==null)et=this.iter();else{_e==null&&(_e=this.lines+1);let tt=this.line($).from;et=this.iterRange(tt,Math.max(tt,_e==this.lines+1?this.length:_e<=1?0:this.line(_e-1).to))}return new LineCursor(et)}toString(){return this.sliceString(0)}toJSON(){let $=[];return this.flatten($),$}constructor(){}static of($){if($.length==0)throw new RangeError("A document must have at least one line");return $.length==1&&!$[0]?On.empty:$.length<=32?new TextLeaf($):TextNode.from(TextLeaf.split($,[]))}};class TextLeaf extends Text$1{constructor($,_e=textLength($)){super(),this.text=$,this.length=_e}get lines(){return this.text.length}get children(){return null}lineInner($,_e,et,tt){for(let nt=0;;nt++){let rt=this.text[nt],it=tt+rt.length;if((_e?et:it)>=$)return new Line(tt,it,et,rt);tt=it+1,et++}}decompose($,_e,et,tt){let nt=$<=0&&_e>=this.length?this:new TextLeaf(sliceText(this.text,$,_e),Math.min(_e,this.length)-Math.max(0,$));if(tt&1){let rt=et.pop(),it=appendText(nt.text,rt.text.slice(),0,nt.length);if(it.length<=32)et.push(new TextLeaf(it,rt.length+nt.length));else{let ot=it.length>>1;et.push(new TextLeaf(it.slice(0,ot)),new TextLeaf(it.slice(ot)))}}else et.push(nt)}replace($,_e,et){if(!(et instanceof TextLeaf))return super.replace($,_e,et);[$,_e]=clip(this,$,_e);let tt=appendText(this.text,appendText(et.text,sliceText(this.text,0,$)),_e),nt=this.length+et.length-(_e-$);return tt.length<=32?new TextLeaf(tt,nt):TextNode.from(TextLeaf.split(tt,[]),nt)}sliceString($,_e=this.length,et=`
`){[$,_e]=clip(this,$,_e);let tt="";for(let nt=0,rt=0;nt<=_e&&rt<this.text.length;rt++){let it=this.text[rt],ot=nt+it.length;nt>$&&rt&&(tt+=et),$<ot&&_e>nt&&(tt+=it.slice(Math.max(0,$-nt),_e-nt)),nt=ot+1}return tt}flatten($){for(let _e of this.text)$.push(_e)}scanIdentical(){return 0}static split($,_e){let et=[],tt=-1;for(let nt of $)et.push(nt),tt+=nt.length+1,et.length==32&&(_e.push(new TextLeaf(et,tt)),et=[],tt=-1);return tt>-1&&_e.push(new TextLeaf(et,tt)),_e}}class TextNode extends Text$1{constructor($,_e){super(),this.children=$,this.length=_e,this.lines=0;for(let et of $)this.lines+=et.lines}lineInner($,_e,et,tt){for(let nt=0;;nt++){let rt=this.children[nt],it=tt+rt.length,ot=et+rt.lines-1;if((_e?ot:it)>=$)return rt.lineInner($,_e,et,tt);tt=it+1,et=ot+1}}decompose($,_e,et,tt){for(let nt=0,rt=0;rt<=_e&&nt<this.children.length;nt++){let it=this.children[nt],ot=rt+it.length;if($<=ot&&_e>=rt){let st=tt&((rt<=$?1:0)|(ot>=_e?2:0));rt>=$&&ot<=_e&&!st?et.push(it):it.decompose($-rt,_e-rt,et,st)}rt=ot+1}}replace($,_e,et){if([$,_e]=clip(this,$,_e),et.lines<this.lines)for(let tt=0,nt=0;tt<this.children.length;tt++){let rt=this.children[tt],it=nt+rt.length;if($>=nt&&_e<=it){let ot=rt.replace($-nt,_e-nt,et),st=this.lines-rt.lines+ot.lines;if(ot.lines<st>>4&&ot.lines>st>>6){let at=this.children.slice();return at[tt]=ot,new TextNode(at,this.length-(_e-$)+et.length)}return super.replace(nt,it,ot)}nt=it+1}return super.replace($,_e,et)}sliceString($,_e=this.length,et=`
`){[$,_e]=clip(this,$,_e);let tt="";for(let nt=0,rt=0;nt<this.children.length&&rt<=_e;nt++){let it=this.children[nt],ot=rt+it.length;rt>$&&nt&&(tt+=et),$<ot&&_e>rt&&(tt+=it.sliceString($-rt,_e-rt,et)),rt=ot+1}return tt}flatten($){for(let _e of this.children)_e.flatten($)}scanIdentical($,_e){if(!($ instanceof TextNode))return 0;let et=0,[tt,nt,rt,it]=_e>0?[0,0,this.children.length,$.children.length]:[this.children.length-1,$.children.length-1,-1,-1];for(;;tt+=_e,nt+=_e){if(tt==rt||nt==it)return et;let ot=this.children[tt],st=$.children[nt];if(ot!=st)return et+ot.scanIdentical(st,_e);et+=ot.length+1}}static from($,_e=$.reduce((et,tt)=>et+tt.length+1,-1)){let et=0;for(let ft of $)et+=ft.lines;if(et<32){let ft=[];for(let dt of $)dt.flatten(ft);return new TextLeaf(ft,_e)}let tt=Math.max(32,et>>5),nt=tt<<1,rt=tt>>1,it=[],ot=0,st=-1,at=[];function ct(ft){let dt;if(ft.lines>nt&&ft instanceof TextNode)for(let pt of ft.children)ct(pt);else ft.lines>rt&&(ot>rt||!ot)?(ut(),it.push(ft)):ft instanceof TextLeaf&&ot&&(dt=at[at.length-1])instanceof TextLeaf&&ft.lines+dt.lines<=32?(ot+=ft.lines,st+=ft.length+1,at[at.length-1]=new TextLeaf(dt.text.concat(ft.text),dt.length+1+ft.length)):(ot+ft.lines>tt&&ut(),ot+=ft.lines,st+=ft.length+1,at.push(ft))}function ut(){ot!=0&&(it.push(at.length==1?at[0]:TextNode.from(at,st)),st=-1,ot=at.length=0)}for(let ft of $)ct(ft);return ut(),it.length==1?it[0]:new TextNode(it,_e)}}Text$1.empty=new TextLeaf([""],0);function textLength(J){let $=-1;for(let _e of J)$+=_e.length+1;return $}function appendText(J,$,_e=0,et=1e9){for(let tt=0,nt=0,rt=!0;nt<J.length&&tt<=et;nt++){let it=J[nt],ot=tt+it.length;ot>=_e&&(ot>et&&(it=it.slice(0,et-tt)),tt<_e&&(it=it.slice(_e-tt)),rt?($[$.length-1]+=it,rt=!1):$.push(it)),tt=ot+1}return $}function sliceText(J,$,_e){return appendText(J,[""],$,_e)}class RawTextCursor{constructor($,_e=1){this.dir=_e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[$],this.offsets=[_e>0?1:($ instanceof TextLeaf?$.text.length:$.children.length)<<1]}nextInner($,_e){for(this.done=this.lineBreak=!1;;){let et=this.nodes.length-1,tt=this.nodes[et],nt=this.offsets[et],rt=nt>>1,it=tt instanceof TextLeaf?tt.text.length:tt.children.length;if(rt==(_e>0?it:0)){if(et==0)return this.done=!0,this.value="",this;_e>0&&this.offsets[et-1]++,this.nodes.pop(),this.offsets.pop()}else if((nt&1)==(_e>0?0:1)){if(this.offsets[et]+=_e,$==0)return this.lineBreak=!0,this.value=`
`,this;$--}else if(tt instanceof TextLeaf){let ot=tt.text[rt+(_e<0?-1:0)];if(this.offsets[et]+=_e,ot.length>Math.max(0,$))return this.value=$==0?ot:_e>0?ot.slice($):ot.slice(0,ot.length-$),this;$-=ot.length}else{let ot=tt.children[rt+(_e<0?-1:0)];$>ot.length?($-=ot.length,this.offsets[et]+=_e):(_e<0&&this.offsets[et]--,this.nodes.push(ot),this.offsets.push(_e>0?1:(ot instanceof TextLeaf?ot.text.length:ot.children.length)<<1))}}}next($=0){return $<0&&(this.nextInner(-$,-this.dir),$=this.value.length),this.nextInner($,this.dir)}}class PartialTextCursor{constructor($,_e,et){this.value="",this.done=!1,this.cursor=new RawTextCursor($,_e>et?-1:1),this.pos=_e>et?$.length:0,this.from=Math.min(_e,et),this.to=Math.max(_e,et)}nextInner($,_e){if(_e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;$+=Math.max(0,_e<0?this.pos-this.to:this.from-this.pos);let et=_e<0?this.pos-this.from:this.to-this.pos;$>et&&($=et),et-=$;let{value:tt}=this.cursor.next($);return this.pos+=(tt.length+$)*_e,this.value=tt.length<=et?tt:_e<0?tt.slice(tt.length-et):tt.slice(0,et),this.done=!this.value,this}next($=0){return $<0?$=Math.max($,this.from-this.pos):$>0&&($=Math.min($,this.to-this.pos)),this.nextInner($,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor($){this.inner=$,this.afterBreak=!0,this.value="",this.done=!1}next($=0){let{done:_e,lineBreak:et,value:tt}=this.inner.next($);return _e&&this.afterBreak?(this.value="",this.afterBreak=!1):_e?(this.done=!0,this.value=""):et?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=tt,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text$1.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor($,_e,et,tt){this.from=$,this.to=_e,this.number=et,this.text=tt}get length(){return this.to-this.from}}function clip(J,$,_e){return $=Math.max(0,Math.min(J.length,$)),[$,Math.max($,Math.min(J.length,_e))]}function findClusterBreak(J,$,_e=!0,et=!0){return findClusterBreak$1(J,$,_e,et)}function surrogateLow(J){return J>=56320&&J<57344}function surrogateHigh(J){return J>=55296&&J<56320}function codePointAt(J,$){let _e=J.charCodeAt($);if(!surrogateHigh(_e)||$+1==J.length)return _e;let et=J.charCodeAt($+1);return surrogateLow(et)?(_e-55296<<10)+(et-56320)+65536:_e}function fromCodePoint(J){return J<=65535?String.fromCharCode(J):(J-=65536,String.fromCharCode((J>>10)+55296,(J&1023)+56320))}function codePointSize(J){return J<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(J){return J[J.Simple=0]="Simple",J[J.TrackDel=1]="TrackDel",J[J.TrackBefore=2]="TrackBefore",J[J.TrackAfter=3]="TrackAfter",J}(MapMode||(MapMode={}));class ChangeDesc{constructor($){this.sections=$}get length(){let $=0;for(let _e=0;_e<this.sections.length;_e+=2)$+=this.sections[_e];return $}get newLength(){let $=0;for(let _e=0;_e<this.sections.length;_e+=2){let et=this.sections[_e+1];$+=et<0?this.sections[_e]:et}return $}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps($){for(let _e=0,et=0,tt=0;_e<this.sections.length;){let nt=this.sections[_e++],rt=this.sections[_e++];rt<0?($(et,tt,nt),tt+=nt):tt+=rt,et+=nt}}iterChangedRanges($,_e=!1){iterChanges(this,$,_e)}get invertedDesc(){let $=[];for(let _e=0;_e<this.sections.length;){let et=this.sections[_e++],tt=this.sections[_e++];tt<0?$.push(et,tt):$.push(tt,et)}return new ChangeDesc($)}composeDesc($){return this.empty?$:$.empty?this:composeSets(this,$)}mapDesc($,_e=!1){return $.empty?this:mapSet(this,$,_e)}mapPos($,_e=-1,et=MapMode.Simple){let tt=0,nt=0;for(let rt=0;rt<this.sections.length;){let it=this.sections[rt++],ot=this.sections[rt++],st=tt+it;if(ot<0){if(st>$)return nt+($-tt);nt+=it}else{if(et!=MapMode.Simple&&st>=$&&(et==MapMode.TrackDel&&tt<$&&st>$||et==MapMode.TrackBefore&&tt<$||et==MapMode.TrackAfter&&st>$))return null;if(st>$||st==$&&_e<0&&!it)return $==tt||_e<0?nt:nt+ot;nt+=ot}tt=st}if($>tt)throw new RangeError(`Position ${$} is out of range for changeset of length ${tt}`);return nt}touchesRange($,_e=$){for(let et=0,tt=0;et<this.sections.length&&tt<=_e;){let nt=this.sections[et++],rt=this.sections[et++],it=tt+nt;if(rt>=0&&tt<=_e&&it>=$)return tt<$&&it>_e?"cover":!0;tt=it}return!1}toString(){let $="";for(let _e=0;_e<this.sections.length;){let et=this.sections[_e++],tt=this.sections[_e++];$+=($?" ":"")+et+(tt>=0?":"+tt:"")}return $}toJSON(){return this.sections}static fromJSON($){if(!Array.isArray($)||$.length%2||$.some(_e=>typeof _e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc($)}static create($){return new ChangeDesc($)}}class ChangeSet extends ChangeDesc{constructor($,_e){super($),this.inserted=_e}apply($){if(this.length!=$.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(_e,et,tt,nt,rt)=>$=$.replace(tt,tt+(et-_e),rt),!1),$}mapDesc($,_e=!1){return mapSet(this,$,_e,!0)}invert($){let _e=this.sections.slice(),et=[];for(let tt=0,nt=0;tt<_e.length;tt+=2){let rt=_e[tt],it=_e[tt+1];if(it>=0){_e[tt]=it,_e[tt+1]=rt;let ot=tt>>1;for(;et.length<ot;)et.push(Text$1.empty);et.push(rt?$.slice(nt,nt+rt):Text$1.empty)}nt+=rt}return new ChangeSet(_e,et)}compose($){return this.empty?$:$.empty?this:composeSets(this,$,!0)}map($,_e=!1){return $.empty?this:mapSet(this,$,_e,!0)}iterChanges($,_e=!1){iterChanges(this,$,_e)}get desc(){return ChangeDesc.create(this.sections)}filter($){let _e=[],et=[],tt=[],nt=new SectionIter(this);e:for(let rt=0,it=0;;){let ot=rt==$.length?1e9:$[rt++];for(;it<ot||it==ot&&nt.len==0;){if(nt.done)break e;let at=Math.min(nt.len,ot-it);addSection(tt,at,-1);let ct=nt.ins==-1?-1:nt.off==0?nt.ins:0;addSection(_e,at,ct),ct>0&&addInsert(et,_e,nt.text),nt.forward(at),it+=at}let st=$[rt++];for(;it<st;){if(nt.done)break e;let at=Math.min(nt.len,st-it);addSection(_e,at,-1),addSection(tt,at,nt.ins==-1?-1:nt.off==0?nt.ins:0),nt.forward(at),it+=at}}return{changes:new ChangeSet(_e,et),filtered:ChangeDesc.create(tt)}}toJSON(){let $=[];for(let _e=0;_e<this.sections.length;_e+=2){let et=this.sections[_e],tt=this.sections[_e+1];tt<0?$.push(et):tt==0?$.push([et]):$.push([et].concat(this.inserted[_e>>1].toJSON()))}return $}static of($,_e,et){let tt=[],nt=[],rt=0,it=null;function ot(at=!1){if(!at&&!tt.length)return;rt<_e&&addSection(tt,_e-rt,-1);let ct=new ChangeSet(tt,nt);it=it?it.compose(ct.map(it)):ct,tt=[],nt=[],rt=0}function st(at){if(Array.isArray(at))for(let ct of at)st(ct);else if(at instanceof ChangeSet){if(at.length!=_e)throw new RangeError(`Mismatched change set length (got ${at.length}, expected ${_e})`);ot(),it=it?it.compose(at.map(it)):at}else{let{from:ct,to:ut=ct,insert:ft}=at;if(ct>ut||ct<0||ut>_e)throw new RangeError(`Invalid change range ${ct} to ${ut} (in doc of length ${_e})`);let dt=ft?typeof ft=="string"?Text$1.of(ft.split(et||DefaultSplit)):ft:Text$1.empty,pt=dt.length;if(ct==ut&&pt==0)return;ct<rt&&ot(),ct>rt&&addSection(tt,ct-rt,-1),addSection(tt,ut-ct,pt),addInsert(nt,tt,dt),rt=ut}}return st($),ot(!it),it}static empty($){return new ChangeSet($?[$,-1]:[],[])}static fromJSON($){if(!Array.isArray($))throw new RangeError("Invalid JSON representation of ChangeSet");let _e=[],et=[];for(let tt=0;tt<$.length;tt++){let nt=$[tt];if(typeof nt=="number")_e.push(nt,-1);else{if(!Array.isArray(nt)||typeof nt[0]!="number"||nt.some((rt,it)=>it&&typeof rt!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(nt.length==1)_e.push(nt[0],0);else{for(;et.length<tt;)et.push(Text$1.empty);et[tt]=Text$1.of(nt.slice(1)),_e.push(nt[0],et[tt].length)}}}return new ChangeSet(_e,et)}static createSet($,_e){return new ChangeSet($,_e)}}function addSection(J,$,_e,et=!1){if($==0&&_e<=0)return;let tt=J.length-2;tt>=0&&_e<=0&&_e==J[tt+1]?J[tt]+=$:tt>=0&&$==0&&J[tt]==0?J[tt+1]+=_e:et?(J[tt]+=$,J[tt+1]+=_e):J.push($,_e)}function addInsert(J,$,_e){if(_e.length==0)return;let et=$.length-2>>1;if(et<J.length)J[J.length-1]=J[J.length-1].append(_e);else{for(;J.length<et;)J.push(Text$1.empty);J.push(_e)}}function iterChanges(J,$,_e){let et=J.inserted;for(let tt=0,nt=0,rt=0;rt<J.sections.length;){let it=J.sections[rt++],ot=J.sections[rt++];if(ot<0)tt+=it,nt+=it;else{let st=tt,at=nt,ct=Text$1.empty;for(;st+=it,at+=ot,ot&&et&&(ct=ct.append(et[rt-2>>1])),!(_e||rt==J.sections.length||J.sections[rt+1]<0);)it=J.sections[rt++],ot=J.sections[rt++];$(tt,st,nt,at,ct),tt=st,nt=at}}}function mapSet(J,$,_e,et=!1){let tt=[],nt=et?[]:null,rt=new SectionIter(J),it=new SectionIter($);for(let ot=-1;;){if(rt.done&&it.len||it.done&&rt.len)throw new Error("Mismatched change set lengths");if(rt.ins==-1&&it.ins==-1){let st=Math.min(rt.len,it.len);addSection(tt,st,-1),rt.forward(st),it.forward(st)}else if(it.ins>=0&&(rt.ins<0||ot==rt.i||rt.off==0&&(it.len<rt.len||it.len==rt.len&&!_e))){let st=it.len;for(addSection(tt,it.ins,-1);st;){let at=Math.min(rt.len,st);rt.ins>=0&&ot<rt.i&&rt.len<=at&&(addSection(tt,0,rt.ins),nt&&addInsert(nt,tt,rt.text),ot=rt.i),rt.forward(at),st-=at}it.next()}else if(rt.ins>=0){let st=0,at=rt.len;for(;at;)if(it.ins==-1){let ct=Math.min(at,it.len);st+=ct,at-=ct,it.forward(ct)}else if(it.ins==0&&it.len<at)at-=it.len,it.next();else break;addSection(tt,st,ot<rt.i?rt.ins:0),nt&&ot<rt.i&&addInsert(nt,tt,rt.text),ot=rt.i,rt.forward(rt.len-at)}else{if(rt.done&&it.done)return nt?ChangeSet.createSet(tt,nt):ChangeDesc.create(tt);throw new Error("Mismatched change set lengths")}}}function composeSets(J,$,_e=!1){let et=[],tt=_e?[]:null,nt=new SectionIter(J),rt=new SectionIter($);for(let it=!1;;){if(nt.done&&rt.done)return tt?ChangeSet.createSet(et,tt):ChangeDesc.create(et);if(nt.ins==0)addSection(et,nt.len,0,it),nt.next();else if(rt.len==0&&!rt.done)addSection(et,0,rt.ins,it),tt&&addInsert(tt,et,rt.text),rt.next();else{if(nt.done||rt.done)throw new Error("Mismatched change set lengths");{let ot=Math.min(nt.len2,rt.len),st=et.length;if(nt.ins==-1){let at=rt.ins==-1?-1:rt.off?0:rt.ins;addSection(et,ot,at,it),tt&&at&&addInsert(tt,et,rt.text)}else rt.ins==-1?(addSection(et,nt.off?0:nt.len,ot,it),tt&&addInsert(tt,et,nt.textBit(ot))):(addSection(et,nt.off?0:nt.len,rt.off?0:rt.ins,it),tt&&!rt.off&&addInsert(tt,et,rt.text));it=(nt.ins>ot||rt.ins>=0&&rt.len>ot)&&(it||et.length>st),nt.forward2(ot),rt.forward(ot)}}}}class SectionIter{constructor($){this.set=$,this.i=0,this.next()}next(){let{sections:$}=this.set;this.i<$.length?(this.len=$[this.i++],this.ins=$[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:$}=this.set,_e=this.i-2>>1;return _e>=$.length?Text$1.empty:$[_e]}textBit($){let{inserted:_e}=this.set,et=this.i-2>>1;return et>=_e.length&&!$?Text$1.empty:_e[et].slice(this.off,$==null?void 0:this.off+$)}forward($){$==this.len?this.next():(this.len-=$,this.off+=$)}forward2($){this.ins==-1?this.forward($):$==this.ins?this.next():(this.ins-=$,this.off+=$)}}class SelectionRange{constructor($,_e,et){this.from=$,this.to=_e,this.flags=et}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let $=this.flags&7;return $==7?null:$}get goalColumn(){let $=this.flags>>6;return $==16777215?void 0:$}map($,_e=-1){let et,tt;return this.empty?et=tt=$.mapPos(this.from,_e):(et=$.mapPos(this.from,1),tt=$.mapPos(this.to,-1)),et==this.from&&tt==this.to?this:new SelectionRange(et,tt,this.flags)}extend($,_e=$){if($<=this.anchor&&_e>=this.anchor)return EditorSelection.range($,_e);let et=Math.abs($-this.anchor)>Math.abs(_e-this.anchor)?$:_e;return EditorSelection.range(this.anchor,et)}eq($,_e=!1){return this.anchor==$.anchor&&this.head==$.head&&(!_e||!this.empty||this.assoc==$.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON($){if(!$||typeof $.anchor!="number"||typeof $.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range($.anchor,$.head)}static create($,_e,et){return new SelectionRange($,_e,et)}}class EditorSelection{constructor($,_e){this.ranges=$,this.mainIndex=_e}map($,_e=-1){return $.empty?this:EditorSelection.create(this.ranges.map(et=>et.map($,_e)),this.mainIndex)}eq($,_e=!1){if(this.ranges.length!=$.ranges.length||this.mainIndex!=$.mainIndex)return!1;for(let et=0;et<this.ranges.length;et++)if(!this.ranges[et].eq($.ranges[et],_e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange($,_e=!0){return EditorSelection.create([$].concat(this.ranges),_e?0:this.mainIndex+1)}replaceRange($,_e=this.mainIndex){let et=this.ranges.slice();return et[_e]=$,EditorSelection.create(et,this.mainIndex)}toJSON(){return{ranges:this.ranges.map($=>$.toJSON()),main:this.mainIndex}}static fromJSON($){if(!$||!Array.isArray($.ranges)||typeof $.main!="number"||$.main>=$.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection($.ranges.map(_e=>SelectionRange.fromJSON(_e)),$.main)}static single($,_e=$){return new EditorSelection([EditorSelection.range($,_e)],0)}static create($,_e=0){if($.length==0)throw new RangeError("A selection needs at least one range");for(let et=0,tt=0;tt<$.length;tt++){let nt=$[tt];if(nt.empty?nt.from<=et:nt.from<et)return EditorSelection.normalized($.slice(),_e);et=nt.to}return new EditorSelection($,_e)}static cursor($,_e=0,et,tt){return SelectionRange.create($,$,(_e==0?0:_e<0?8:16)|(et==null?7:Math.min(6,et))|(tt??16777215)<<6)}static range($,_e,et,tt){let nt=(et??16777215)<<6|(tt==null?7:Math.min(6,tt));return _e<$?SelectionRange.create(_e,$,48|nt):SelectionRange.create($,_e,(_e>$?8:0)|nt)}static normalized($,_e=0){let et=$[_e];$.sort((tt,nt)=>tt.from-nt.from),_e=$.indexOf(et);for(let tt=1;tt<$.length;tt++){let nt=$[tt],rt=$[tt-1];if(nt.empty?nt.from<=rt.to:nt.from<rt.to){let it=rt.from,ot=Math.max(nt.to,rt.to);tt<=_e&&_e--,$.splice(--tt,2,nt.anchor>nt.head?EditorSelection.range(ot,it):EditorSelection.range(it,ot))}}return new EditorSelection($,_e)}}function checkSelection(J,$){for(let _e of J.ranges)if(_e.to>$)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor($,_e,et,tt,nt){this.combine=$,this.compareInput=_e,this.compare=et,this.isStatic=tt,this.id=nextID++,this.default=$([]),this.extensions=typeof nt=="function"?nt(this):nt}get reader(){return this}static define($={}){return new Facet($.combine||(_e=>_e),$.compareInput||((_e,et)=>_e===et),$.compare||($.combine?(_e,et)=>_e===et:sameArray),!!$.static,$.enables)}of($){return new FacetProvider([],this,0,$)}compute($,_e){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider($,this,1,_e)}computeN($,_e){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider($,this,2,_e)}from($,_e){return _e||(_e=et=>et),this.compute([$],et=>_e(et.field($)))}}function sameArray(J,$){return J==$||J.length==$.length&&J.every((_e,et)=>_e===$[et])}class FacetProvider{constructor($,_e,et,tt){this.dependencies=$,this.facet=_e,this.type=et,this.value=tt,this.id=nextID++}dynamicSlot($){var _e;let et=this.value,tt=this.facet.compareInput,nt=this.id,rt=$[nt]>>1,it=this.type==2,ot=!1,st=!1,at=[];for(let ct of this.dependencies)ct=="doc"?ot=!0:ct=="selection"?st=!0:((_e=$[ct.id])!==null&&_e!==void 0?_e:1)&1||at.push($[ct.id]);return{create(ct){return ct.values[rt]=et(ct),1},update(ct,ut){if(ot&&ut.docChanged||st&&(ut.docChanged||ut.selection)||ensureAll(ct,at)){let ft=et(ct);if(it?!compareArray(ft,ct.values[rt],tt):!tt(ft,ct.values[rt]))return ct.values[rt]=ft,1}return 0},reconfigure:(ct,ut)=>{let ft,dt=ut.config.address[nt];if(dt!=null){let pt=getAddr(ut,dt);if(this.dependencies.every(vt=>vt instanceof Facet?ut.facet(vt)===ct.facet(vt):vt instanceof StateField?ut.field(vt,!1)==ct.field(vt,!1):!0)||(it?compareArray(ft=et(ct),pt,tt):tt(ft=et(ct),pt)))return ct.values[rt]=pt,0}else ft=et(ct);return ct.values[rt]=ft,1}}}}function compareArray(J,$,_e){if(J.length!=$.length)return!1;for(let et=0;et<J.length;et++)if(!_e(J[et],$[et]))return!1;return!0}function ensureAll(J,$){let _e=!1;for(let et of $)ensureAddr(J,et)&1&&(_e=!0);return _e}function dynamicFacetSlot(J,$,_e){let et=_e.map(ot=>J[ot.id]),tt=_e.map(ot=>ot.type),nt=et.filter(ot=>!(ot&1)),rt=J[$.id]>>1;function it(ot){let st=[];for(let at=0;at<et.length;at++){let ct=getAddr(ot,et[at]);if(tt[at]==2)for(let ut of ct)st.push(ut);else st.push(ct)}return $.combine(st)}return{create(ot){for(let st of et)ensureAddr(ot,st);return ot.values[rt]=it(ot),1},update(ot,st){if(!ensureAll(ot,nt))return 0;let at=it(ot);return $.compare(at,ot.values[rt])?0:(ot.values[rt]=at,1)},reconfigure(ot,st){let at=ensureAll(ot,et),ct=st.config.facets[$.id],ut=st.facet($);if(ct&&!at&&sameArray(_e,ct))return ot.values[rt]=ut,0;let ft=it(ot);return $.compare(ft,ut)?(ot.values[rt]=ut,0):(ot.values[rt]=ft,1)}}}const initField=Facet.define({static:!0});class StateField{constructor($,_e,et,tt,nt){this.id=$,this.createF=_e,this.updateF=et,this.compareF=tt,this.spec=nt,this.provides=void 0}static define($){let _e=new StateField(nextID++,$.create,$.update,$.compare||((et,tt)=>et===tt),$);return $.provide&&(_e.provides=$.provide(_e)),_e}create($){let _e=$.facet(initField).find(et=>et.field==this);return((_e==null?void 0:_e.create)||this.createF)($)}slot($){let _e=$[this.id]>>1;return{create:et=>(et.values[_e]=this.create(et),1),update:(et,tt)=>{let nt=et.values[_e],rt=this.updateF(nt,tt);return this.compareF(nt,rt)?0:(et.values[_e]=rt,1)},reconfigure:(et,tt)=>{let nt=et.facet(initField),rt=tt.facet(initField),it;return(it=nt.find(ot=>ot.field==this))&&it!=rt.find(ot=>ot.field==this)?(et.values[_e]=it.create(et),1):tt.config.address[this.id]!=null?(et.values[_e]=tt.field(this),0):(et.values[_e]=this.create(et),1)}}}init($){return[this,initField.of({field:this,create:$})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(J){return $=>new PrecExtension($,J)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor($,_e){this.inner=$,this.prec=_e}}class Compartment{of($){return new CompartmentInstance(this,$)}reconfigure($){return Compartment.reconfigure.of({compartment:this,extension:$})}get($){return $.config.compartments.get(this)}}class CompartmentInstance{constructor($,_e){this.compartment=$,this.inner=_e}}class Configuration{constructor($,_e,et,tt,nt,rt){for(this.base=$,this.compartments=_e,this.dynamicSlots=et,this.address=tt,this.staticValues=nt,this.facets=rt,this.statusTemplate=[];this.statusTemplate.length<et.length;)this.statusTemplate.push(0)}staticFacet($){let _e=this.address[$.id];return _e==null?$.default:this.staticValues[_e>>1]}static resolve($,_e,et){let tt=[],nt=Object.create(null),rt=new Map;for(let ut of flatten($,_e,rt))ut instanceof StateField?tt.push(ut):(nt[ut.facet.id]||(nt[ut.facet.id]=[])).push(ut);let it=Object.create(null),ot=[],st=[];for(let ut of tt)it[ut.id]=st.length<<1,st.push(ft=>ut.slot(ft));let at=et==null?void 0:et.config.facets;for(let ut in nt){let ft=nt[ut],dt=ft[0].facet,pt=at&&at[ut]||[];if(ft.every(vt=>vt.type==0))if(it[dt.id]=ot.length<<1|1,sameArray(pt,ft))ot.push(et.facet(dt));else{let vt=dt.combine(ft.map(mt=>mt.value));ot.push(et&&dt.compare(vt,et.facet(dt))?et.facet(dt):vt)}else{for(let vt of ft)vt.type==0?(it[vt.id]=ot.length<<1|1,ot.push(vt.value)):(it[vt.id]=st.length<<1,st.push(mt=>vt.dynamicSlot(mt)));it[dt.id]=st.length<<1,st.push(vt=>dynamicFacetSlot(vt,dt,ft))}}let ct=st.map(ut=>ut(it));return new Configuration($,rt,ct,it,ot,nt)}}function flatten(J,$,_e){let et=[[],[],[],[],[]],tt=new Map;function nt(rt,it){let ot=tt.get(rt);if(ot!=null){if(ot<=it)return;let st=et[ot].indexOf(rt);st>-1&&et[ot].splice(st,1),rt instanceof CompartmentInstance&&_e.delete(rt.compartment)}if(tt.set(rt,it),Array.isArray(rt))for(let st of rt)nt(st,it);else if(rt instanceof CompartmentInstance){if(_e.has(rt.compartment))throw new RangeError("Duplicate use of compartment in extensions");let st=$.get(rt.compartment)||rt.inner;_e.set(rt.compartment,st),nt(st,it)}else if(rt instanceof PrecExtension)nt(rt.inner,rt.prec);else if(rt instanceof StateField)et[it].push(rt),rt.provides&&nt(rt.provides,it);else if(rt instanceof FacetProvider)et[it].push(rt),rt.facet.extensions&&nt(rt.facet.extensions,Prec_.default);else{let st=rt.extension;if(!st)throw new Error(`Unrecognized extension value in extension set (${rt}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);nt(st,it)}}return nt(J,Prec_.default),et.reduce((rt,it)=>rt.concat(it))}function ensureAddr(J,$){if($&1)return 2;let _e=$>>1,et=J.status[_e];if(et==4)throw new Error("Cyclic dependency between fields and/or facets");if(et&2)return et;J.status[_e]=4;let tt=J.computeSlot(J,J.config.dynamicSlots[_e]);return J.status[_e]=2|tt}function getAddr(J,$){return $&1?J.config.staticValues[$>>1]:J.values[$>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:J=>J.some($=>$),static:!0}),lineSeparator=Facet.define({combine:J=>J.length?J[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:J=>J.length?J[0]:!1});class Annotation{constructor($,_e){this.type=$,this.value=_e}static define(){return new AnnotationType}}class AnnotationType{of($){return new Annotation(this,$)}}class StateEffectType{constructor($){this.map=$}of($){return new StateEffect(this,$)}}class StateEffect{constructor($,_e){this.type=$,this.value=_e}map($){let _e=this.type.map(this.value,$);return _e===void 0?void 0:_e==this.value?this:new StateEffect(this.type,_e)}is($){return this.type==$}static define($={}){return new StateEffectType($.map||(_e=>_e))}static mapEffects($,_e){if(!$.length)return $;let et=[];for(let tt of $){let nt=tt.map(_e);nt&&et.push(nt)}return et}}StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();class Transaction{constructor($,_e,et,tt,nt,rt){this.startState=$,this.changes=_e,this.selection=et,this.effects=tt,this.annotations=nt,this.scrollIntoView=rt,this._doc=null,this._state=null,et&&checkSelection(et,_e.newLength),nt.some(it=>it.type==Transaction.time)||(this.annotations=nt.concat(Transaction.time.of(Date.now())))}static create($,_e,et,tt,nt,rt){return new Transaction($,_e,et,tt,nt,rt)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation($){for(let _e of this.annotations)if(_e.type==$)return _e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent($){let _e=this.annotation(Transaction.userEvent);return!!(_e&&(_e==$||_e.length>$.length&&_e.slice(0,$.length)==$&&_e[$.length]=="."))}}Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();function joinRanges(J,$){let _e=[];for(let et=0,tt=0;;){let nt,rt;if(et<J.length&&(tt==$.length||$[tt]>=J[et]))nt=J[et++],rt=J[et++];else if(tt<$.length)nt=$[tt++],rt=$[tt++];else return _e;!_e.length||_e[_e.length-1]<nt?_e.push(nt,rt):_e[_e.length-1]<rt&&(_e[_e.length-1]=rt)}}function mergeTransaction(J,$,_e){var et;let tt,nt,rt;return _e?(tt=$.changes,nt=ChangeSet.empty($.changes.length),rt=J.changes.compose($.changes)):(tt=$.changes.map(J.changes),nt=J.changes.mapDesc($.changes,!0),rt=J.changes.compose(tt)),{changes:rt,selection:$.selection?$.selection.map(nt):(et=J.selection)===null||et===void 0?void 0:et.map(tt),effects:StateEffect.mapEffects(J.effects,tt).concat(StateEffect.mapEffects($.effects,nt)),annotations:J.annotations.length?J.annotations.concat($.annotations):$.annotations,scrollIntoView:J.scrollIntoView||$.scrollIntoView}}function resolveTransactionInner(J,$,_e){let et=$.selection,tt=asArray$1($.annotations);return $.userEvent&&(tt=tt.concat(Transaction.userEvent.of($.userEvent))),{changes:$.changes instanceof ChangeSet?$.changes:ChangeSet.of($.changes||[],_e,J.facet(lineSeparator)),selection:et&&(et instanceof EditorSelection?et:EditorSelection.single(et.anchor,et.head)),effects:asArray$1($.effects),annotations:tt,scrollIntoView:!!$.scrollIntoView}}function resolveTransaction(J,$,_e){let et=resolveTransactionInner(J,$.length?$[0]:{},J.doc.length);$.length&&$[0].filter===!1&&(_e=!1);for(let nt=1;nt<$.length;nt++){$[nt].filter===!1&&(_e=!1);let rt=!!$[nt].sequential;et=mergeTransaction(et,resolveTransactionInner(J,$[nt],rt?et.changes.newLength:J.doc.length),rt)}let tt=Transaction.create(J,et.changes,et.selection,et.effects,et.annotations,et.scrollIntoView);return extendTransaction(_e?filterTransaction(tt):tt)}function filterTransaction(J){let $=J.startState,_e=!0;for(let tt of $.facet(changeFilter)){let nt=tt(J);if(nt===!1){_e=!1;break}Array.isArray(nt)&&(_e=_e===!0?nt:joinRanges(_e,nt))}if(_e!==!0){let tt,nt;if(_e===!1)nt=J.changes.invertedDesc,tt=ChangeSet.empty($.doc.length);else{let rt=J.changes.filter(_e);tt=rt.changes,nt=rt.filtered.mapDesc(rt.changes).invertedDesc}J=Transaction.create($,tt,J.selection&&J.selection.map(nt),StateEffect.mapEffects(J.effects,nt),J.annotations,J.scrollIntoView)}let et=$.facet(transactionFilter);for(let tt=et.length-1;tt>=0;tt--){let nt=et[tt](J);nt instanceof Transaction?J=nt:Array.isArray(nt)&&nt.length==1&&nt[0]instanceof Transaction?J=nt[0]:J=resolveTransaction($,asArray$1(nt),!1)}return J}function extendTransaction(J){let $=J.startState,_e=$.facet(transactionExtender),et=J;for(let tt=_e.length-1;tt>=0;tt--){let nt=_e[tt](J);nt&&Object.keys(nt).length&&(et=mergeTransaction(et,resolveTransactionInner($,nt,J.changes.newLength),!0))}return et==J?J:Transaction.create($,J.changes,J.selection,et.effects,et.annotations,et.scrollIntoView)}const none$2=[];function asArray$1(J){return J==null?none$2:Array.isArray(J)?J:[J]}var CharCategory=function(J){return J[J.Word=0]="Word",J[J.Space=1]="Space",J[J.Other=2]="Other",J}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(J){}function hasWordChar(J){if(wordChar)return wordChar.test(J);for(let $=0;$<J.length;$++){let _e=J[$];if(/\w/.test(_e)||_e>""&&(_e.toUpperCase()!=_e.toLowerCase()||nonASCIISingleCaseWordChar.test(_e)))return!0}return!1}function makeCategorizer(J){return $=>{if(!/\S/.test($))return CharCategory.Space;if(hasWordChar($))return CharCategory.Word;for(let _e=0;_e<J.length;_e++)if($.indexOf(J[_e])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor($,_e,et,tt,nt,rt){this.config=$,this.doc=_e,this.selection=et,this.values=tt,this.status=$.statusTemplate.slice(),this.computeSlot=nt,rt&&(rt._state=this);for(let it=0;it<this.config.dynamicSlots.length;it++)ensureAddr(this,it<<1);this.computeSlot=null}field($,_e=!0){let et=this.config.address[$.id];if(et==null){if(_e)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,et),getAddr(this,et)}update(...$){return resolveTransaction(this,$,!0)}applyTransaction($){let _e=this.config,{base:et,compartments:tt}=_e;for(let it of $.effects)it.is(Compartment.reconfigure)?(_e&&(tt=new Map,_e.compartments.forEach((ot,st)=>tt.set(st,ot)),_e=null),tt.set(it.value.compartment,it.value.extension)):it.is(StateEffect.reconfigure)?(_e=null,et=it.value):it.is(StateEffect.appendConfig)&&(_e=null,et=asArray$1(et).concat(it.value));let nt;_e?nt=$.startState.values.slice():(_e=Configuration.resolve(et,tt,this),nt=new EditorState(_e,this.doc,this.selection,_e.dynamicSlots.map(()=>null),(ot,st)=>st.reconfigure(ot,this),null).values);let rt=$.startState.facet(allowMultipleSelections)?$.newSelection:$.newSelection.asSingle();new EditorState(_e,$.newDoc,rt,nt,(it,ot)=>ot.update(it,$),$)}replaceSelection($){return typeof $=="string"&&($=this.toText($)),this.changeByRange(_e=>({changes:{from:_e.from,to:_e.to,insert:$},range:EditorSelection.cursor(_e.from+$.length)}))}changeByRange($){let _e=this.selection,et=$(_e.ranges[0]),tt=this.changes(et.changes),nt=[et.range],rt=asArray$1(et.effects);for(let it=1;it<_e.ranges.length;it++){let ot=$(_e.ranges[it]),st=this.changes(ot.changes),at=st.map(tt);for(let ut=0;ut<it;ut++)nt[ut]=nt[ut].map(at);let ct=tt.mapDesc(st,!0);nt.push(ot.range.map(ct)),tt=tt.compose(at),rt=StateEffect.mapEffects(rt,at).concat(StateEffect.mapEffects(asArray$1(ot.effects),ct))}return{changes:tt,selection:EditorSelection.create(nt,_e.mainIndex),effects:rt}}changes($=[]){return $ instanceof ChangeSet?$:ChangeSet.of($,this.doc.length,this.facet(EditorState.lineSeparator))}toText($){return Text$1.of($.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc($=0,_e=this.doc.length){return this.doc.sliceString($,_e,this.lineBreak)}facet($){let _e=this.config.address[$.id];return _e==null?$.default:(ensureAddr(this,_e),getAddr(this,_e))}toJSON($){let _e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if($)for(let et in $){let tt=$[et];tt instanceof StateField&&this.config.address[tt.id]!=null&&(_e[et]=tt.spec.toJSON(this.field($[et]),this))}return _e}static fromJSON($,_e={},et){if(!$||typeof $.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let tt=[];if(et){for(let nt in et)if(Object.prototype.hasOwnProperty.call($,nt)){let rt=et[nt],it=$[nt];tt.push(rt.init(ot=>rt.spec.fromJSON(it,ot)))}}return EditorState.create({doc:$.doc,selection:EditorSelection.fromJSON($.selection),extensions:_e.extensions?tt.concat([_e.extensions]):tt})}static create($={}){let _e=Configuration.resolve($.extensions||[],new Map),et=$.doc instanceof Text$1?$.doc:Text$1.of(($.doc||"").split(_e.staticFacet(EditorState.lineSeparator)||DefaultSplit)),tt=$.selection?$.selection instanceof EditorSelection?$.selection:EditorSelection.single($.selection.anchor,$.selection.head):EditorSelection.single(0);return checkSelection(tt,et.length),_e.staticFacet(allowMultipleSelections)||(tt=tt.asSingle()),new EditorState(_e,et,tt,_e.dynamicSlots.map(()=>null),(nt,rt)=>rt.create(nt),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase($,..._e){for(let et of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(et,$)){$=et[$];break}return _e.length&&($=$.replace(/\$(\$|\d*)/g,(et,tt)=>{if(tt=="$")return"$";let nt=+(tt||1);return!nt||nt>_e.length?et:_e[nt-1]})),$}languageDataAt($,_e,et=-1){let tt=[];for(let nt of this.facet(languageData))for(let rt of nt(this,_e,et))Object.prototype.hasOwnProperty.call(rt,$)&&tt.push(rt[$]);return tt}charCategorizer($){return makeCategorizer(this.languageDataAt("wordChars",$).join(""))}wordAt($){let{text:_e,from:et,length:tt}=this.doc.lineAt($),nt=this.charCategorizer($),rt=$-et,it=$-et;for(;rt>0;){let ot=findClusterBreak(_e,rt,!1);if(nt(_e.slice(ot,rt))!=CharCategory.Word)break;rt=ot}for(;it<tt;){let ot=findClusterBreak(_e,it);if(nt(_e.slice(it,ot))!=CharCategory.Word)break;it=ot}return rt==it?null:EditorSelection.range(rt+et,it+et)}}EditorState.allowMultipleSelections=allowMultipleSelections,EditorState.tabSize=Facet.define({combine:J=>J.length?J[0]:4}),EditorState.lineSeparator=lineSeparator,EditorState.readOnly=readOnly,EditorState.phrases=Facet.define({compare(J,$){let _e=Object.keys(J),et=Object.keys($);return _e.length==et.length&&_e.every(tt=>J[tt]==$[tt])}}),EditorState.languageData=languageData,EditorState.changeFilter=changeFilter,EditorState.transactionFilter=transactionFilter,EditorState.transactionExtender=transactionExtender,Compartment.reconfigure=StateEffect.define();function combineConfig(J,$,_e={}){let et={};for(let tt of J)for(let nt of Object.keys(tt)){let rt=tt[nt],it=et[nt];if(it===void 0)et[nt]=rt;else if(!(it===rt||rt===void 0))if(Object.hasOwnProperty.call(_e,nt))et[nt]=_e[nt](it,rt);else throw new Error("Config merge conflict for field "+nt)}for(let tt in $)et[tt]===void 0&&(et[tt]=$[tt]);return et}class RangeValue{eq($){return this==$}range($,_e=$){return Range.create($,_e,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=MapMode.TrackDel;class Range{constructor($,_e,et){this.from=$,this.to=_e,this.value=et}static create($,_e,et){return new Range($,_e,et)}}function cmpRange(J,$){return J.from-$.from||J.value.startSide-$.value.startSide}class Chunk{constructor($,_e,et,tt){this.from=$,this.to=_e,this.value=et,this.maxPoint=tt}get length(){return this.to[this.to.length-1]}findIndex($,_e,et,tt=0){let nt=et?this.to:this.from;for(let rt=tt,it=nt.length;;){if(rt==it)return rt;let ot=rt+it>>1,st=nt[ot]-$||(et?this.value[ot].endSide:this.value[ot].startSide)-_e;if(ot==rt)return st>=0?rt:it;st>=0?it=ot:rt=ot+1}}between($,_e,et,tt){for(let nt=this.findIndex(_e,-1e9,!0),rt=this.findIndex(et,1e9,!1,nt);nt<rt;nt++)if(tt(this.from[nt]+$,this.to[nt]+$,this.value[nt])===!1)return!1}map($,_e){let et=[],tt=[],nt=[],rt=-1,it=-1;for(let ot=0;ot<this.value.length;ot++){let st=this.value[ot],at=this.from[ot]+$,ct=this.to[ot]+$,ut,ft;if(at==ct){let dt=_e.mapPos(at,st.startSide,st.mapMode);if(dt==null||(ut=ft=dt,st.startSide!=st.endSide&&(ft=_e.mapPos(at,st.endSide),ft<ut)))continue}else if(ut=_e.mapPos(at,st.startSide),ft=_e.mapPos(ct,st.endSide),ut>ft||ut==ft&&st.startSide>0&&st.endSide<=0)continue;(ft-ut||st.endSide-st.startSide)<0||(rt<0&&(rt=ut),st.point&&(it=Math.max(it,ft-ut)),et.push(st),tt.push(ut-rt),nt.push(ft-rt))}return{mapped:et.length?new Chunk(tt,nt,et,it):null,pos:rt}}}class RangeSet{constructor($,_e,et,tt){this.chunkPos=$,this.chunk=_e,this.nextLayer=et,this.maxPoint=tt}static create($,_e,et,tt){return new RangeSet($,_e,et,tt)}get length(){let $=this.chunk.length-1;return $<0?0:Math.max(this.chunkEnd($),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let $=this.nextLayer.size;for(let _e of this.chunk)$+=_e.value.length;return $}chunkEnd($){return this.chunkPos[$]+this.chunk[$].length}update($){let{add:_e=[],sort:et=!1,filterFrom:tt=0,filterTo:nt=this.length}=$,rt=$.filter;if(_e.length==0&&!rt)return this;if(et&&(_e=_e.slice().sort(cmpRange)),this.isEmpty)return _e.length?RangeSet.of(_e):this;let it=new LayerCursor(this,null,-1).goto(0),ot=0,st=[],at=new RangeSetBuilder;for(;it.value||ot<_e.length;)if(ot<_e.length&&(it.from-_e[ot].from||it.startSide-_e[ot].value.startSide)>=0){let ct=_e[ot++];at.addInner(ct.from,ct.to,ct.value)||st.push(ct)}else it.rangeIndex==1&&it.chunkIndex<this.chunk.length&&(ot==_e.length||this.chunkEnd(it.chunkIndex)<_e[ot].from)&&(!rt||tt>this.chunkEnd(it.chunkIndex)||nt<this.chunkPos[it.chunkIndex])&&at.addChunk(this.chunkPos[it.chunkIndex],this.chunk[it.chunkIndex])?it.nextChunk():((!rt||tt>it.to||nt<it.from||rt(it.from,it.to,it.value))&&(at.addInner(it.from,it.to,it.value)||st.push(Range.create(it.from,it.to,it.value))),it.next());return at.finishInner(this.nextLayer.isEmpty&&!st.length?RangeSet.empty:this.nextLayer.update({add:st,filter:rt,filterFrom:tt,filterTo:nt}))}map($){if($.empty||this.isEmpty)return this;let _e=[],et=[],tt=-1;for(let rt=0;rt<this.chunk.length;rt++){let it=this.chunkPos[rt],ot=this.chunk[rt],st=$.touchesRange(it,it+ot.length);if(st===!1)tt=Math.max(tt,ot.maxPoint),_e.push(ot),et.push($.mapPos(it));else if(st===!0){let{mapped:at,pos:ct}=ot.map(it,$);at&&(tt=Math.max(tt,at.maxPoint),_e.push(at),et.push(ct))}}let nt=this.nextLayer.map($);return _e.length==0?nt:new RangeSet(et,_e,nt||RangeSet.empty,tt)}between($,_e,et){if(!this.isEmpty){for(let tt=0;tt<this.chunk.length;tt++){let nt=this.chunkPos[tt],rt=this.chunk[tt];if(_e>=nt&&$<=nt+rt.length&&rt.between(nt,$-nt,_e-nt,et)===!1)return}this.nextLayer.between($,_e,et)}}iter($=0){return HeapCursor.from([this]).goto($)}get isEmpty(){return this.nextLayer==this}static iter($,_e=0){return HeapCursor.from($).goto(_e)}static compare($,_e,et,tt,nt=-1){let rt=$.filter(ct=>ct.maxPoint>0||!ct.isEmpty&&ct.maxPoint>=nt),it=_e.filter(ct=>ct.maxPoint>0||!ct.isEmpty&&ct.maxPoint>=nt),ot=findSharedChunks(rt,it,et),st=new SpanCursor(rt,ot,nt),at=new SpanCursor(it,ot,nt);et.iterGaps((ct,ut,ft)=>compare(st,ct,at,ut,ft,tt)),et.empty&&et.length==0&&compare(st,0,at,0,0,tt)}static eq($,_e,et=0,tt){tt==null&&(tt=999999999);let nt=$.filter(at=>!at.isEmpty&&_e.indexOf(at)<0),rt=_e.filter(at=>!at.isEmpty&&$.indexOf(at)<0);if(nt.length!=rt.length)return!1;if(!nt.length)return!0;let it=findSharedChunks(nt,rt),ot=new SpanCursor(nt,it,0).goto(et),st=new SpanCursor(rt,it,0).goto(et);for(;;){if(ot.to!=st.to||!sameValues(ot.active,st.active)||ot.point&&(!st.point||!ot.point.eq(st.point)))return!1;if(ot.to>tt)return!0;ot.next(),st.next()}}static spans($,_e,et,tt,nt=-1){let rt=new SpanCursor($,null,nt).goto(_e),it=_e,ot=rt.openStart;for(;;){let st=Math.min(rt.to,et);if(rt.point){let at=rt.activeForPoint(rt.to),ct=rt.pointFrom<_e?at.length+1:rt.point.startSide<0?at.length:Math.min(at.length,ot);tt.point(it,st,rt.point,at,ct,rt.pointRank),ot=Math.min(rt.openEnd(st),at.length)}else st>it&&(tt.span(it,st,rt.active,ot),ot=rt.openEnd(st));if(rt.to>et)return ot+(rt.point&&rt.to>et?1:0);it=rt.to,rt.next()}}static of($,_e=!1){let et=new RangeSetBuilder;for(let tt of $ instanceof Range?[$]:_e?lazySort($):$)et.add(tt.from,tt.to,tt.value);return et.finish()}static join($){if(!$.length)return RangeSet.empty;let _e=$[$.length-1];for(let et=$.length-2;et>=0;et--)for(let tt=$[et];tt!=RangeSet.empty;tt=tt.nextLayer)_e=new RangeSet(tt.chunkPos,tt.chunk,_e,Math.max(tt.maxPoint,_e.maxPoint));return _e}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(J){if(J.length>1)for(let $=J[0],_e=1;_e<J.length;_e++){let et=J[_e];if(cmpRange($,et)>0)return J.slice().sort(cmpRange);$=et}return J}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk($){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,$&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add($,_e,et){this.addInner($,_e,et)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add($,_e,et)}addInner($,_e,et){let tt=$-this.lastTo||et.startSide-this.last.endSide;if(tt<=0&&($-this.lastFrom||et.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return tt<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=$),this.from.push($-this.chunkStart),this.to.push(_e-this.chunkStart),this.last=et,this.lastFrom=$,this.lastTo=_e,this.value.push(et),et.point&&(this.maxPoint=Math.max(this.maxPoint,_e-$)),!0)}addChunk($,_e){if(($-this.lastTo||_e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,_e.maxPoint),this.chunks.push(_e),this.chunkPos.push($);let et=_e.value.length-1;return this.last=_e.value[et],this.lastFrom=_e.from[et]+$,this.lastTo=_e.to[et]+$,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner($){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return $;let _e=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner($):$,this.setMaxPoint);return this.from=null,_e}}function findSharedChunks(J,$,_e){let et=new Map;for(let nt of J)for(let rt=0;rt<nt.chunk.length;rt++)nt.chunk[rt].maxPoint<=0&&et.set(nt.chunk[rt],nt.chunkPos[rt]);let tt=new Set;for(let nt of $)for(let rt=0;rt<nt.chunk.length;rt++){let it=et.get(nt.chunk[rt]);it!=null&&(_e?_e.mapPos(it):it)==nt.chunkPos[rt]&&!(_e!=null&&_e.touchesRange(it,it+nt.chunk[rt].length))&&tt.add(nt.chunk[rt])}return tt}class LayerCursor{constructor($,_e,et,tt=0){this.layer=$,this.skip=_e,this.minPoint=et,this.rank=tt}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto($,_e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner($,_e,!1),this}gotoInner($,_e,et){for(;this.chunkIndex<this.layer.chunk.length;){let tt=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(tt)||this.layer.chunkEnd(this.chunkIndex)<$||tt.maxPoint<this.minPoint))break;this.chunkIndex++,et=!1}if(this.chunkIndex<this.layer.chunk.length){let tt=this.layer.chunk[this.chunkIndex].findIndex($-this.layer.chunkPos[this.chunkIndex],_e,!0);(!et||this.rangeIndex<tt)&&this.setRangeIndex(tt)}this.next()}forward($,_e){(this.to-$||this.endSide-_e)<0&&this.gotoInner($,_e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let $=this.layer.chunkPos[this.chunkIndex],_e=this.layer.chunk[this.chunkIndex],et=$+_e.from[this.rangeIndex];if(this.from=et,this.to=$+_e.to[this.rangeIndex],this.value=_e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex($){if($==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=$}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare($){return this.from-$.from||this.startSide-$.startSide||this.rank-$.rank||this.to-$.to||this.endSide-$.endSide}}class HeapCursor{constructor($){this.heap=$}static from($,_e=null,et=-1){let tt=[];for(let nt=0;nt<$.length;nt++)for(let rt=$[nt];!rt.isEmpty;rt=rt.nextLayer)rt.maxPoint>=et&&tt.push(new LayerCursor(rt,_e,et,nt));return tt.length==1?tt[0]:new HeapCursor(tt)}get startSide(){return this.value?this.value.startSide:0}goto($,_e=-1e9){for(let et of this.heap)et.goto($,_e);for(let et=this.heap.length>>1;et>=0;et--)heapBubble(this.heap,et);return this.next(),this}forward($,_e){for(let et of this.heap)et.forward($,_e);for(let et=this.heap.length>>1;et>=0;et--)heapBubble(this.heap,et);(this.to-$||this.value.endSide-_e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let $=this.heap[0];this.from=$.from,this.to=$.to,this.value=$.value,this.rank=$.rank,$.value&&$.next(),heapBubble(this.heap,0)}}}function heapBubble(J,$){for(let _e=J[$];;){let et=($<<1)+1;if(et>=J.length)break;let tt=J[et];if(et+1<J.length&&tt.compare(J[et+1])>=0&&(tt=J[et+1],et++),_e.compare(tt)<0)break;J[et]=_e,J[$]=tt,$=et}}class SpanCursor{constructor($,_e,et){this.minPoint=et,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from($,_e,et)}goto($,_e=-1e9){return this.cursor.goto($,_e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=$,this.endSide=_e,this.openStart=-1,this.next(),this}forward($,_e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-$||this.active[this.minActive].endSide-_e)<0;)this.removeActive(this.minActive);this.cursor.forward($,_e)}removeActive($){remove(this.active,$),remove(this.activeTo,$),remove(this.activeRank,$),this.minActive=findMinIndex(this.active,this.activeTo)}addActive($){let _e=0,{value:et,to:tt,rank:nt}=this.cursor;for(;_e<this.activeRank.length&&(nt-this.activeRank[_e]||tt-this.activeTo[_e])>0;)_e++;insert(this.active,_e,et),insert(this.activeTo,_e,tt),insert(this.activeRank,_e,nt),$&&insert($,_e,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let $=this.to,_e=this.point;this.point=null;let et=this.openStart<0?[]:null;for(;;){let tt=this.minActive;if(tt>-1&&(this.activeTo[tt]-this.cursor.from||this.active[tt].endSide-this.cursor.startSide)<0){if(this.activeTo[tt]>$){this.to=this.activeTo[tt],this.endSide=this.active[tt].endSide;break}this.removeActive(tt),et&&remove(et,tt)}else if(this.cursor.value)if(this.cursor.from>$){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let nt=this.cursor.value;if(!nt.point)this.addActive(et),this.cursor.next();else if(_e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=nt,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=nt.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(et){this.openStart=0;for(let tt=et.length-1;tt>=0&&et[tt]<$;tt--)this.openStart++}}activeForPoint($){if(!this.active.length)return this.active;let _e=[];for(let et=this.active.length-1;et>=0&&!(this.activeRank[et]<this.pointRank);et--)(this.activeTo[et]>$||this.activeTo[et]==$&&this.active[et].endSide>=this.point.endSide)&&_e.push(this.active[et]);return _e.reverse()}openEnd($){let _e=0;for(let et=this.activeTo.length-1;et>=0&&this.activeTo[et]>$;et--)_e++;return _e}}function compare(J,$,_e,et,tt,nt){J.goto($),_e.goto(et);let rt=et+tt,it=et,ot=et-$;for(;;){let st=J.to+ot-_e.to,at=st||J.endSide-_e.endSide,ct=at<0?J.to+ot:_e.to,ut=Math.min(ct,rt);if(J.point||_e.point?J.point&&_e.point&&(J.point==_e.point||J.point.eq(_e.point))&&sameValues(J.activeForPoint(J.to),_e.activeForPoint(_e.to))||nt.comparePoint(it,ut,J.point,_e.point):ut>it&&!sameValues(J.active,_e.active)&&nt.compareRange(it,ut,J.active,_e.active),ct>rt)break;(st||J.openEnd!=_e.openEnd)&&nt.boundChange&&nt.boundChange(ct),it=ct,at<=0&&J.next(),at>=0&&_e.next()}}function sameValues(J,$){if(J.length!=$.length)return!1;for(let _e=0;_e<J.length;_e++)if(J[_e]!=$[_e]&&!J[_e].eq($[_e]))return!1;return!0}function remove(J,$){for(let _e=$,et=J.length-1;_e<et;_e++)J[_e]=J[_e+1];J.pop()}function insert(J,$,_e){for(let et=J.length-1;et>=$;et--)J[et+1]=J[et];J[$]=_e}function findMinIndex(J,$){let _e=-1,et=1e9;for(let tt=0;tt<$.length;tt++)($[tt]-et||J[tt].endSide-J[_e].endSide)<0&&(_e=tt,et=$[tt]);return _e}function countColumn(J,$,_e=J.length){let et=0;for(let tt=0;tt<_e&&tt<J.length;)J.charCodeAt(tt)==9?(et+=$-et%$,tt++):(et++,tt=findClusterBreak(J,tt));return et}function findColumn(J,$,_e,et){for(let tt=0,nt=0;;){if(nt>=$)return tt;if(tt==J.length)break;nt+=J.charCodeAt(tt)==9?_e-nt%_e:1,tt=findClusterBreak(J,tt)}return et===!0?-1:J.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor($,_e){this.rules=[];let{finish:et}=_e||{};function tt(rt){return/^@/.test(rt)?[rt]:rt.split(/,\s*/)}function nt(rt,it,ot,st){let at=[],ct=/^@(\w+)\b/.exec(rt[0]),ut=ct&&ct[1]=="keyframes";if(ct&&it==null)return ot.push(rt[0]+";");for(let ft in it){let dt=it[ft];if(/&/.test(ft))nt(ft.split(/,\s*/).map(pt=>rt.map(vt=>pt.replace(/&/,vt))).reduce((pt,vt)=>pt.concat(vt)),dt,ot);else if(dt&&typeof dt=="object"){if(!ct)throw new RangeError("The value of a property ("+ft+") should be a primitive value.");nt(tt(ft),dt,at,ut)}else dt!=null&&at.push(ft.replace(/_.*/,"").replace(/[A-Z]/g,pt=>"-"+pt.toLowerCase())+": "+dt+";")}(at.length||ut)&&ot.push((et&&!ct&&!st?rt.map(et):rt).join(", ")+" {"+at.join(" ")+"}")}for(let rt in $)nt(tt(rt),$[rt],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let $=top[COUNT]||1;return top[COUNT]=$+1,C+$.toString(36)}static mount($,_e,et){let tt=$[SET],nt=et&&et.nonce;tt?nt&&tt.setNonce(nt):tt=new StyleSet($,nt),tt.mount(Array.isArray(_e)?_e:[_e],$)}}let adoptedSet=new Map;class StyleSet{constructor($,_e){let et=$.ownerDocument||$,tt=et.defaultView;if(!$.head&&$.adoptedStyleSheets&&tt.CSSStyleSheet){let nt=adoptedSet.get(et);if(nt)return $[SET]=nt;this.sheet=new tt.CSSStyleSheet,adoptedSet.set(et,this)}else this.styleTag=et.createElement("style"),_e&&this.styleTag.setAttribute("nonce",_e);this.modules=[],$[SET]=this}mount($,_e){let et=this.sheet,tt=0,nt=0;for(let rt=0;rt<$.length;rt++){let it=$[rt],ot=this.modules.indexOf(it);if(ot<nt&&ot>-1&&(this.modules.splice(ot,1),nt--,ot=-1),ot==-1){if(this.modules.splice(nt++,0,it),et)for(let st=0;st<it.rules.length;st++)et.insertRule(it.rules[st],tt++)}else{for(;nt<ot;)tt+=this.modules[nt++].rules.length;tt+=it.rules.length,nt++}}if(et)_e.adoptedStyleSheets.indexOf(this.sheet)<0&&(_e.adoptedStyleSheets=[this.sheet,..._e.adoptedStyleSheets]);else{let rt="";for(let ot=0;ot<this.modules.length;ot++)rt+=this.modules[ot].getRules()+`
`;this.styleTag.textContent=rt;let it=_e.head||_e;this.styleTag.parentNode!=it&&it.insertBefore(this.styleTag,it.firstChild)}}setNonce($){this.styleTag&&this.styleTag.getAttribute("nonce")!=$&&this.styleTag.setAttribute("nonce",$)}}for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(J){var $=mac&&J.metaKey&&J.shiftKey&&!J.ctrlKey&&!J.altKey||ie$1&&J.shiftKey&&J.key&&J.key.length==1||J.key=="Unidentified",_e=!$&&J.key||(J.shiftKey?shift:base)[J.keyCode]||J.key||"Unidentified";return _e=="Esc"&&(_e="Escape"),_e=="Del"&&(_e="Delete"),_e=="Left"&&(_e="ArrowLeft"),_e=="Up"&&(_e="ArrowUp"),_e=="Right"&&(_e="ArrowRight"),_e=="Down"&&(_e="ArrowDown"),_e}function getSelection(J){let $;return J.nodeType==11?$=J.getSelection?J:J.ownerDocument:$=J,$.getSelection()}function contains(J,$){return $?J==$||J.contains($.nodeType!=1?$.parentNode:$):!1}function hasSelection(J,$){if(!$.anchorNode)return!1;try{return contains(J,$.anchorNode)}catch{return!1}}function clientRectsFor(J){return J.nodeType==3?textRange(J,0,J.nodeValue.length).getClientRects():J.nodeType==1?J.getClientRects():[]}function isEquivalentPosition(J,$,_e,et){return _e?scanFor(J,$,_e,et,-1)||scanFor(J,$,_e,et,1):!1}function domIndex(J){for(var $=0;;$++)if(J=J.previousSibling,!J)return $}function isBlockElement(J){return J.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(J.nodeName)}function scanFor(J,$,_e,et,tt){for(;;){if(J==_e&&$==et)return!0;if($==(tt<0?0:maxOffset(J))){if(J.nodeName=="DIV")return!1;let nt=J.parentNode;if(!nt||nt.nodeType!=1)return!1;$=domIndex(J)+(tt<0?0:1),J=nt}else if(J.nodeType==1){if(J=J.childNodes[$+(tt<0?-1:0)],J.nodeType==1&&J.contentEditable=="false")return!1;$=tt<0?maxOffset(J):0}else return!1}}function maxOffset(J){return J.nodeType==3?J.nodeValue.length:J.childNodes.length}function flattenRect(J,$){let _e=$?J.left:J.right;return{left:_e,right:_e,top:J.top,bottom:J.bottom}}function windowRect(J){let $=J.visualViewport;return $?{left:0,right:$.width,top:0,bottom:$.height}:{left:0,right:J.innerWidth,top:0,bottom:J.innerHeight}}function getScale(J,$){let _e=$.width/J.offsetWidth,et=$.height/J.offsetHeight;return(_e>.995&&_e<1.005||!isFinite(_e)||Math.abs($.width-J.offsetWidth)<1)&&(_e=1),(et>.995&&et<1.005||!isFinite(et)||Math.abs($.height-J.offsetHeight)<1)&&(et=1),{scaleX:_e,scaleY:et}}function scrollRectIntoView(J,$,_e,et,tt,nt,rt,it){let ot=J.ownerDocument,st=ot.defaultView||window;for(let at=J,ct=!1;at&&!ct;)if(at.nodeType==1){let ut,ft=at==ot.body,dt=1,pt=1;if(ft)ut=windowRect(st);else{if(/^(fixed|sticky)$/.test(getComputedStyle(at).position)&&(ct=!0),at.scrollHeight<=at.clientHeight&&at.scrollWidth<=at.clientWidth){at=at.assignedSlot||at.parentNode;continue}let Ot=at.getBoundingClientRect();({scaleX:dt,scaleY:pt}=getScale(at,Ot)),ut={left:Ot.left,right:Ot.left+at.clientWidth*dt,top:Ot.top,bottom:Ot.top+at.clientHeight*pt}}let vt=0,mt=0;if(tt=="nearest")$.top<ut.top?(mt=-(ut.top-$.top+rt),_e>0&&$.bottom>ut.bottom+mt&&(mt=$.bottom-ut.bottom+mt+rt)):$.bottom>ut.bottom&&(mt=$.bottom-ut.bottom+rt,_e<0&&$.top-mt<ut.top&&(mt=-(ut.top+mt-$.top+rt)));else{let Ot=$.bottom-$.top,yt=ut.bottom-ut.top;mt=(tt=="center"&&Ot<=yt?$.top+Ot/2-yt/2:tt=="start"||tt=="center"&&_e<0?$.top-rt:$.bottom-yt+rt)-ut.top}if(et=="nearest"?$.left<ut.left?(vt=-(ut.left-$.left+nt),_e>0&&$.right>ut.right+vt&&(vt=$.right-ut.right+vt+nt)):$.right>ut.right&&(vt=$.right-ut.right+nt,_e<0&&$.left<ut.left+vt&&(vt=-(ut.left+vt-$.left+nt))):vt=(et=="center"?$.left+($.right-$.left)/2-(ut.right-ut.left)/2:et=="start"==it?$.left-nt:$.right-(ut.right-ut.left)+nt)-ut.left,vt||mt)if(ft)st.scrollBy(vt,mt);else{let Ot=0,yt=0;if(mt){let wt=at.scrollTop;at.scrollTop+=mt/pt,yt=(at.scrollTop-wt)*pt}if(vt){let wt=at.scrollLeft;at.scrollLeft+=vt/dt,Ot=(at.scrollLeft-wt)*dt}$={left:$.left-Ot,top:$.top-yt,right:$.right-Ot,bottom:$.bottom-yt},Ot&&Math.abs(Ot-vt)<1&&(et="nearest"),yt&&Math.abs(yt-mt)<1&&(tt="nearest")}if(ft)break;at=at.assignedSlot||at.parentNode}else if(at.nodeType==11)at=at.host;else break}function scrollableParents(J){let $=J.ownerDocument,_e,et;for(let tt=J.parentNode;tt&&!(tt==$.body||_e&&et);)if(tt.nodeType==1)!et&&tt.scrollHeight>tt.clientHeight&&(et=tt),!_e&&tt.scrollWidth>tt.clientWidth&&(_e=tt),tt=tt.assignedSlot||tt.parentNode;else if(tt.nodeType==11)tt=tt.host;else break;return{x:_e,y:et}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq($){return this.anchorNode==$.anchorNode&&this.anchorOffset==$.anchorOffset&&this.focusNode==$.focusNode&&this.focusOffset==$.focusOffset}setRange($){let{anchorNode:_e,focusNode:et}=$;this.set(_e,Math.min($.anchorOffset,_e?maxOffset(_e):0),et,Math.min($.focusOffset,et?maxOffset(et):0))}set($,_e,et,tt){this.anchorNode=$,this.anchorOffset=_e,this.focusNode=et,this.focusOffset=tt}}let preventScrollSupported=null;function focusPreventScroll(J){if(J.setActive)return J.setActive();if(preventScrollSupported)return J.focus(preventScrollSupported);let $=[];for(let _e=J;_e&&($.push(_e,_e.scrollTop,_e.scrollLeft),_e!=_e.ownerDocument);_e=_e.parentNode);if(J.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let _e=0;_e<$.length;){let et=$[_e++],tt=$[_e++],nt=$[_e++];et.scrollTop!=tt&&(et.scrollTop=tt),et.scrollLeft!=nt&&(et.scrollLeft=nt)}}}let scratchRange;function textRange(J,$,_e=$){let et=scratchRange||(scratchRange=document.createRange());return et.setEnd(J,_e),et.setStart(J,$),et}function dispatchKey(J,$,_e,et){let tt={key:$,code:$,keyCode:_e,which:_e,cancelable:!0};et&&({altKey:tt.altKey,ctrlKey:tt.ctrlKey,shiftKey:tt.shiftKey,metaKey:tt.metaKey}=et);let nt=new KeyboardEvent("keydown",tt);nt.synthetic=!0,J.dispatchEvent(nt);let rt=new KeyboardEvent("keyup",tt);return rt.synthetic=!0,J.dispatchEvent(rt),nt.defaultPrevented||rt.defaultPrevented}function getRoot(J){for(;J;){if(J&&(J.nodeType==9||J.nodeType==11&&J.host))return J;J=J.assignedSlot||J.parentNode}return null}function clearAttributes(J){for(;J.attributes.length;)J.removeAttributeNode(J.attributes[0])}function atElementStart(J,$){let _e=$.focusNode,et=$.focusOffset;if(!_e||$.anchorNode!=_e||$.anchorOffset!=et)return!1;for(et=Math.min(et,maxOffset(_e));;)if(et){if(_e.nodeType!=1)return!1;let tt=_e.childNodes[et-1];tt.contentEditable=="false"?et--:(_e=tt,et=maxOffset(_e))}else{if(_e==J)return!0;et=domIndex(_e),_e=_e.parentNode}}function isScrolledToBottom(J){return J.scrollTop>Math.max(1,J.scrollHeight-J.clientHeight-4)}function textNodeBefore(J,$){for(let _e=J,et=$;;){if(_e.nodeType==3&&et>0)return{node:_e,offset:et};if(_e.nodeType==1&&et>0){if(_e.contentEditable=="false")return null;_e=_e.childNodes[et-1],et=maxOffset(_e)}else if(_e.parentNode&&!isBlockElement(_e))et=domIndex(_e),_e=_e.parentNode;else return null}}function textNodeAfter(J,$){for(let _e=J,et=$;;){if(_e.nodeType==3&&et<_e.nodeValue.length)return{node:_e,offset:et};if(_e.nodeType==1&&et<_e.childNodes.length){if(_e.contentEditable=="false")return null;_e=_e.childNodes[et],et=0}else if(_e.parentNode&&!isBlockElement(_e))et=domIndex(_e)+1,_e=_e.parentNode;else return null}}class DOMPos{constructor($,_e,et=!0){this.node=$,this.offset=_e,this.precise=et}static before($,_e){return new DOMPos($.parentNode,domIndex($),_e)}static after($,_e){return new DOMPos($.parentNode,domIndex($)+1,_e)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore($){let _e=this.posAtStart;for(let et of this.children){if(et==$)return _e;_e+=et.length+et.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter($){return this.posBefore($)+$.length}sync($,_e){if(this.flags&2){let et=this.dom,tt=null,nt;for(let rt of this.children){if(rt.flags&7){if(!rt.dom&&(nt=tt?tt.nextSibling:et.firstChild)){let it=ContentView.get(nt);(!it||!it.parent&&it.canReuseDOM(rt))&&rt.reuseDOM(nt)}rt.sync($,_e),rt.flags&=-8}if(nt=tt?tt.nextSibling:et.firstChild,_e&&!_e.written&&_e.node==et&&nt!=rt.dom&&(_e.written=!0),rt.dom.parentNode==et)for(;nt&&nt!=rt.dom;)nt=rm$1(nt);else et.insertBefore(rt.dom,nt);tt=rt.dom}for(nt=tt?tt.nextSibling:et.firstChild,nt&&_e&&_e.node==et&&(_e.written=!0);nt;)nt=rm$1(nt)}else if(this.flags&1)for(let et of this.children)et.flags&7&&(et.sync($,_e),et.flags&=-8)}reuseDOM($){}localPosFromDOM($,_e){let et;if($==this.dom)et=this.dom.childNodes[_e];else{let tt=maxOffset($)==0?0:_e==0?-1:1;for(;;){let nt=$.parentNode;if(nt==this.dom)break;tt==0&&nt.firstChild!=nt.lastChild&&($==nt.firstChild?tt=-1:tt=1),$=nt}tt<0?et=$:et=$.nextSibling}if(et==this.dom.firstChild)return 0;for(;et&&!ContentView.get(et);)et=et.nextSibling;if(!et)return this.length;for(let tt=0,nt=0;;tt++){let rt=this.children[tt];if(rt.dom==et)return nt;nt+=rt.length+rt.breakAfter}}domBoundsAround($,_e,et=0){let tt=-1,nt=-1,rt=-1,it=-1;for(let ot=0,st=et,at=et;ot<this.children.length;ot++){let ct=this.children[ot],ut=st+ct.length;if(st<$&&ut>_e)return ct.domBoundsAround($,_e,st);if(ut>=$&&tt==-1&&(tt=ot,nt=st),st>_e&&ct.dom.parentNode==this.dom){rt=ot,it=at;break}at=ut,st=ut+ct.breakAfter}return{from:nt,to:it<0?et+this.length:it,startDOM:(tt?this.children[tt-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:rt<this.children.length&&rt>=0?this.children[rt].dom:null}}markDirty($=!1){this.flags|=2,this.markParentsDirty($)}markParentsDirty($){for(let _e=this.parent;_e;_e=_e.parent){if($&&(_e.flags|=2),_e.flags&1)return;_e.flags|=1,$=!1}}setParent($){this.parent!=$&&(this.parent=$,this.flags&7&&this.markParentsDirty(!0))}setDOM($){this.dom!=$&&(this.dom&&(this.dom.cmView=null),this.dom=$,$.cmView=this)}get rootView(){for(let $=this;;){let _e=$.parent;if(!_e)return $;$=_e}}replaceChildren($,_e,et=noChildren){this.markDirty();for(let tt=$;tt<_e;tt++){let nt=this.children[tt];nt.parent==this&&et.indexOf(nt)<0&&nt.destroy()}et.length<250?this.children.splice($,_e-$,...et):this.children=[].concat(this.children.slice(0,$),et,this.children.slice(_e));for(let tt=0;tt<et.length;tt++)et[tt].setParent(this)}ignoreMutation($){return!1}ignoreEvent($){return!1}childCursor($=this.length){return new ChildCursor(this.children,$,this.children.length)}childPos($,_e=1){return this.childCursor().findPos($,_e)}toString(){let $=this.constructor.name.replace("View","");return $+(this.children.length?"("+this.children.join()+")":this.length?"["+($=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get($){return $.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge($,_e,et,tt,nt,rt){return!1}become($){return!1}canReuseDOM($){return $.constructor==this.constructor&&!((this.flags|$.flags)&8)}getSide(){return 0}destroy(){for(let $ of this.children)$.parent==this&&$.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(J){let $=J.nextSibling;return J.parentNode.removeChild(J),$}class ChildCursor{constructor($,_e,et){this.children=$,this.pos=_e,this.i=et,this.off=0}findPos($,_e=1){for(;;){if($>this.pos||$==this.pos&&(_e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=$-this.pos,this;let et=this.children[--this.i];this.pos-=et.length+et.breakAfter}}}function replaceRange(J,$,_e,et,tt,nt,rt,it,ot){let{children:st}=J,at=st.length?st[$]:null,ct=nt.length?nt[nt.length-1]:null,ut=ct?ct.breakAfter:rt;if(!($==et&&at&&!rt&&!ut&&nt.length<2&&at.merge(_e,tt,nt.length?ct:null,_e==0,it,ot))){if(et<st.length){let ft=st[et];ft&&(tt<ft.length||ft.breakAfter&&(ct!=null&&ct.breakAfter))?($==et&&(ft=ft.split(tt),tt=0),!ut&&ct&&ft.merge(0,tt,ct,!0,0,ot)?nt[nt.length-1]=ft:((tt||ft.children.length&&!ft.children[0].length)&&ft.merge(0,tt,null,!1,0,ot),nt.push(ft))):ft!=null&&ft.breakAfter&&(ct?ct.breakAfter=1:rt=1),et++}for(at&&(at.breakAfter=rt,_e>0&&(!rt&&nt.length&&at.merge(_e,at.length,nt[0],!1,it,0)?at.breakAfter=nt.shift().breakAfter:(_e<at.length||at.children.length&&at.children[at.children.length-1].length==0)&&at.merge(_e,at.length,null,!1,it,0),$++));$<et&&nt.length;)if(st[et-1].become(nt[nt.length-1]))et--,nt.pop(),ot=nt.length?0:it;else if(st[$].become(nt[0]))$++,nt.shift(),it=nt.length?0:ot;else break;!nt.length&&$&&et<st.length&&!st[$-1].breakAfter&&st[et].merge(0,0,st[$-1],!1,it,ot)&&$--,($<et||nt.length)&&J.replaceChildren($,et,nt)}}function mergeChildrenInto(J,$,_e,et,tt,nt){let rt=J.childCursor(),{i:it,off:ot}=rt.findPos(_e,1),{i:st,off:at}=rt.findPos($,-1),ct=$-_e;for(let ut of et)ct+=ut.length;J.length+=ct,replaceRange(J,st,at,it,ot,et,0,tt,nt)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor($){super(),this.text=$}get length(){return this.text.length}createDOM($){this.setDOM($||document.createTextNode(this.text))}sync($,_e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(_e&&_e.node==this.dom&&(_e.written=!0),this.dom.nodeValue=this.text)}reuseDOM($){$.nodeType==3&&this.createDOM($)}merge($,_e,et){return this.flags&8||et&&(!(et instanceof TextView)||this.length-(_e-$)+et.length>MaxJoinLen||et.flags&8)?!1:(this.text=this.text.slice(0,$)+(et?et.text:"")+this.text.slice(_e),this.markDirty(),!0)}split($){let _e=new TextView(this.text.slice($));return this.text=this.text.slice(0,$),this.markDirty(),_e.flags|=this.flags&8,_e}localPosFromDOM($,_e){return $==this.dom?_e:_e?this.text.length:0}domAtPos($){return new DOMPos(this.dom,$)}domBoundsAround($,_e,et){return{from:et,to:et+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt($,_e){return textCoords(this.dom,$,_e)}}class MarkView extends ContentView{constructor($,_e=[],et=0){super(),this.mark=$,this.children=_e,this.length=et;for(let tt of _e)tt.setParent(this)}setAttrs($){if(clearAttributes($),this.mark.class&&($.className=this.mark.class),this.mark.attrs)for(let _e in this.mark.attrs)$.setAttribute(_e,this.mark.attrs[_e]);return $}canReuseDOM($){return super.canReuseDOM($)&&!((this.flags|$.flags)&8)}reuseDOM($){$.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM($),this.flags|=6)}sync($,_e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync($,_e)}merge($,_e,et,tt,nt,rt){return et&&(!(et instanceof MarkView&&et.mark.eq(this.mark))||$&&nt<=0||_e<this.length&&rt<=0)?!1:(mergeChildrenInto(this,$,_e,et?et.children.slice():[],nt-1,rt-1),this.markDirty(),!0)}split($){let _e=[],et=0,tt=-1,nt=0;for(let it of this.children){let ot=et+it.length;ot>$&&_e.push(et<$?it.split($-et):it),tt<0&&et>=$&&(tt=nt),et=ot,nt++}let rt=this.length-$;return this.length=$,tt>-1&&(this.children.length=tt,this.markDirty()),new MarkView(this.mark,_e,rt)}domAtPos($){return inlineDOMAtPos(this,$)}coordsAt($,_e){return coordsInChildren(this,$,_e)}}function textCoords(J,$,_e){let et=J.nodeValue.length;$>et&&($=et);let tt=$,nt=$,rt=0;$==0&&_e<0||$==et&&_e>=0?browser.chrome||browser.gecko||($?(tt--,rt=1):nt<et&&(nt++,rt=-1)):_e<0?tt--:nt<et&&nt++;let it=textRange(J,tt,nt).getClientRects();if(!it.length)return null;let ot=it[(rt?rt<0:_e>=0)?0:it.length-1];return browser.safari&&!rt&&ot.width==0&&(ot=Array.prototype.find.call(it,st=>st.width)||ot),rt?flattenRect(ot,rt<0):ot||null}class WidgetView extends ContentView{static create($,_e,et){return new WidgetView($,_e,et)}constructor($,_e,et){super(),this.widget=$,this.length=_e,this.side=et,this.prevWidget=null}split($){let _e=WidgetView.create(this.widget,this.length-$,this.side);return this.length-=$,_e}sync($){(!this.dom||!this.widget.updateDOM(this.dom,$))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM($)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge($,_e,et,tt,nt,rt){return et&&(!(et instanceof WidgetView)||!this.widget.compare(et.widget)||$>0&&nt<=0||_e<this.length&&rt<=0)?!1:(this.length=$+(et?et.length:0)+(this.length-_e),!0)}become($){return $ instanceof WidgetView&&$.side==this.side&&this.widget.constructor==$.widget.constructor?(this.widget.compare($.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=$.widget,this.length=$.length,!0):!1}ignoreMutation(){return!0}ignoreEvent($){return this.widget.ignoreEvent($)}get overrideDOMText(){if(this.length==0)return Text$1.empty;let $=this;for(;$.parent;)$=$.parent;let{view:_e}=$,et=_e&&_e.state.doc,tt=this.posAtStart;return et?et.slice(tt,tt+this.length):Text$1.empty}domAtPos($){return(this.length?$==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,$==this.length)}domBoundsAround(){return null}coordsAt($,_e){let et=this.widget.coordsAt(this.dom,$,_e);if(et)return et;let tt=this.dom.getClientRects(),nt=null;if(!tt.length)return null;let rt=this.side?this.side<0:$>0;for(let it=rt?tt.length-1:0;nt=tt[it],!($>0?it==0:it==tt.length-1||nt.top<nt.bottom);it+=rt?-1:1);return flattenRect(nt,!rt)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor($){super(),this.side=$}get length(){return 0}merge(){return!1}become($){return $ instanceof WidgetBufferView&&$.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let $=document.createElement("img");$.className="cm-widgetBuffer",$.setAttribute("aria-hidden","true"),this.setDOM($)}}getSide(){return this.side}domAtPos($){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt($){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text$1.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(J,$){let _e=J.dom,{children:et}=J,tt=0;for(let nt=0;tt<et.length;tt++){let rt=et[tt],it=nt+rt.length;if(!(it==nt&&rt.getSide()<=0)){if($>nt&&$<it&&rt.dom.parentNode==_e)return rt.domAtPos($-nt);if($<=nt)break;nt=it}}for(let nt=tt;nt>0;nt--){let rt=et[nt-1];if(rt.dom.parentNode==_e)return rt.domAtPos(rt.length)}for(let nt=tt;nt<et.length;nt++){let rt=et[nt];if(rt.dom.parentNode==_e)return rt.domAtPos(0)}return new DOMPos(_e,0)}function joinInlineInto(J,$,_e){let et,{children:tt}=J;_e>0&&$ instanceof MarkView&&tt.length&&(et=tt[tt.length-1])instanceof MarkView&&et.mark.eq($.mark)?joinInlineInto(et,$.children[0],_e-1):(tt.push($),$.setParent(J)),J.length+=$.length}function coordsInChildren(J,$,_e){let et=null,tt=-1,nt=null,rt=-1;function it(st,at){for(let ct=0,ut=0;ct<st.children.length&&ut<=at;ct++){let ft=st.children[ct],dt=ut+ft.length;dt>=at&&(ft.children.length?it(ft,at-ut):(!nt||nt.isHidden&&_e>0)&&(dt>at||ut==dt&&ft.getSide()>0)?(nt=ft,rt=at-ut):(ut<at||ut==dt&&ft.getSide()<0&&!ft.isHidden)&&(et=ft,tt=at-ut)),ut=dt}}it(J,$);let ot=(_e<0?et:nt)||et||nt;return ot?ot.coordsAt(Math.max(0,ot==et?tt:rt),_e):fallbackRect(J)}function fallbackRect(J){let $=J.dom.lastChild;if(!$)return J.dom.getBoundingClientRect();let _e=clientRectsFor($);return _e[_e.length-1]||null}function combineAttrs(J,$){for(let _e in J)_e=="class"&&$.class?$.class+=" "+J.class:_e=="style"&&$.style?$.style+=";"+J.style:$[_e]=J[_e];return $}const noAttrs$1=Object.create(null);function attrsEq(J,$,_e){if(J==$)return!0;J||(J=noAttrs$1),$||($=noAttrs$1);let et=Object.keys(J),tt=Object.keys($);if(et.length-(_e&&et.indexOf(_e)>-1?1:0)!=tt.length-(_e&&tt.indexOf(_e)>-1?1:0))return!1;for(let nt of et)if(nt!=_e&&(tt.indexOf(nt)==-1||J[nt]!==$[nt]))return!1;return!0}function updateAttrs(J,$,_e){let et=!1;if($)for(let tt in $)_e&&tt in _e||(et=!0,tt=="style"?J.style.cssText="":J.removeAttribute(tt));if(_e)for(let tt in _e)$&&$[tt]==_e[tt]||(et=!0,tt=="style"?J.style.cssText=_e[tt]:J.setAttribute(tt,_e[tt]));return et}function getAttrs(J){let $=Object.create(null);for(let _e=0;_e<J.attributes.length;_e++){let et=J.attributes[_e];$[et.name]=et.value}return $}class WidgetType{eq($){return!1}updateDOM($,_e){return!1}compare($){return this==$||this.constructor==$.constructor&&this.eq($)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent($){return!0}coordsAt($,_e,et){return null}get isHidden(){return!1}get editable(){return!1}destroy($){}}var BlockType=function(J){return J[J.Text=0]="Text",J[J.WidgetBefore=1]="WidgetBefore",J[J.WidgetAfter=2]="WidgetAfter",J[J.WidgetRange=3]="WidgetRange",J}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor($,_e,et,tt){super(),this.startSide=$,this.endSide=_e,this.widget=et,this.spec=tt}get heightRelevant(){return!1}static mark($){return new MarkDecoration($)}static widget($){let _e=Math.max(-1e4,Math.min(1e4,$.side||0)),et=!!$.block;return _e+=et&&!$.inlineOrder?_e>0?3e8:-4e8:_e>0?1e8:-1e8,new PointDecoration($,_e,_e,et,$.widget||null,!1)}static replace($){let _e=!!$.block,et,tt;if($.isBlockGap)et=-5e8,tt=4e8;else{let{start:nt,end:rt}=getInclusive($,_e);et=(nt?_e?-3e8:-1:5e8)-1,tt=(rt?_e?2e8:1:-6e8)+1}return new PointDecoration($,et,tt,_e,$.widget||null,!0)}static line($){return new LineDecoration($)}static set($,_e=!1){return RangeSet.of($,_e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor($){let{start:_e,end:et}=getInclusive($);super(_e?-1:5e8,et?1:-6e8,null,$),this.tagName=$.tagName||"span",this.class=$.class||"",this.attrs=$.attributes||null}eq($){var _e,et;return this==$||$ instanceof MarkDecoration&&this.tagName==$.tagName&&(this.class||((_e=this.attrs)===null||_e===void 0?void 0:_e.class))==($.class||((et=$.attrs)===null||et===void 0?void 0:et.class))&&attrsEq(this.attrs,$.attrs,"class")}range($,_e=$){if($>=_e)throw new RangeError("Mark decorations may not be empty");return super.range($,_e)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor($){super(-2e8,-2e8,null,$)}eq($){return $ instanceof LineDecoration&&this.spec.class==$.spec.class&&attrsEq(this.spec.attributes,$.spec.attributes)}range($,_e=$){if(_e!=$)throw new RangeError("Line decoration ranges must be zero-length");return super.range($,_e)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore,LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor($,_e,et,tt,nt,rt){super(_e,et,nt,$),this.block=tt,this.isReplace=rt,this.mapMode=tt?_e<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq($){return $ instanceof PointDecoration&&widgetsEq(this.widget,$.widget)&&this.block==$.block&&this.startSide==$.startSide&&this.endSide==$.endSide}range($,_e=$){if(this.isReplace&&($>_e||$==_e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&_e!=$)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range($,_e)}}PointDecoration.prototype.point=!0;function getInclusive(J,$=!1){let{inclusiveStart:_e,inclusiveEnd:et}=J;return _e==null&&(_e=J.inclusive),et==null&&(et=J.inclusive),{start:_e??$,end:et??$}}function widgetsEq(J,$){return J==$||!!(J&&$&&J.compare($))}function addRange(J,$,_e,et=0){let tt=_e.length-1;tt>=0&&_e[tt]+et>=J?_e[tt]=Math.max(_e[tt],$):_e.push(J,$)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge($,_e,et,tt,nt,rt){if(et){if(!(et instanceof LineView))return!1;this.dom||et.transferDOM(this)}return tt&&this.setDeco(et?et.attrs:null),mergeChildrenInto(this,$,_e,et?et.children.slice():[],nt,rt),!0}split($){let _e=new LineView;if(_e.breakAfter=this.breakAfter,this.length==0)return _e;let{i:et,off:tt}=this.childPos($);tt&&(_e.append(this.children[et].split(tt),0),this.children[et].merge(tt,this.children[et].length,null,!1,0,0),et++);for(let nt=et;nt<this.children.length;nt++)_e.append(this.children[nt],0);for(;et>0&&this.children[et-1].length==0;)this.children[--et].destroy();return this.children.length=et,this.markDirty(),this.length=$,_e}transferDOM($){this.dom&&(this.markDirty(),$.setDOM(this.dom),$.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco($){attrsEq(this.attrs,$)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=$)}append($,_e){joinInlineInto(this,$,_e)}addLineDeco($){let _e=$.spec.attributes,et=$.spec.class;_e&&(this.attrs=combineAttrs(_e,this.attrs||{})),et&&(this.attrs=combineAttrs({class:et},this.attrs||{}))}domAtPos($){return inlineDOMAtPos(this,$)}reuseDOM($){$.nodeName=="DIV"&&(this.setDOM($),this.flags|=6)}sync($,_e){var et;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync($,_e);let tt=this.dom.lastChild;for(;tt&&ContentView.get(tt)instanceof MarkView;)tt=tt.lastChild;if(!tt||!this.length||tt.nodeName!="BR"&&((et=ContentView.get(tt))===null||et===void 0?void 0:et.isEditable)==!1&&(!browser.ios||!this.children.some(nt=>nt instanceof TextView))){let nt=document.createElement("BR");nt.cmIgnore=!0,this.dom.appendChild(nt)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let $=0,_e;for(let et of this.children){if(!(et instanceof TextView)||/[^ -~]/.test(et.text))return null;let tt=clientRectsFor(et.dom);if(tt.length!=1)return null;$+=tt[0].width,_e=tt[0].height}return $?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:$/this.length,textHeight:_e}:null}coordsAt($,_e){let et=coordsInChildren(this,$,_e);if(!this.children.length&&et&&this.parent){let{heightOracle:tt}=this.parent.view.viewState,nt=et.bottom-et.top;if(Math.abs(nt-tt.lineHeight)<2&&tt.textHeight<nt){let rt=(nt-tt.textHeight)/2;return{top:et.top+rt,bottom:et.bottom-rt,left:et.left,right:et.left}}}return et}become($){return $ instanceof LineView&&this.children.length==0&&$.children.length==0&&attrsEq(this.attrs,$.attrs)&&this.breakAfter==$.breakAfter}covers(){return!0}static find($,_e){for(let et=0,tt=0;et<$.children.length;et++){let nt=$.children[et],rt=tt+nt.length;if(rt>=_e){if(nt instanceof LineView)return nt;if(rt>_e)break}tt=rt+nt.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor($,_e,et){super(),this.widget=$,this.length=_e,this.deco=et,this.breakAfter=0,this.prevWidget=null}merge($,_e,et,tt,nt,rt){return et&&(!(et instanceof BlockWidgetView)||!this.widget.compare(et.widget)||$>0&&nt<=0||_e<this.length&&rt<=0)?!1:(this.length=$+(et?et.length:0)+(this.length-_e),!0)}domAtPos($){return $==0?DOMPos.before(this.dom):DOMPos.after(this.dom,$==this.length)}split($){let _e=this.length-$;this.length=$;let et=new BlockWidgetView(this.widget,_e,this.deco);return et.breakAfter=this.breakAfter,et}get children(){return noChildren}sync($){(!this.dom||!this.widget.updateDOM(this.dom,$))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM($)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text$1.empty}domBoundsAround(){return null}become($){return $ instanceof BlockWidgetView&&$.widget.constructor==this.widget.constructor?($.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=$.widget,this.length=$.length,this.deco=$.deco,this.breakAfter=$.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent($){return this.widget.ignoreEvent($)}get isEditable(){return!1}get isWidget(){return!0}coordsAt($,_e){let et=this.widget.coordsAt(this.dom,$,_e);return et||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?$==0:_e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers($){let{startSide:_e,endSide:et}=this.deco;return _e==et?!1:$<0?_e<0:et>0}}class BlockGapWidget extends WidgetType{constructor($){super(),this.height=$}toDOM(){let $=document.createElement("div");return $.className="cm-gap",this.updateDOM($),$}eq($){return $.height==this.height}updateDOM($){return $.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor($,_e,et,tt){this.doc=$,this.pos=_e,this.end=et,this.disallowBlockEffectsFor=tt,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=$.iter(),this.skip=_e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let $=this.content[this.content.length-1];return!($.breakAfter||$ instanceof BlockWidgetView&&$.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer($=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),$),$.length),this.pendingBuffer=0)}addBlockWidget($){this.flushBuffer(),this.curLine=null,this.content.push($)}finish($){this.pendingBuffer&&$<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!($&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText($,_e,et){for(;$>0;){if(this.textOff==this.text.length){let{value:nt,lineBreak:rt,done:it}=this.cursor.next(this.skip);if(this.skip=0,it)throw new Error("Ran out of text content when drawing inline views");if(rt){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,$--;continue}else this.text=nt,this.textOff=0}let tt=Math.min(this.text.length-this.textOff,$,512);this.flushBuffer(_e.slice(_e.length-et)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+tt)),_e),et),this.atCursorPos=!0,this.textOff+=tt,$-=tt,et=0}}span($,_e,et,tt){this.buildText(_e-$,et,tt),this.pos=_e,this.openStart<0&&(this.openStart=tt)}point($,_e,et,tt,nt,rt){if(this.disallowBlockEffectsFor[rt]&&et instanceof PointDecoration){if(et.block)throw new RangeError("Block decorations may not be specified via plugins");if(_e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let it=_e-$;if(et instanceof PointDecoration)if(et.block)et.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(et.widget||NullWidget.block,it,et));else{let ot=WidgetView.create(et.widget||NullWidget.inline,it,it?0:et.startSide),st=this.atCursorPos&&!ot.isEditable&&nt<=tt.length&&($<_e||et.startSide>0),at=!ot.isEditable&&($<_e||nt>tt.length||et.startSide<=0),ct=this.getLine();this.pendingBuffer==2&&!st&&!ot.isEditable&&(this.pendingBuffer=0),this.flushBuffer(tt),st&&(ct.append(wrapMarks(new WidgetBufferView(1),tt),nt),nt=tt.length+Math.max(0,nt-tt.length)),ct.append(wrapMarks(ot,tt),nt),this.atCursorPos=at,this.pendingBuffer=at?$<_e||nt>tt.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=tt.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(et);it&&(this.textOff+it<=this.text.length?this.textOff+=it:(this.skip+=it-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=_e),this.openStart<0&&(this.openStart=nt)}static build($,_e,et,tt,nt){let rt=new ContentBuilder($,_e,et,nt);return rt.openEnd=RangeSet.spans(tt,_e,et,rt),rt.openStart<0&&(rt.openStart=rt.openEnd),rt.finish(rt.openEnd),rt}}function wrapMarks(J,$){for(let _e of $)J=new MarkView(_e,[J],J.length);return J}class NullWidget extends WidgetType{constructor($){super(),this.tag=$}eq($){return $.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM($){return $.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span"),NullWidget.block=new NullWidget("div");var Direction=function(J){return J[J.LTR=0]="LTR",J[J.RTL=1]="RTL",J}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(J){let $=[];for(let _e=0;_e<J.length;_e++)$.push(1<<+J[_e]);return $}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let J of["()","[]","{}"]){let $=J.charCodeAt(0),_e=J.charCodeAt(1);Brackets[$]=_e,Brackets[_e]=-$}function charType(J){return J<=247?LowTypes[J]:1424<=J&&J<=1524?2:1536<=J&&J<=1785?ArabicTypes[J-1536]:1774<=J&&J<=2220?4:8192<=J&&J<=8204?256:64336<=J&&J<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor($,_e,et){this.from=$,this.to=_e,this.level=et}side($,_e){return this.dir==_e==$?this.to:this.from}forward($,_e){return $==(this.dir==_e)}static find($,_e,et,tt){let nt=-1;for(let rt=0;rt<$.length;rt++){let it=$[rt];if(it.from<=_e&&it.to>=_e){if(it.level==et)return rt;(nt<0||(tt!=0?tt<0?it.from<_e:it.to>_e:$[nt].level>it.level))&&(nt=rt)}}if(nt<0)throw new RangeError("Index out of range");return nt}}function isolatesEq(J,$){if(J.length!=$.length)return!1;for(let _e=0;_e<J.length;_e++){let et=J[_e],tt=$[_e];if(et.from!=tt.from||et.to!=tt.to||et.direction!=tt.direction||!isolatesEq(et.inner,tt.inner))return!1}return!0}const types=[];function computeCharTypes(J,$,_e,et,tt){for(let nt=0;nt<=et.length;nt++){let rt=nt?et[nt-1].to:$,it=nt<et.length?et[nt].from:_e,ot=nt?256:tt;for(let st=rt,at=ot,ct=ot;st<it;st++){let ut=charType(J.charCodeAt(st));ut==512?ut=at:ut==8&&ct==4&&(ut=16),types[st]=ut==4?2:ut,ut&7&&(ct=ut),at=ut}for(let st=rt,at=ot,ct=ot;st<it;st++){let ut=types[st];if(ut==128)st<it-1&&at==types[st+1]&&at&24?ut=types[st]=at:types[st]=256;else if(ut==64){let ft=st+1;for(;ft<it&&types[ft]==64;)ft++;let dt=st&&at==8||ft<_e&&types[ft]==8?ct==1?1:8:256;for(let pt=st;pt<ft;pt++)types[pt]=dt;st=ft-1}else ut==8&&ct==1&&(types[st]=1);at=ut,ut&7&&(ct=ut)}}}function processBracketPairs(J,$,_e,et,tt){let nt=tt==1?2:1;for(let rt=0,it=0,ot=0;rt<=et.length;rt++){let st=rt?et[rt-1].to:$,at=rt<et.length?et[rt].from:_e;for(let ct=st,ut,ft,dt;ct<at;ct++)if(ft=Brackets[ut=J.charCodeAt(ct)])if(ft<0){for(let pt=it-3;pt>=0;pt-=3)if(BracketStack[pt+1]==-ft){let vt=BracketStack[pt+2],mt=vt&2?tt:vt&4?vt&1?nt:tt:0;mt&&(types[ct]=types[BracketStack[pt]]=mt),it=pt;break}}else{if(BracketStack.length==189)break;BracketStack[it++]=ct,BracketStack[it++]=ut,BracketStack[it++]=ot}else if((dt=types[ct])==2||dt==1){let pt=dt==tt;ot=pt?0:1;for(let vt=it-3;vt>=0;vt-=3){let mt=BracketStack[vt+2];if(mt&2)break;if(pt)BracketStack[vt+2]|=2;else{if(mt&4)break;BracketStack[vt+2]|=4}}}}}function processNeutrals(J,$,_e,et){for(let tt=0,nt=et;tt<=_e.length;tt++){let rt=tt?_e[tt-1].to:J,it=tt<_e.length?_e[tt].from:$;for(let ot=rt;ot<it;){let st=types[ot];if(st==256){let at=ot+1;for(;;)if(at==it){if(tt==_e.length)break;at=_e[tt++].to,it=tt<_e.length?_e[tt].from:$}else if(types[at]==256)at++;else break;let ct=nt==1,ut=(at<$?types[at]:et)==1,ft=ct==ut?ct?1:2:et;for(let dt=at,pt=tt,vt=pt?_e[pt-1].to:J;dt>ot;)dt==vt&&(dt=_e[--pt].from,vt=pt?_e[pt-1].to:J),types[--dt]=ft;ot=at}else nt=st,ot++}}}function emitSpans(J,$,_e,et,tt,nt,rt){let it=et%2?2:1;if(et%2==tt%2)for(let ot=$,st=0;ot<_e;){let at=!0,ct=!1;if(st==nt.length||ot<nt[st].from){let pt=types[ot];pt!=it&&(at=!1,ct=pt==16)}let ut=!at&&it==1?[]:null,ft=at?et:et+1,dt=ot;e:for(;;)if(st<nt.length&&dt==nt[st].from){if(ct)break e;let pt=nt[st];if(!at)for(let vt=pt.to,mt=st+1;;){if(vt==_e)break e;if(mt<nt.length&&nt[mt].from==vt)vt=nt[mt++].to;else{if(types[vt]==it)break e;break}}if(st++,ut)ut.push(pt);else{pt.from>ot&&rt.push(new BidiSpan(ot,pt.from,ft));let vt=pt.direction==LTR!=!(ft%2);computeSectionOrder(J,vt?et+1:et,tt,pt.inner,pt.from,pt.to,rt),ot=pt.to}dt=pt.to}else{if(dt==_e||(at?types[dt]!=it:types[dt]==it))break;dt++}ut?emitSpans(J,ot,dt,et+1,tt,ut,rt):ot<dt&&rt.push(new BidiSpan(ot,dt,ft)),ot=dt}else for(let ot=_e,st=nt.length;ot>$;){let at=!0,ct=!1;if(!st||ot>nt[st-1].to){let pt=types[ot-1];pt!=it&&(at=!1,ct=pt==16)}let ut=!at&&it==1?[]:null,ft=at?et:et+1,dt=ot;e:for(;;)if(st&&dt==nt[st-1].to){if(ct)break e;let pt=nt[--st];if(!at)for(let vt=pt.from,mt=st;;){if(vt==$)break e;if(mt&&nt[mt-1].to==vt)vt=nt[--mt].from;else{if(types[vt-1]==it)break e;break}}if(ut)ut.push(pt);else{pt.to<ot&&rt.push(new BidiSpan(pt.to,ot,ft));let vt=pt.direction==LTR!=!(ft%2);computeSectionOrder(J,vt?et+1:et,tt,pt.inner,pt.from,pt.to,rt),ot=pt.from}dt=pt.from}else{if(dt==$||(at?types[dt-1]!=it:types[dt-1]==it))break;dt--}ut?emitSpans(J,dt,ot,et+1,tt,ut,rt):dt<ot&&rt.push(new BidiSpan(dt,ot,ft)),ot=dt}}function computeSectionOrder(J,$,_e,et,tt,nt,rt){let it=$%2?2:1;computeCharTypes(J,tt,nt,et,it),processBracketPairs(J,tt,nt,et,it),processNeutrals(tt,nt,et,it),emitSpans(J,tt,nt,$,_e,et,rt)}function computeOrder(J,$,_e){if(!J)return[new BidiSpan(0,0,$==RTL?1:0)];if($==LTR&&!_e.length&&!BidiRE.test(J))return trivialOrder(J.length);if(_e.length)for(;J.length>types.length;)types[types.length]=256;let et=[],tt=$==LTR?0:1;return computeSectionOrder(J,tt,tt,_e,0,J.length,et),et}function trivialOrder(J){return[new BidiSpan(0,J,0)]}let movedOver="";function moveVisually(J,$,_e,et,tt){var nt;let rt=et.head-J.from,it=BidiSpan.find($,rt,(nt=et.bidiLevel)!==null&&nt!==void 0?nt:-1,et.assoc),ot=$[it],st=ot.side(tt,_e);if(rt==st){let ut=it+=tt?1:-1;if(ut<0||ut>=$.length)return null;ot=$[it=ut],rt=ot.side(!tt,_e),st=ot.side(tt,_e)}let at=findClusterBreak(J.text,rt,ot.forward(tt,_e));(at<ot.from||at>ot.to)&&(at=st),movedOver=J.text.slice(Math.min(rt,at),Math.max(rt,at));let ct=it==(tt?$.length-1:0)?null:$[it+(tt?1:-1)];return ct&&at==st&&ct.level+(tt?0:1)<ot.level?EditorSelection.cursor(ct.side(!tt,_e)+J.from,ct.forward(tt,_e)?1:-1,ct.level):EditorSelection.cursor(at+J.from,ot.forward(tt,_e)?-1:1,ot.level)}function autoDirection(J,$,_e){for(let et=$;et<_e;et++){let tt=charType(J.charCodeAt(et));if(tt==1)return LTR;if(tt==2||tt==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:J=>J.some($=>$)}),nativeSelectionHidden=Facet.define({combine:J=>J.some($=>$)}),scrollHandler=Facet.define();class ScrollTarget{constructor($,_e="nearest",et="nearest",tt=5,nt=5,rt=!1){this.range=$,this.y=_e,this.x=et,this.yMargin=tt,this.xMargin=nt,this.isSnapshot=rt}map($){return $.empty?this:new ScrollTarget(this.range.map($),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip($){return this.range.to<=$.doc.length?this:new ScrollTarget(EditorSelection.cursor($.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(J,$)=>J.map($)}),setEditContextFormatting=StateEffect.define();function logException(J,$,_e){let et=J.facet(exceptionSink);et.length?et[0]($):window.onerror?window.onerror(String($),_e,void 0,void 0,$):_e?console.error(_e+":",$):console.error($)}const editable=Facet.define({combine:J=>J.length?J[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor($,_e,et,tt,nt){this.id=$,this.create=_e,this.domEventHandlers=et,this.domEventObservers=tt,this.extension=nt(this)}static define($,_e){const{eventHandlers:et,eventObservers:tt,provide:nt,decorations:rt}=_e||{};return new ViewPlugin(nextPluginID++,$,et,tt,it=>{let ot=[viewPlugin.of(it)];return rt&&ot.push(decorations.of(st=>{let at=st.plugin(it);return at?rt(at):Decoration.none})),nt&&ot.push(nt(it)),ot})}static fromClass($,_e){return ViewPlugin.define(et=>new $(et),_e)}}class PluginInstance{constructor($){this.spec=$,this.mustUpdate=null,this.value=null}update($){if(this.value){if(this.mustUpdate){let _e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(_e)}catch(et){if(logException(_e.state,et,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create($)}catch(_e){logException($.state,_e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy($){var _e;if(!((_e=this.value)===null||_e===void 0)&&_e.destroy)try{this.value.destroy()}catch(et){logException($.state,et,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(J,$){let _e=J.state.facet(bidiIsolatedRanges);if(!_e.length)return _e;let et=_e.map(nt=>nt instanceof Function?nt(J):nt),tt=[];return RangeSet.spans(et,$.from,$.to,{point(){},span(nt,rt,it,ot){let st=nt-$.from,at=rt-$.from,ct=tt;for(let ut=it.length-1;ut>=0;ut--,ot--){let ft=it[ut].spec.bidiIsolate,dt;if(ft==null&&(ft=autoDirection($.text,st,at)),ot>0&&ct.length&&(dt=ct[ct.length-1]).to==st&&dt.direction==ft)dt.to=at,ct=dt.inner;else{let pt={from:st,to:at,direction:ft,inner:[]};ct.push(pt),ct=pt.inner}}}}),tt}const scrollMargins=Facet.define();function getScrollMargins(J){let $=0,_e=0,et=0,tt=0;for(let nt of J.state.facet(scrollMargins)){let rt=nt(J);rt&&(rt.left!=null&&($=Math.max($,rt.left)),rt.right!=null&&(_e=Math.max(_e,rt.right)),rt.top!=null&&(et=Math.max(et,rt.top)),rt.bottom!=null&&(tt=Math.max(tt,rt.bottom)))}return{left:$,right:_e,top:et,bottom:tt}}const styleModule=Facet.define();class ChangedRange{constructor($,_e,et,tt){this.fromA=$,this.toA=_e,this.fromB=et,this.toB=tt}join($){return new ChangedRange(Math.min(this.fromA,$.fromA),Math.max(this.toA,$.toA),Math.min(this.fromB,$.fromB),Math.max(this.toB,$.toB))}addToSet($){let _e=$.length,et=this;for(;_e>0;_e--){let tt=$[_e-1];if(!(tt.fromA>et.toA)){if(tt.toA<et.fromA)break;et=et.join(tt),$.splice(_e-1,1)}}return $.splice(_e,0,et),$}static extendWithRanges($,_e){if(_e.length==0)return $;let et=[];for(let tt=0,nt=0,rt=0,it=0;;tt++){let ot=tt==$.length?null:$[tt],st=rt-it,at=ot?ot.fromB:1e9;for(;nt<_e.length&&_e[nt]<at;){let ct=_e[nt],ut=_e[nt+1],ft=Math.max(it,ct),dt=Math.min(at,ut);if(ft<=dt&&new ChangedRange(ft+st,dt+st,ft,dt).addToSet(et),ut>at)break;nt+=2}if(!ot)return et;new ChangedRange(ot.fromA,ot.toA,ot.fromB,ot.toB).addToSet(et),rt=ot.toA,it=ot.toB}}}class ViewUpdate{constructor($,_e,et){this.view=$,this.state=_e,this.transactions=et,this.flags=0,this.startState=$.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let nt of et)this.changes=this.changes.compose(nt.changes);let tt=[];this.changes.iterChangedRanges((nt,rt,it,ot)=>tt.push(new ChangedRange(nt,rt,it,ot))),this.changedRanges=tt}static create($,_e,et){return new ViewUpdate($,_e,et)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some($=>$.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor($){super(),this.view=$,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM($.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,$.state.doc.length)],0,null)}update($){var _e;let et=$.changedRanges;this.minWidth>0&&et.length&&(et.every(({fromA:st,toA:at})=>at<this.minWidthFrom||st>this.minWidthTo)?(this.minWidthFrom=$.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=$.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting($);let tt=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((_e=this.domChanged)===null||_e===void 0)&&_e.newSel?tt=this.domChanged.newSel.head:!touchesComposition($.changes,this.hasComposition)&&!$.selectionSet&&(tt=$.state.selection.main.head));let nt=tt>-1?findCompositionRange(this.view,$.changes,tt):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:st,to:at}=this.hasComposition;et=new ChangedRange(st,at,$.changes.mapPos(st,-1),$.changes.mapPos(at,1)).addToSet(et.slice())}this.hasComposition=nt?{from:nt.range.fromB,to:nt.range.toB}:null,(browser.ie||browser.chrome)&&!nt&&$&&$.state.doc.lines!=$.startState.doc.lines&&(this.forceSelection=!0);let rt=this.decorations,it=this.updateDeco(),ot=findChangedDeco(rt,it,$.changes);return et=ChangedRange.extendWithRanges(et,ot),!(this.flags&7)&&et.length==0?!1:(this.updateInner(et,$.startState.doc.length,nt),$.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner($,_e,et){this.view.viewState.mustMeasureContent=!0,this.updateChildren($,_e,et);let{observer:tt}=this.view;tt.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let rt=browser.chrome||browser.ios?{node:tt.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,rt),this.flags&=-8,rt&&(rt.written||tt.selectionRange.focusNode!=rt.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(rt=>rt.flags&=-9);let nt=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let rt of this.children)rt instanceof BlockWidgetView&&rt.widget instanceof BlockGapWidget&&nt.push(rt.dom);tt.updateGaps(nt)}updateChildren($,_e,et){let tt=et?et.range.addToSet($.slice()):$,nt=this.childCursor(_e);for(let rt=tt.length-1;;rt--){let it=rt>=0?tt[rt]:null;if(!it)break;let{fromA:ot,toA:st,fromB:at,toB:ct}=it,ut,ft,dt,pt;if(et&&et.range.fromB<ct&&et.range.toB>at){let wt=ContentBuilder.build(this.view.state.doc,at,et.range.fromB,this.decorations,this.dynamicDecorationMap),bt=ContentBuilder.build(this.view.state.doc,et.range.toB,ct,this.decorations,this.dynamicDecorationMap);ft=wt.breakAtStart,dt=wt.openStart,pt=bt.openEnd;let Ct=this.compositionView(et);bt.breakAtStart?Ct.breakAfter=1:bt.content.length&&Ct.merge(Ct.length,Ct.length,bt.content[0],!1,bt.openStart,0)&&(Ct.breakAfter=bt.content[0].breakAfter,bt.content.shift()),wt.content.length&&Ct.merge(0,0,wt.content[wt.content.length-1],!0,0,wt.openEnd)&&wt.content.pop(),ut=wt.content.concat(Ct).concat(bt.content)}else({content:ut,breakAtStart:ft,openStart:dt,openEnd:pt}=ContentBuilder.build(this.view.state.doc,at,ct,this.decorations,this.dynamicDecorationMap));let{i:vt,off:mt}=nt.findPos(st,1),{i:Ot,off:yt}=nt.findPos(ot,-1);replaceRange(this,Ot,yt,vt,mt,ut,ft,dt,pt)}et&&this.fixCompositionDOM(et)}updateEditContextFormatting($){this.editContextFormatting=this.editContextFormatting.map($.changes);for(let _e of $.transactions)for(let et of _e.effects)et.is(setEditContextFormatting)&&(this.editContextFormatting=et.value)}compositionView($){let _e=new TextView($.text.nodeValue);_e.flags|=8;for(let{deco:tt}of $.marks)_e=new MarkView(tt,[_e],_e.length);let et=new LineView;return et.append(_e,0),et}fixCompositionDOM($){let _e=(nt,rt)=>{rt.flags|=8|(rt.children.some(ot=>ot.flags&7)?1:0),this.markedForComposition.add(rt);let it=ContentView.get(nt);it&&it!=rt&&(it.dom=null),rt.setDOM(nt)},et=this.childPos($.range.fromB,1),tt=this.children[et.i];_e($.line,tt);for(let nt=$.marks.length-1;nt>=-1;nt--)et=tt.childPos(et.off,1),tt=tt.children[et.i],_e(nt>=0?$.marks[nt].node:$.text,tt)}updateSelection($=!1,_e=!1){($||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let et=this.view.root.activeElement,tt=et==this.dom,nt=!tt&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(et&&this.dom.contains(et));if(!(tt||_e||nt))return;let rt=this.forceSelection;this.forceSelection=!1;let it=this.view.state.selection.main,ot=this.moveToLine(this.domAtPos(it.anchor)),st=it.empty?ot:this.moveToLine(this.domAtPos(it.head));if(browser.gecko&&it.empty&&!this.hasComposition&&betweenUneditable(ot)){let ct=document.createTextNode("");this.view.observer.ignore(()=>ot.node.insertBefore(ct,ot.node.childNodes[ot.offset]||null)),ot=st=new DOMPos(ct,0),rt=!0}let at=this.view.observer.selectionRange;(rt||!at.focusNode||(!isEquivalentPosition(ot.node,ot.offset,at.anchorNode,at.anchorOffset)||!isEquivalentPosition(st.node,st.offset,at.focusNode,at.focusOffset))&&!this.suppressWidgetCursorChange(at,it))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(at.focusNode)&&inUneditable(at.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ct=getSelection(this.view.root);if(ct)if(it.empty){if(browser.gecko){let ut=nextToUneditable(ot.node,ot.offset);if(ut&&ut!=3){let ft=(ut==1?textNodeBefore:textNodeAfter)(ot.node,ot.offset);ft&&(ot=new DOMPos(ft.node,ft.offset))}}ct.collapse(ot.node,ot.offset),it.bidiLevel!=null&&ct.caretBidiLevel!==void 0&&(ct.caretBidiLevel=it.bidiLevel)}else if(ct.extend){ct.collapse(ot.node,ot.offset);try{ct.extend(st.node,st.offset)}catch{}}else{let ut=document.createRange();it.anchor>it.head&&([ot,st]=[st,ot]),ut.setEnd(st.node,st.offset),ut.setStart(ot.node,ot.offset),ct.removeAllRanges(),ct.addRange(ut)}nt&&this.view.root.activeElement==this.dom&&(this.dom.blur(),et&&et.focus())}),this.view.observer.setSelectionRange(ot,st)),this.impreciseAnchor=ot.precise?null:new DOMPos(at.anchorNode,at.anchorOffset),this.impreciseHead=st.precise?null:new DOMPos(at.focusNode,at.focusOffset)}suppressWidgetCursorChange($,_e){return this.hasComposition&&_e.empty&&isEquivalentPosition($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset)&&this.posFromDOM($.focusNode,$.focusOffset)==_e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:$}=this,_e=$.state.selection.main,et=getSelection($.root),{anchorNode:tt,anchorOffset:nt}=$.observer.selectionRange;if(!et||!_e.empty||!_e.assoc||!et.modify)return;let rt=LineView.find(this,_e.head);if(!rt)return;let it=rt.posAtStart;if(_e.head==it||_e.head==it+rt.length)return;let ot=this.coordsAt(_e.head,-1),st=this.coordsAt(_e.head,1);if(!ot||!st||ot.bottom>st.top)return;let at=this.domAtPos(_e.head+_e.assoc);et.collapse(at.node,at.offset),et.modify("move",_e.assoc<0?"forward":"backward","lineboundary"),$.observer.readSelectionRange();let ct=$.observer.selectionRange;$.docView.posFromDOM(ct.anchorNode,ct.anchorOffset)!=_e.from&&et.collapse(tt,nt)}moveToLine($){let _e=this.dom,et;if($.node!=_e)return $;for(let tt=$.offset;!et&&tt<_e.childNodes.length;tt++){let nt=ContentView.get(_e.childNodes[tt]);nt instanceof LineView&&(et=nt.domAtPos(0))}for(let tt=$.offset-1;!et&&tt>=0;tt--){let nt=ContentView.get(_e.childNodes[tt]);nt instanceof LineView&&(et=nt.domAtPos(nt.length))}return et?new DOMPos(et.node,et.offset,!0):$}nearest($){for(let _e=$;_e;){let et=ContentView.get(_e);if(et&&et.rootView==this)return et;_e=_e.parentNode}return null}posFromDOM($,_e){let et=this.nearest($);if(!et)throw new RangeError("Trying to find position for a DOM position outside of the document");return et.localPosFromDOM($,_e)+et.posAtStart}domAtPos($){let{i:_e,off:et}=this.childCursor().findPos($,-1);for(;_e<this.children.length-1;){let tt=this.children[_e];if(et<tt.length||tt instanceof LineView)break;_e++,et=0}return this.children[_e].domAtPos(et)}coordsAt($,_e){let et=null,tt=0;for(let nt=this.length,rt=this.children.length-1;rt>=0;rt--){let it=this.children[rt],ot=nt-it.breakAfter,st=ot-it.length;if(ot<$)break;if(st<=$&&(st<$||it.covers(-1))&&(ot>$||it.covers(1))&&(!et||it instanceof LineView&&!(et instanceof LineView&&_e>=0)))et=it,tt=st;else if(et&&st==$&&ot==$&&it instanceof BlockWidgetView&&Math.abs(_e)<2){if(it.deco.startSide<0)break;rt&&(et=null)}nt=st}return et?et.coordsAt($-tt,_e):null}coordsForChar($){let{i:_e,off:et}=this.childPos($,1),tt=this.children[_e];if(!(tt instanceof LineView))return null;for(;tt.children.length;){let{i:it,off:ot}=tt.childPos(et,1);for(;;it++){if(it==tt.children.length)return null;if((tt=tt.children[it]).length)break}et=ot}if(!(tt instanceof TextView))return null;let nt=findClusterBreak(tt.text,et);if(nt==et)return null;let rt=textRange(tt.dom,et,nt).getClientRects();for(let it=0;it<rt.length;it++){let ot=rt[it];if(it==rt.length-1||ot.top<ot.bottom&&ot.left<ot.right)return ot}return null}measureVisibleLineHeights($){let _e=[],{from:et,to:tt}=$,nt=this.view.contentDOM.clientWidth,rt=nt>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,it=-1,ot=this.view.textDirection==Direction.LTR;for(let st=0,at=0;at<this.children.length;at++){let ct=this.children[at],ut=st+ct.length;if(ut>tt)break;if(st>=et){let ft=ct.dom.getBoundingClientRect();if(_e.push(ft.height),rt){let dt=ct.dom.lastChild,pt=dt?clientRectsFor(dt):[];if(pt.length){let vt=pt[pt.length-1],mt=ot?vt.right-ft.left:ft.right-vt.left;mt>it&&(it=mt,this.minWidth=nt,this.minWidthFrom=st,this.minWidthTo=ut)}}}st=ut+ct.breakAfter}return _e}textDirectionAt($){let{i:_e}=this.childPos($,1);return getComputedStyle(this.children[_e].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let nt of this.children)if(nt instanceof LineView){let rt=nt.measureTextSize();if(rt)return rt}let $=document.createElement("div"),_e,et,tt;return $.className="cm-line",$.style.width="99999px",$.style.position="absolute",$.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild($);let nt=clientRectsFor($.firstChild)[0];_e=$.getBoundingClientRect().height,et=nt?nt.width/27:7,tt=nt?nt.height:_e,$.remove()}),{lineHeight:_e,charWidth:et,textHeight:tt}}childCursor($=this.length){let _e=this.children.length;return _e&&($-=this.children[--_e].length),new ChildCursor(this.children,$,_e)}computeBlockGapDeco(){let $=[],_e=this.view.viewState;for(let et=0,tt=0;;tt++){let nt=tt==_e.viewports.length?null:_e.viewports[tt],rt=nt?nt.from-1:this.length;if(rt>et){let it=(_e.lineBlockAt(rt).bottom-_e.lineBlockAt(et).top)/this.view.scaleY;$.push(Decoration.replace({widget:new BlockGapWidget(it),block:!0,inclusive:!0,isBlockGap:!0}).range(et,rt))}if(!nt)break;et=nt.to+1}return Decoration.set($)}updateDeco(){let $=1,_e=this.view.state.facet(decorations).map(nt=>(this.dynamicDecorationMap[$++]=typeof nt=="function")?nt(this.view):nt),et=!1,tt=this.view.state.facet(outerDecorations).map((nt,rt)=>{let it=typeof nt=="function";return it&&(et=!0),it?nt(this.view):nt});for(tt.length&&(this.dynamicDecorationMap[$++]=et,_e.push(RangeSet.join(tt))),this.decorations=[this.editContextFormatting,..._e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];$<this.decorations.length;)this.dynamicDecorationMap[$++]=!1;return this.decorations}scrollIntoView($){if($.isSnapshot){let st=this.view.viewState.lineBlockAt($.range.head);this.view.scrollDOM.scrollTop=st.top-$.yMargin,this.view.scrollDOM.scrollLeft=$.xMargin;return}for(let st of this.view.state.facet(scrollHandler))try{if(st(this.view,$.range,$))return!0}catch(at){logException(this.view.state,at,"scroll handler")}let{range:_e}=$,et=this.coordsAt(_e.head,_e.empty?_e.assoc:_e.head>_e.anchor?-1:1),tt;if(!et)return;!_e.empty&&(tt=this.coordsAt(_e.anchor,_e.anchor>_e.head?-1:1))&&(et={left:Math.min(et.left,tt.left),top:Math.min(et.top,tt.top),right:Math.max(et.right,tt.right),bottom:Math.max(et.bottom,tt.bottom)});let nt=getScrollMargins(this.view),rt={left:et.left-nt.left,top:et.top-nt.top,right:et.right+nt.right,bottom:et.bottom+nt.bottom},{offsetWidth:it,offsetHeight:ot}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,rt,_e.head<_e.anchor?-1:1,$.x,$.y,Math.max(Math.min($.xMargin,it),-it),Math.max(Math.min($.yMargin,ot),-ot),this.view.textDirection==Direction.LTR)}}function betweenUneditable(J){return J.node.nodeType==1&&J.node.firstChild&&(J.offset==0||J.node.childNodes[J.offset-1].contentEditable=="false")&&(J.offset==J.node.childNodes.length||J.node.childNodes[J.offset].contentEditable=="false")}function findCompositionNode(J,$){let _e=J.observer.selectionRange;if(!_e.focusNode)return null;let et=textNodeBefore(_e.focusNode,_e.focusOffset),tt=textNodeAfter(_e.focusNode,_e.focusOffset),nt=et||tt;if(tt&&et&&tt.node!=et.node){let it=ContentView.get(tt.node);if(!it||it instanceof TextView&&it.text!=tt.node.nodeValue)nt=tt;else if(J.docView.lastCompositionAfterCursor){let ot=ContentView.get(et.node);!ot||ot instanceof TextView&&ot.text!=et.node.nodeValue||(nt=tt)}}if(J.docView.lastCompositionAfterCursor=nt!=et,!nt)return null;let rt=$-nt.offset;return{from:rt,to:rt+nt.node.nodeValue.length,node:nt.node}}function findCompositionRange(J,$,_e){let et=findCompositionNode(J,_e);if(!et)return null;let{node:tt,from:nt,to:rt}=et,it=tt.nodeValue;if(/[\n\r]/.test(it)||J.state.doc.sliceString(et.from,et.to)!=it)return null;let ot=$.invertedDesc,st=new ChangedRange(ot.mapPos(nt),ot.mapPos(rt),nt,rt),at=[];for(let ct=tt.parentNode;;ct=ct.parentNode){let ut=ContentView.get(ct);if(ut instanceof MarkView)at.push({node:ct,deco:ut.mark});else{if(ut instanceof LineView||ct.nodeName=="DIV"&&ct.parentNode==J.contentDOM)return{range:st,text:tt,marks:at,line:ct};if(ct!=J.contentDOM)at.push({node:ct,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(ct),tagName:ct.tagName.toLowerCase()})});else return null}}}function nextToUneditable(J,$){return J.nodeType!=1?0:($&&J.childNodes[$-1].contentEditable=="false"?1:0)|($<J.childNodes.length&&J.childNodes[$].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange($,_e){addRange($,_e,this.changes)}comparePoint($,_e){addRange($,_e,this.changes)}boundChange($){addRange($,$,this.changes)}};function findChangedDeco(J,$,_e){let et=new DecorationComparator$1;return RangeSet.compare(J,$,_e,et),et.changes}function inUneditable(J,$){for(let _e=J;_e&&_e!=$;_e=_e.assignedSlot||_e.parentNode)if(_e.nodeType==1&&_e.contentEditable=="false")return!0;return!1}function touchesComposition(J,$){let _e=!1;return $&&J.iterChangedRanges((et,tt)=>{et<$.to&&tt>$.from&&(_e=!0)}),_e}function groupAt(J,$,_e=1){let et=J.charCategorizer($),tt=J.doc.lineAt($),nt=$-tt.from;if(tt.length==0)return EditorSelection.cursor($);nt==0?_e=1:nt==tt.length&&(_e=-1);let rt=nt,it=nt;_e<0?rt=findClusterBreak(tt.text,nt,!1):it=findClusterBreak(tt.text,nt);let ot=et(tt.text.slice(rt,it));for(;rt>0;){let st=findClusterBreak(tt.text,rt,!1);if(et(tt.text.slice(st,rt))!=ot)break;rt=st}for(;it<tt.length;){let st=findClusterBreak(tt.text,it);if(et(tt.text.slice(it,st))!=ot)break;it=st}return EditorSelection.range(rt+tt.from,it+tt.from)}function getdx(J,$){return $.left>J?$.left-J:Math.max(0,J-$.right)}function getdy(J,$){return $.top>J?$.top-J:Math.max(0,J-$.bottom)}function yOverlap(J,$){return J.top<$.bottom-1&&J.bottom>$.top+1}function upTop(J,$){return $<J.top?{top:$,left:J.left,right:J.right,bottom:J.bottom}:J}function upBot(J,$){return $>J.bottom?{top:J.top,left:J.left,right:J.right,bottom:$}:J}function domPosAtCoords(J,$,_e){let et,tt,nt,rt,it=!1,ot,st,at,ct;for(let dt=J.firstChild;dt;dt=dt.nextSibling){let pt=clientRectsFor(dt);for(let vt=0;vt<pt.length;vt++){let mt=pt[vt];tt&&yOverlap(tt,mt)&&(mt=upTop(upBot(mt,tt.bottom),tt.top));let Ot=getdx($,mt),yt=getdy(_e,mt);if(Ot==0&&yt==0)return dt.nodeType==3?domPosInText(dt,$,_e):domPosAtCoords(dt,$,_e);if(!et||rt>yt||rt==yt&&nt>Ot){et=dt,tt=mt,nt=Ot,rt=yt;let wt=yt?_e<mt.top?-1:1:Ot?$<mt.left?-1:1:0;it=!wt||(wt>0?vt<pt.length-1:vt>0)}Ot==0?_e>mt.bottom&&(!at||at.bottom<mt.bottom)?(ot=dt,at=mt):_e<mt.top&&(!ct||ct.top>mt.top)&&(st=dt,ct=mt):at&&yOverlap(at,mt)?at=upBot(at,mt.bottom):ct&&yOverlap(ct,mt)&&(ct=upTop(ct,mt.top))}}if(at&&at.bottom>=_e?(et=ot,tt=at):ct&&ct.top<=_e&&(et=st,tt=ct),!et)return{node:J,offset:0};let ut=Math.max(tt.left,Math.min(tt.right,$));if(et.nodeType==3)return domPosInText(et,ut,_e);if(it&&et.contentEditable!="false")return domPosAtCoords(et,ut,_e);let ft=Array.prototype.indexOf.call(J.childNodes,et)+($>=(tt.left+tt.right)/2?1:0);return{node:J,offset:ft}}function domPosInText(J,$,_e){let et=J.nodeValue.length,tt=-1,nt=1e9,rt=0;for(let it=0;it<et;it++){let ot=textRange(J,it,it+1).getClientRects();for(let st=0;st<ot.length;st++){let at=ot[st];if(at.top==at.bottom)continue;rt||(rt=$-at.left);let ct=(at.top>_e?at.top-_e:_e-at.bottom)-1;if(at.left-1<=$&&at.right+1>=$&&ct<nt){let ut=$>=(at.left+at.right)/2,ft=ut;if((browser.chrome||browser.gecko)&&textRange(J,it).getBoundingClientRect().left==at.right&&(ft=!ut),ct<=0)return{node:J,offset:it+(ft?1:0)};tt=it+(ft?1:0),nt=ct}}}return{node:J,offset:tt>-1?tt:rt>0?J.nodeValue.length:0}}function posAtCoords(J,$,_e,et=-1){var tt,nt;let rt=J.contentDOM.getBoundingClientRect(),it=rt.top+J.viewState.paddingTop,ot,{docHeight:st}=J.viewState,{x:at,y:ct}=$,ut=ct-it;if(ut<0)return 0;if(ut>st)return J.state.doc.length;for(let wt=J.viewState.heightOracle.textHeight/2,bt=!1;ot=J.elementAtHeight(ut),ot.type!=BlockType.Text;)for(;ut=et>0?ot.bottom+wt:ot.top-wt,!(ut>=0&&ut<=st);){if(bt)return _e?null:0;bt=!0,et=-et}ct=it+ut;let ft=ot.from;if(ft<J.viewport.from)return J.viewport.from==0?0:_e?null:posAtCoordsImprecise(J,rt,ot,at,ct);if(ft>J.viewport.to)return J.viewport.to==J.state.doc.length?J.state.doc.length:_e?null:posAtCoordsImprecise(J,rt,ot,at,ct);let dt=J.dom.ownerDocument,pt=J.root.elementFromPoint?J.root:dt,vt=pt.elementFromPoint(at,ct);vt&&!J.contentDOM.contains(vt)&&(vt=null),vt||(at=Math.max(rt.left+1,Math.min(rt.right-1,at)),vt=pt.elementFromPoint(at,ct),vt&&!J.contentDOM.contains(vt)&&(vt=null));let mt,Ot=-1;if(vt&&((tt=J.docView.nearest(vt))===null||tt===void 0?void 0:tt.isEditable)!=!1){if(dt.caretPositionFromPoint){let wt=dt.caretPositionFromPoint(at,ct);wt&&({offsetNode:mt,offset:Ot}=wt)}else if(dt.caretRangeFromPoint){let wt=dt.caretRangeFromPoint(at,ct);wt&&({startContainer:mt,startOffset:Ot}=wt,(!J.contentDOM.contains(mt)||browser.safari&&isSuspiciousSafariCaretResult(mt,Ot,at)||browser.chrome&&isSuspiciousChromeCaretResult(mt,Ot,at))&&(mt=void 0))}mt&&(Ot=Math.min(maxOffset(mt),Ot))}if(!mt||!J.docView.dom.contains(mt)){let wt=LineView.find(J.docView,ft);if(!wt)return ut>ot.top+ot.height/2?ot.to:ot.from;({node:mt,offset:Ot}=domPosAtCoords(wt.dom,at,ct))}let yt=J.docView.nearest(mt);if(!yt)return null;if(yt.isWidget&&((nt=yt.dom)===null||nt===void 0?void 0:nt.nodeType)==1){let wt=yt.dom.getBoundingClientRect();return $.y<wt.top||$.y<=wt.bottom&&$.x<=(wt.left+wt.right)/2?yt.posAtStart:yt.posAtEnd}else return yt.localPosFromDOM(mt,Ot)+yt.posAtStart}function posAtCoordsImprecise(J,$,_e,et,tt){let nt=Math.round((et-$.left)*J.defaultCharacterWidth);if(J.lineWrapping&&_e.height>J.defaultLineHeight*1.5){let it=J.viewState.heightOracle.textHeight,ot=Math.floor((tt-_e.top-(J.defaultLineHeight-it)*.5)/it);nt+=ot*J.viewState.heightOracle.lineLength}let rt=J.state.sliceDoc(_e.from,_e.to);return _e.from+findColumn(rt,nt,J.state.tabSize)}function isSuspiciousSafariCaretResult(J,$,_e){let et;if(J.nodeType!=3||$!=(et=J.nodeValue.length))return!1;for(let tt=J.nextSibling;tt;tt=tt.nextSibling)if(tt.nodeType!=1||tt.nodeName!="BR")return!1;return textRange(J,et-1,et).getBoundingClientRect().left>_e}function isSuspiciousChromeCaretResult(J,$,_e){if($!=0)return!1;for(let tt=J;;){let nt=tt.parentNode;if(!nt||nt.nodeType!=1||nt.firstChild!=tt)return!1;if(nt.classList.contains("cm-line"))break;tt=nt}let et=J.nodeType==1?J.getBoundingClientRect():textRange(J,0,Math.max(J.nodeValue.length,1)).getBoundingClientRect();return _e-et.left>5}function blockAt(J,$){let _e=J.lineBlockAt($);if(Array.isArray(_e.type)){for(let et of _e.type)if(et.to>$||et.to==$&&(et.to==_e.to||et.type==BlockType.Text))return et}return _e}function moveToLineBoundary(J,$,_e,et){let tt=blockAt(J,$.head),nt=!et||tt.type!=BlockType.Text||!(J.lineWrapping||tt.widgetLineBreaks)?null:J.coordsAtPos($.assoc<0&&$.head>tt.from?$.head-1:$.head);if(nt){let rt=J.dom.getBoundingClientRect(),it=J.textDirectionAt(tt.from),ot=J.posAtCoords({x:_e==(it==Direction.LTR)?rt.right-1:rt.left+1,y:(nt.top+nt.bottom)/2});if(ot!=null)return EditorSelection.cursor(ot,_e?-1:1)}return EditorSelection.cursor(_e?tt.to:tt.from,_e?-1:1)}function moveByChar(J,$,_e,et){let tt=J.state.doc.lineAt($.head),nt=J.bidiSpans(tt),rt=J.textDirectionAt(tt.from);for(let it=$,ot=null;;){let st=moveVisually(tt,nt,rt,it,_e),at=movedOver;if(!st){if(tt.number==(_e?J.state.doc.lines:1))return it;at=`
`,tt=J.state.doc.line(tt.number+(_e?1:-1)),nt=J.bidiSpans(tt),st=J.visualLineSide(tt,!_e)}if(ot){if(!ot(at))return it}else{if(!et)return st;ot=et(at)}it=st}}function byGroup(J,$,_e){let et=J.state.charCategorizer($),tt=et(_e);return nt=>{let rt=et(nt);return tt==CharCategory.Space&&(tt=rt),tt==rt}}function moveVertically(J,$,_e,et){let tt=$.head,nt=_e?1:-1;if(tt==(_e?J.state.doc.length:0))return EditorSelection.cursor(tt,$.assoc);let rt=$.goalColumn,it,ot=J.contentDOM.getBoundingClientRect(),st=J.coordsAtPos(tt,$.assoc||-1),at=J.documentTop;if(st)rt==null&&(rt=st.left-ot.left),it=nt<0?st.top:st.bottom;else{let ft=J.viewState.lineBlockAt(tt);rt==null&&(rt=Math.min(ot.right-ot.left,J.defaultCharacterWidth*(tt-ft.from))),it=(nt<0?ft.top:ft.bottom)+at}let ct=ot.left+rt,ut=et??J.viewState.heightOracle.textHeight>>1;for(let ft=0;;ft+=10){let dt=it+(ut+ft)*nt,pt=posAtCoords(J,{x:ct,y:dt},!1,nt);if(dt<ot.top||dt>ot.bottom||(nt<0?pt<tt:pt>tt)){let vt=J.docView.coordsForChar(pt),mt=!vt||dt<vt.top?-1:1;return EditorSelection.cursor(pt,mt,void 0,rt)}}}function skipAtomicRanges(J,$,_e){for(;;){let et=0;for(let tt of J)tt.between($-1,$+1,(nt,rt,it)=>{if($>nt&&$<rt){let ot=et||_e||($-nt<rt-$?-1:1);$=ot<0?nt:rt,et=ot}});if(!et)return $}}function skipAtoms(J,$,_e){let et=skipAtomicRanges(J.state.facet(atomicRanges).map(tt=>tt(J)),_e.from,$.head>_e.from?-1:1);return et==_e.from?_e:EditorSelection.cursor(et,et<_e.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor($,_e){this.points=$,this.text="",this.lineSeparator=_e.facet(EditorState.lineSeparator)}append($){this.text+=$}lineBreak(){this.text+=LineBreakPlaceholder}readRange($,_e){if(!$)return this;let et=$.parentNode;for(let tt=$;;){this.findPointBefore(et,tt);let nt=this.text.length;this.readNode(tt);let rt=tt.nextSibling;if(rt==_e)break;let it=ContentView.get(tt),ot=ContentView.get(rt);(it&&ot?it.breakAfter:(it?it.breakAfter:isBlockElement(tt))||isBlockElement(rt)&&(tt.nodeName!="BR"||tt.cmIgnore)&&this.text.length>nt)&&this.lineBreak(),tt=rt}return this.findPointBefore(et,_e),this}readTextNode($){let _e=$.nodeValue;for(let et of this.points)et.node==$&&(et.pos=this.text.length+Math.min(et.offset,_e.length));for(let et=0,tt=this.lineSeparator?null:/\r\n?|\n/g;;){let nt=-1,rt=1,it;if(this.lineSeparator?(nt=_e.indexOf(this.lineSeparator,et),rt=this.lineSeparator.length):(it=tt.exec(_e))&&(nt=it.index,rt=it[0].length),this.append(_e.slice(et,nt<0?_e.length:nt)),nt<0)break;if(this.lineBreak(),rt>1)for(let ot of this.points)ot.node==$&&ot.pos>this.text.length&&(ot.pos-=rt-1);et=nt+rt}}readNode($){if($.cmIgnore)return;let _e=ContentView.get($),et=_e&&_e.overrideDOMText;if(et!=null){this.findPointInside($,et.length);for(let tt=et.iter();!tt.next().done;)tt.lineBreak?this.lineBreak():this.append(tt.value)}else $.nodeType==3?this.readTextNode($):$.nodeName=="BR"?$.nextSibling&&this.lineBreak():$.nodeType==1&&this.readRange($.firstChild,null)}findPointBefore($,_e){for(let et of this.points)et.node==$&&$.childNodes[et.offset]==_e&&(et.pos=this.text.length)}findPointInside($,_e){for(let et of this.points)($.nodeType==3?et.node==$:$.contains(et.node))&&(et.pos=this.text.length+(isAtEnd($,et.node,et.offset)?_e:0))}}function isAtEnd(J,$,_e){for(;;){if(!$||_e<maxOffset($))return!1;if($==J)return!0;_e=domIndex($)+1,$=$.parentNode}}class DOMPoint{constructor($,_e){this.node=$,this.offset=_e,this.pos=-1}}class DOMChange{constructor($,_e,et,tt){this.typeOver=tt,this.bounds=null,this.text="",this.domChanged=_e>-1;let{impreciseHead:nt,impreciseAnchor:rt}=$.docView;if($.state.readOnly&&_e>-1)this.newSel=null;else if(_e>-1&&(this.bounds=$.docView.domBoundsAround(_e,et,0))){let it=nt||rt?[]:selectionPoints($),ot=new DOMReader(it,$.state);ot.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=ot.text,this.newSel=selectionFromPoints(it,this.bounds.from)}else{let it=$.observer.selectionRange,ot=nt&&nt.node==it.focusNode&&nt.offset==it.focusOffset||!contains($.contentDOM,it.focusNode)?$.state.selection.main.head:$.docView.posFromDOM(it.focusNode,it.focusOffset),st=rt&&rt.node==it.anchorNode&&rt.offset==it.anchorOffset||!contains($.contentDOM,it.anchorNode)?$.state.selection.main.anchor:$.docView.posFromDOM(it.anchorNode,it.anchorOffset),at=$.viewport;if((browser.ios||browser.chrome)&&$.state.selection.main.empty&&ot!=st&&(at.from>0||at.to<$.state.doc.length)){let ct=Math.min(ot,st),ut=Math.max(ot,st),ft=at.from-ct,dt=at.to-ut;(ft==0||ft==1||ct==0)&&(dt==0||dt==-1||ut==$.state.doc.length)&&(ot=0,st=$.state.doc.length)}this.newSel=EditorSelection.single(st,ot)}}}function applyDOMChange(J,$){let _e,{newSel:et}=$,tt=J.state.selection.main,nt=J.inputState.lastKeyTime>Date.now()-100?J.inputState.lastKeyCode:-1;if($.bounds){let{from:rt,to:it}=$.bounds,ot=tt.from,st=null;(nt===8||browser.android&&$.text.length<it-rt)&&(ot=tt.to,st="end");let at=findDiff(J.state.doc.sliceString(rt,it,LineBreakPlaceholder),$.text,ot-rt,st);at&&(browser.chrome&&nt==13&&at.toB==at.from+2&&$.text.slice(at.from,at.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&at.toB--,_e={from:rt+at.from,to:rt+at.toA,insert:Text$1.of($.text.slice(at.from,at.toB).split(LineBreakPlaceholder))})}else et&&(!J.hasFocus&&J.state.facet(editable)||et.main.eq(tt))&&(et=null);if(!_e&&!et)return!1;if(!_e&&$.typeOver&&!tt.empty&&et&&et.main.empty?_e={from:tt.from,to:tt.to,insert:J.state.doc.slice(tt.from,tt.to)}:(browser.mac||browser.android)&&_e&&_e.from==_e.to&&_e.from==tt.head-1&&/^\. ?$/.test(_e.insert.toString())&&J.contentDOM.getAttribute("autocorrect")=="off"?(et&&_e.insert.length==2&&(et=EditorSelection.single(et.main.anchor-1,et.main.head-1)),_e={from:_e.from,to:_e.to,insert:Text$1.of([_e.insert.toString().replace("."," ")])}):_e&&_e.from>=tt.from&&_e.to<=tt.to&&(_e.from!=tt.from||_e.to!=tt.to)&&tt.to-tt.from-(_e.to-_e.from)<=4?_e={from:tt.from,to:tt.to,insert:J.state.doc.slice(tt.from,_e.from).append(_e.insert).append(J.state.doc.slice(_e.to,tt.to))}:browser.chrome&&_e&&_e.from==_e.to&&_e.from==tt.head&&_e.insert.toString()==`
 `&&J.lineWrapping&&(et&&(et=EditorSelection.single(et.main.anchor-1,et.main.head-1)),_e={from:tt.from,to:tt.to,insert:Text$1.of([" "])}),_e)return applyDOMChangeInner(J,_e,et,nt);if(et&&!et.main.eq(tt)){let rt=!1,it="select";return J.inputState.lastSelectionTime>Date.now()-50&&(J.inputState.lastSelectionOrigin=="select"&&(rt=!0),it=J.inputState.lastSelectionOrigin),J.dispatch({selection:et,scrollIntoView:rt,userEvent:it}),!0}else return!1}function applyDOMChangeInner(J,$,_e,et=-1){if(browser.ios&&J.inputState.flushIOSKey($))return!0;let tt=J.state.selection.main;if(browser.android&&($.to==tt.to&&($.from==tt.from||$.from==tt.from-1&&J.state.sliceDoc($.from,tt.from)==" ")&&$.insert.length==1&&$.insert.lines==2&&dispatchKey(J.contentDOM,"Enter",13)||($.from==tt.from-1&&$.to==tt.to&&$.insert.length==0||et==8&&$.insert.length<$.to-$.from&&$.to>tt.head)&&dispatchKey(J.contentDOM,"Backspace",8)||$.from==tt.from&&$.to==tt.to+1&&$.insert.length==0&&dispatchKey(J.contentDOM,"Delete",46)))return!0;let nt=$.insert.toString();J.inputState.composing>=0&&J.inputState.composing++;let rt,it=()=>rt||(rt=applyDefaultInsert(J,$,_e));return J.state.facet(inputHandler$1).some(ot=>ot(J,$.from,$.to,nt,it))||J.dispatch(it()),!0}function applyDefaultInsert(J,$,_e){let et,tt=J.state,nt=tt.selection.main;if($.from>=nt.from&&$.to<=nt.to&&$.to-$.from>=(nt.to-nt.from)/3&&(!_e||_e.main.empty&&_e.main.from==$.from+$.insert.length)&&J.inputState.composing<0){let it=nt.from<$.from?tt.sliceDoc(nt.from,$.from):"",ot=nt.to>$.to?tt.sliceDoc($.to,nt.to):"";et=tt.replaceSelection(J.state.toText(it+$.insert.sliceString(0,void 0,J.state.lineBreak)+ot))}else{let it=tt.changes($),ot=_e&&_e.main.to<=it.newLength?_e.main:void 0;if(tt.selection.ranges.length>1&&J.inputState.composing>=0&&$.to<=nt.to&&$.to>=nt.to-10){let st=J.state.sliceDoc($.from,$.to),at,ct=_e&&findCompositionNode(J,_e.main.head);if(ct){let dt=$.insert.length-($.to-$.from);at={from:ct.from,to:ct.to-dt}}else at=J.state.doc.lineAt(nt.head);let ut=nt.to-$.to,ft=nt.to-nt.from;et=tt.changeByRange(dt=>{if(dt.from==nt.from&&dt.to==nt.to)return{changes:it,range:ot||dt.map(it)};let pt=dt.to-ut,vt=pt-st.length;if(dt.to-dt.from!=ft||J.state.sliceDoc(vt,pt)!=st||dt.to>=at.from&&dt.from<=at.to)return{range:dt};let mt=tt.changes({from:vt,to:pt,insert:$.insert}),Ot=dt.to-nt.to;return{changes:mt,range:ot?EditorSelection.range(Math.max(0,ot.anchor+Ot),Math.max(0,ot.head+Ot)):dt.map(mt)}})}else et={changes:it,selection:ot&&tt.selection.replaceRange(ot)}}let rt="input.type";return(J.composing||J.inputState.compositionPendingChange&&J.inputState.compositionEndedAt>Date.now()-50)&&(J.inputState.compositionPendingChange=!1,rt+=".compose",J.inputState.compositionFirstChange&&(rt+=".start",J.inputState.compositionFirstChange=!1)),tt.update(et,{userEvent:rt,scrollIntoView:!0})}function findDiff(J,$,_e,et){let tt=Math.min(J.length,$.length),nt=0;for(;nt<tt&&J.charCodeAt(nt)==$.charCodeAt(nt);)nt++;if(nt==tt&&J.length==$.length)return null;let rt=J.length,it=$.length;for(;rt>0&&it>0&&J.charCodeAt(rt-1)==$.charCodeAt(it-1);)rt--,it--;if(et=="end"){let ot=Math.max(0,nt-Math.min(rt,it));_e-=rt+ot-nt}if(rt<nt&&J.length<$.length){let ot=_e<=nt&&_e>=rt?nt-_e:0;nt-=ot,it=nt+(it-rt),rt=nt}else if(it<nt){let ot=_e<=nt&&_e>=it?nt-_e:0;nt-=ot,rt=nt+(rt-it),it=nt}return{from:nt,toA:rt,toB:it}}function selectionPoints(J){let $=[];if(J.root.activeElement!=J.contentDOM)return $;let{anchorNode:_e,anchorOffset:et,focusNode:tt,focusOffset:nt}=J.observer.selectionRange;return _e&&($.push(new DOMPoint(_e,et)),(tt!=_e||nt!=et)&&$.push(new DOMPoint(tt,nt))),$}function selectionFromPoints(J,$){if(J.length==0)return null;let _e=J[0].pos,et=J.length==2?J[1].pos:_e;return _e>-1&&et>-1?EditorSelection.single(_e+$,et+$):null}class InputState{setSelectionOrigin($){this.lastSelectionOrigin=$,this.lastSelectionTime=Date.now()}constructor($){this.view=$,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=$.hasFocus,browser.safari&&$.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack($.contentDOM.ownerDocument)}handleEvent($){!eventBelongsToEditor(this.view,$)||this.ignoreDuringComposition($)||$.type=="keydown"&&this.keydown($)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers($.type,$)):this.runHandlers($.type,$))}runHandlers($,_e){let et=this.handlers[$];if(et){for(let tt of et.observers)tt(this.view,_e);for(let tt of et.handlers){if(_e.defaultPrevented)break;if(tt(this.view,_e)){_e.preventDefault();break}}}}ensureHandlers($){let _e=computeHandlers($),et=this.handlers,tt=this.view.contentDOM;for(let nt in _e)if(nt!="scroll"){let rt=!_e[nt].handlers.length,it=et[nt];it&&rt!=!it.handlers.length&&(tt.removeEventListener(nt,this.handleEvent),it=null),it||tt.addEventListener(nt,this.handleEvent,{passive:rt})}for(let nt in et)nt!="scroll"&&!_e[nt]&&tt.removeEventListener(nt,this.handleEvent);this.handlers=_e}keydown($){if(this.lastKeyCode=$.keyCode,this.lastKeyTime=Date.now(),$.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&$.keyCode!=27&&modifierCodes.indexOf($.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!$.synthetic&&($.keyCode==13||$.keyCode==8))return this.view.observer.delayAndroidKey($.key,$.keyCode),!0;let _e;return browser.ios&&!$.synthetic&&!$.altKey&&!$.metaKey&&((_e=PendingKeys.find(et=>et.keyCode==$.keyCode))&&!$.ctrlKey||EmacsyPendingKeys.indexOf($.key)>-1&&$.ctrlKey&&!$.shiftKey)?(this.pendingIOSKey=_e||$,setTimeout(()=>this.flushIOSKey(),250),!0):($.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey($){let _e=this.pendingIOSKey;return!_e||_e.key=="Enter"&&$&&$.from<$.to&&/^\S+$/.test($.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,_e.key,_e.keyCode,_e instanceof KeyboardEvent?_e:void 0))}ignoreDuringComposition($){return/^key/.test($.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection($){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=$}update($){this.view.observer.update($),this.mouseSelection&&this.mouseSelection.update($),this.draggedContent&&$.docChanged&&(this.draggedContent=this.draggedContent.map($.changes)),$.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(J,$){return(_e,et)=>{try{return $.call(J,et,_e)}catch(tt){logException(_e.state,tt)}}}function computeHandlers(J){let $=Object.create(null);function _e(et){return $[et]||($[et]={observers:[],handlers:[]})}for(let et of J){let tt=et.spec;if(tt&&tt.domEventHandlers)for(let nt in tt.domEventHandlers){let rt=tt.domEventHandlers[nt];rt&&_e(nt).handlers.push(bindHandler(et.value,rt))}if(tt&&tt.domEventObservers)for(let nt in tt.domEventObservers){let rt=tt.domEventObservers[nt];rt&&_e(nt).observers.push(bindHandler(et.value,rt))}}for(let et in handlers)_e(et).handlers.push(handlers[et]);for(let et in observers)_e(et).observers.push(observers[et]);return $}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(J){return Math.max(0,J)*.7+8}function dist(J,$){return Math.max(Math.abs(J.clientX-$.clientX),Math.abs(J.clientY-$.clientY))}class MouseSelection{constructor($,_e,et,tt){this.view=$,this.startEvent=_e,this.style=et,this.mustSelect=tt,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=_e,this.scrollParents=scrollableParents($.contentDOM),this.atoms=$.state.facet(atomicRanges).map(rt=>rt($));let nt=$.contentDOM.ownerDocument;nt.addEventListener("mousemove",this.move=this.move.bind(this)),nt.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=_e.shiftKey,this.multiple=$.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange($,_e),this.dragging=isInPrimarySelection($,_e)&&getClickType(_e)==1?null:!1}start($){this.dragging===!1&&this.select($)}move($){if($.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,$)<10)return;this.select(this.lastEvent=$);let _e=0,et=0,tt=0,nt=0,rt=this.view.win.innerWidth,it=this.view.win.innerHeight;this.scrollParents.x&&({left:tt,right:rt}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:nt,bottom:it}=this.scrollParents.y.getBoundingClientRect());let ot=getScrollMargins(this.view);$.clientX-ot.left<=tt+dragScrollMargin?_e=-dragScrollSpeed(tt-$.clientX):$.clientX+ot.right>=rt-dragScrollMargin&&(_e=dragScrollSpeed($.clientX-rt)),$.clientY-ot.top<=nt+dragScrollMargin?et=-dragScrollSpeed(nt-$.clientY):$.clientY+ot.bottom>=it-dragScrollMargin&&(et=dragScrollSpeed($.clientY-it)),this.setScrollSpeed(_e,et)}up($){this.dragging==null&&this.select(this.lastEvent),this.dragging||$.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let $=this.view.contentDOM.ownerDocument;$.removeEventListener("mousemove",this.move),$.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed($,_e){this.scrollSpeed={x:$,y:_e},$||_e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:$,y:_e}=this.scrollSpeed;$&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=$,$=0),_e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=_e,_e=0),($||_e)&&this.view.win.scrollBy($,_e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms($){let _e=null;for(let et=0;et<$.ranges.length;et++){let tt=$.ranges[et],nt=null;if(tt.empty){let rt=skipAtomicRanges(this.atoms,tt.from,0);rt!=tt.from&&(nt=EditorSelection.cursor(rt,-1))}else{let rt=skipAtomicRanges(this.atoms,tt.from,-1),it=skipAtomicRanges(this.atoms,tt.to,1);(rt!=tt.from||it!=tt.to)&&(nt=EditorSelection.range(tt.from==tt.anchor?rt:it,tt.from==tt.head?rt:it))}nt&&(_e||(_e=$.ranges.slice()),_e[et]=nt)}return _e?EditorSelection.create(_e,$.mainIndex):$}select($){let{view:_e}=this,et=this.skipAtoms(this.style.get($,this.extend,this.multiple));(this.mustSelect||!et.eq(_e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:et,userEvent:"select.pointer"}),this.mustSelect=!1}update($){$.transactions.some(_e=>_e.isUserEvent("input.type"))?this.destroy():this.style.update($)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(J,$){let _e=J.state.facet(clickAddsSelectionRange);return _e.length?_e[0]($):browser.mac?$.metaKey:$.ctrlKey}function dragMovesSelection(J,$){let _e=J.state.facet(dragMovesSelection$1);return _e.length?_e[0]($):browser.mac?!$.altKey:!$.ctrlKey}function isInPrimarySelection(J,$){let{main:_e}=J.state.selection;if(_e.empty)return!1;let et=getSelection(J.root);if(!et||et.rangeCount==0)return!0;let tt=et.getRangeAt(0).getClientRects();for(let nt=0;nt<tt.length;nt++){let rt=tt[nt];if(rt.left<=$.clientX&&rt.right>=$.clientX&&rt.top<=$.clientY&&rt.bottom>=$.clientY)return!0}return!1}function eventBelongsToEditor(J,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let _e=$.target,et;_e!=J.contentDOM;_e=_e.parentNode)if(!_e||_e.nodeType==11||(et=ContentView.get(_e))&&et.ignoreEvent($))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(J){let $=J.dom.parentNode;if(!$)return;let _e=$.appendChild(document.createElement("textarea"));_e.style.cssText="position: fixed; left: -10000px; top: 10px",_e.focus(),setTimeout(()=>{J.focus(),_e.remove(),doPaste(J,_e.value)},50)}function textFilter(J,$,_e){for(let et of J.facet($))_e=et(_e,J);return _e}function doPaste(J,$){$=textFilter(J.state,clipboardInputFilter,$);let{state:_e}=J,et,tt=1,nt=_e.toText($),rt=nt.lines==_e.selection.ranges.length;if(lastLinewiseCopy!=null&&_e.selection.ranges.every(ot=>ot.empty)&&lastLinewiseCopy==nt.toString()){let ot=-1;et=_e.changeByRange(st=>{let at=_e.doc.lineAt(st.from);if(at.from==ot)return{range:st};ot=at.from;let ct=_e.toText((rt?nt.line(tt++).text:$)+_e.lineBreak);return{changes:{from:at.from,insert:ct},range:EditorSelection.cursor(st.from+ct.length)}})}else rt?et=_e.changeByRange(ot=>{let st=nt.line(tt++);return{changes:{from:ot.from,to:ot.to,insert:st.text},range:EditorSelection.cursor(ot.from+st.length)}}):et=_e.replaceSelection(nt);J.dispatch(et,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=J=>{J.inputState.lastScrollTop=J.scrollDOM.scrollTop,J.inputState.lastScrollLeft=J.scrollDOM.scrollLeft},handlers.keydown=(J,$)=>(J.inputState.setSelectionOrigin("select"),$.keyCode==27&&J.inputState.tabFocusMode!=0&&(J.inputState.tabFocusMode=Date.now()+2e3),!1),observers.touchstart=(J,$)=>{J.inputState.lastTouchTime=Date.now(),J.inputState.setSelectionOrigin("select.pointer")},observers.touchmove=J=>{J.inputState.setSelectionOrigin("select.pointer")},handlers.mousedown=(J,$)=>{if(J.observer.flush(),J.inputState.lastTouchTime>Date.now()-2e3)return!1;let _e=null;for(let et of J.state.facet(mouseSelectionStyle))if(_e=et(J,$),_e)break;if(!_e&&$.button==0&&(_e=basicMouseSelection(J,$)),_e){let et=!J.hasFocus;J.inputState.startMouseSelection(new MouseSelection(J,$,_e,et)),et&&J.observer.ignore(()=>{focusPreventScroll(J.contentDOM);let nt=J.root.activeElement;nt&&!nt.contains(J.contentDOM)&&nt.blur()});let tt=J.inputState.mouseSelection;if(tt)return tt.start($),tt.dragging===!1}return!1};function rangeForClick(J,$,_e,et){if(et==1)return EditorSelection.cursor($,_e);if(et==2)return groupAt(J.state,$,_e);{let tt=LineView.find(J.docView,$),nt=J.state.doc.lineAt(tt?tt.posAtEnd:$),rt=tt?tt.posAtStart:nt.from,it=tt?tt.posAtEnd:nt.to;return it<J.state.doc.length&&it==nt.to&&it++,EditorSelection.range(rt,it)}}let inside=(J,$,_e)=>$>=_e.top&&$<=_e.bottom&&J>=_e.left&&J<=_e.right;function findPositionSide(J,$,_e,et){let tt=LineView.find(J.docView,$);if(!tt)return 1;let nt=$-tt.posAtStart;if(nt==0)return 1;if(nt==tt.length)return-1;let rt=tt.coordsAt(nt,-1);if(rt&&inside(_e,et,rt))return-1;let it=tt.coordsAt(nt,1);return it&&inside(_e,et,it)?1:rt&&rt.bottom>=et?-1:1}function queryPos(J,$){let _e=J.posAtCoords({x:$.clientX,y:$.clientY},!1);return{pos:_e,bias:findPositionSide(J,_e,$.clientX,$.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(J){if(!BadMouseDetail)return J.detail;let $=lastMouseDown,_e=lastMouseDownTime;return lastMouseDown=J,lastMouseDownTime=Date.now(),lastMouseDownCount=!$||_e>Date.now()-400&&Math.abs($.clientX-J.clientX)<2&&Math.abs($.clientY-J.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(J,$){let _e=queryPos(J,$),et=getClickType($),tt=J.state.selection;return{update(nt){nt.docChanged&&(_e.pos=nt.changes.mapPos(_e.pos),tt=tt.map(nt.changes))},get(nt,rt,it){let ot=queryPos(J,nt),st,at=rangeForClick(J,ot.pos,ot.bias,et);if(_e.pos!=ot.pos&&!rt){let ct=rangeForClick(J,_e.pos,_e.bias,et),ut=Math.min(ct.from,at.from),ft=Math.max(ct.to,at.to);at=ut<at.from?EditorSelection.range(ut,ft):EditorSelection.range(ft,ut)}return rt?tt.replaceRange(tt.main.extend(at.from,at.to)):it&&et==1&&tt.ranges.length>1&&(st=removeRangeAround(tt,ot.pos))?st:it?tt.addRange(at):EditorSelection.create([at])}}}function removeRangeAround(J,$){for(let _e=0;_e<J.ranges.length;_e++){let{from:et,to:tt}=J.ranges[_e];if(et<=$&&tt>=$)return EditorSelection.create(J.ranges.slice(0,_e).concat(J.ranges.slice(_e+1)),J.mainIndex==_e?0:J.mainIndex-(J.mainIndex>_e?1:0))}return null}handlers.dragstart=(J,$)=>{let{selection:{main:_e}}=J.state;if($.target.draggable){let tt=J.docView.nearest($.target);if(tt&&tt.isWidget){let nt=tt.posAtStart,rt=nt+tt.length;(nt>=_e.to||rt<=_e.from)&&(_e=EditorSelection.range(nt,rt))}}let{inputState:et}=J;return et.mouseSelection&&(et.mouseSelection.dragging=!0),et.draggedContent=_e,$.dataTransfer&&($.dataTransfer.setData("Text",textFilter(J.state,clipboardOutputFilter,J.state.sliceDoc(_e.from,_e.to))),$.dataTransfer.effectAllowed="copyMove"),!1},handlers.dragend=J=>(J.inputState.draggedContent=null,!1);function dropText(J,$,_e,et){if(_e=textFilter(J.state,clipboardInputFilter,_e),!_e)return;let tt=J.posAtCoords({x:$.clientX,y:$.clientY},!1),{draggedContent:nt}=J.inputState,rt=et&&nt&&dragMovesSelection(J,$)?{from:nt.from,to:nt.to}:null,it={from:tt,insert:_e},ot=J.state.changes(rt?[rt,it]:it);J.focus(),J.dispatch({changes:ot,selection:{anchor:ot.mapPos(tt,-1),head:ot.mapPos(tt,1)},userEvent:rt?"move.drop":"input.drop"}),J.inputState.draggedContent=null}handlers.drop=(J,$)=>{if(!$.dataTransfer)return!1;if(J.state.readOnly)return!0;let _e=$.dataTransfer.files;if(_e&&_e.length){let et=Array(_e.length),tt=0,nt=()=>{++tt==_e.length&&dropText(J,$,et.filter(rt=>rt!=null).join(J.state.lineBreak),!1)};for(let rt=0;rt<_e.length;rt++){let it=new FileReader;it.onerror=nt,it.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(it.result)||(et[rt]=it.result),nt()},it.readAsText(_e[rt])}return!0}else{let et=$.dataTransfer.getData("Text");if(et)return dropText(J,$,et,!0),!0}return!1},handlers.paste=(J,$)=>{if(J.state.readOnly)return!0;J.observer.flush();let _e=brokenClipboardAPI?null:$.clipboardData;return _e?(doPaste(J,_e.getData("text/plain")||_e.getData("text/uri-list")),!0):(capturePaste(J),!1)};function captureCopy(J,$){let _e=J.dom.parentNode;if(!_e)return;let et=_e.appendChild(document.createElement("textarea"));et.style.cssText="position: fixed; left: -10000px; top: 10px",et.value=$,et.focus(),et.selectionEnd=$.length,et.selectionStart=0,setTimeout(()=>{et.remove(),J.focus()},50)}function copiedRange(J){let $=[],_e=[],et=!1;for(let tt of J.selection.ranges)tt.empty||($.push(J.sliceDoc(tt.from,tt.to)),_e.push(tt));if(!$.length){let tt=-1;for(let{from:nt}of J.selection.ranges){let rt=J.doc.lineAt(nt);rt.number>tt&&($.push(rt.text),_e.push({from:rt.from,to:Math.min(J.doc.length,rt.to+1)})),tt=rt.number}et=!0}return{text:textFilter(J,clipboardOutputFilter,$.join(J.lineBreak)),ranges:_e,linewise:et}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(J,$)=>{let{text:_e,ranges:et,linewise:tt}=copiedRange(J.state);if(!_e&&!tt)return!1;lastLinewiseCopy=tt?_e:null,$.type=="cut"&&!J.state.readOnly&&J.dispatch({changes:et,scrollIntoView:!0,userEvent:"delete.cut"});let nt=brokenClipboardAPI?null:$.clipboardData;return nt?(nt.clearData(),nt.setData("text/plain",_e),!0):(captureCopy(J,_e),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(J,$){let _e=[];for(let et of J.facet(focusChangeEffect)){let tt=et(J,$);tt&&_e.push(tt)}return _e?J.update({effects:_e,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(J){setTimeout(()=>{let $=J.hasFocus;if($!=J.inputState.notifiedFocused){let _e=focusChangeTransaction(J.state,$);_e?J.dispatch(_e):J.update([])}},10)}observers.focus=J=>{J.inputState.lastFocusTime=Date.now(),!J.scrollDOM.scrollTop&&(J.inputState.lastScrollTop||J.inputState.lastScrollLeft)&&(J.scrollDOM.scrollTop=J.inputState.lastScrollTop,J.scrollDOM.scrollLeft=J.inputState.lastScrollLeft),updateForFocusChange(J)},observers.blur=J=>{J.observer.clearSelectionRange(),updateForFocusChange(J)},observers.compositionstart=observers.compositionupdate=J=>{J.observer.editContext||(J.inputState.compositionFirstChange==null&&(J.inputState.compositionFirstChange=!0),J.inputState.composing<0&&(J.inputState.composing=0))},observers.compositionend=J=>{J.observer.editContext||(J.inputState.composing=-1,J.inputState.compositionEndedAt=Date.now(),J.inputState.compositionPendingKey=!0,J.inputState.compositionPendingChange=J.observer.pendingRecords().length>0,J.inputState.compositionFirstChange=null,browser.chrome&&browser.android?J.observer.flushSoon():J.inputState.compositionPendingChange?Promise.resolve().then(()=>J.observer.flush()):setTimeout(()=>{J.inputState.composing<0&&J.docView.hasComposition&&J.update([])},50))},observers.contextmenu=J=>{J.inputState.lastContextMenu=Date.now()},handlers.beforeinput=(J,$)=>{var _e,et;if($.inputType=="insertReplacementText"&&J.observer.editContext){let nt=(_e=$.dataTransfer)===null||_e===void 0?void 0:_e.getData("text/plain"),rt=$.getTargetRanges();if(nt&&rt.length){let it=rt[0],ot=J.posAtDOM(it.startContainer,it.startOffset),st=J.posAtDOM(it.endContainer,it.endOffset);return applyDOMChangeInner(J,{from:ot,to:st,insert:J.state.toText(nt)},null),!0}}let tt;if(browser.chrome&&browser.android&&(tt=PendingKeys.find(nt=>nt.inputType==$.inputType))&&(J.observer.delayAndroidKey(tt.key,tt.keyCode),tt.key=="Backspace"||tt.key=="Delete")){let nt=((et=window.visualViewport)===null||et===void 0?void 0:et.height)||0;setTimeout(()=>{var rt;(((rt=window.visualViewport)===null||rt===void 0?void 0:rt.height)||0)>nt+10&&J.hasFocus&&(J.contentDOM.blur(),J.focus())},100)}return browser.ios&&$.inputType=="deleteContentForward"&&J.observer.flushSoon(),browser.safari&&$.inputType=="insertText"&&J.inputState.composing>=0&&setTimeout(()=>observers.compositionend(J,$),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(J){appliedFirefoxHack.has(J)||(appliedFirefoxHack.add(J),J.addEventListener("copy",()=>{}),J.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor($){this.lineWrapping=$,this.doc=Text$1.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap($,_e){let et=this.doc.lineAt(_e).number-this.doc.lineAt($).number+1;return this.lineWrapping&&(et+=Math.max(0,Math.ceil((_e-$-et*this.lineLength*.5)/this.lineLength))),this.lineHeight*et}heightForLine($){return this.lineWrapping?(1+Math.max(0,Math.ceil(($-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc($){return this.doc=$,this}mustRefreshForWrapping($){return wrappingWhiteSpace.indexOf($)>-1!=this.lineWrapping}mustRefreshForHeights($){let _e=!1;for(let et=0;et<$.length;et++){let tt=$[et];tt<0?et++:this.heightSamples[Math.floor(tt*10)]||(_e=!0,this.heightSamples[Math.floor(tt*10)]=!0)}return _e}refresh($,_e,et,tt,nt,rt){let it=wrappingWhiteSpace.indexOf($)>-1,ot=Math.round(_e)!=Math.round(this.lineHeight)||this.lineWrapping!=it;if(this.lineWrapping=it,this.lineHeight=_e,this.charWidth=et,this.textHeight=tt,this.lineLength=nt,ot){this.heightSamples={};for(let st=0;st<rt.length;st++){let at=rt[st];at<0?st++:this.heightSamples[Math.floor(at*10)]=!0}}return ot}}class MeasuredHeights{constructor($,_e){this.from=$,this.heights=_e,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor($,_e,et,tt,nt){this.from=$,this.length=_e,this.top=et,this.height=tt,this._content=nt}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join($){let _e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray($._content)?$._content:[$]);return new BlockInfo(this.from,this.length+$.length,this.top,this.height+$.height,_e)}}var QueryType$1=function(J){return J[J.ByPos=0]="ByPos",J[J.ByHeight=1]="ByHeight",J[J.ByPosNoHeight=2]="ByPosNoHeight",J}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor($,_e,et=2){this.length=$,this.height=_e,this.flags=et}get outdated(){return(this.flags&2)>0}set outdated($){this.flags=($?2:0)|this.flags&-3}setHeight($){this.height!=$&&(Math.abs(this.height-$)>Epsilon&&(heightChangeFlag=!0),this.height=$)}replace($,_e,et){return HeightMap.of(et)}decomposeLeft($,_e){_e.push(this)}decomposeRight($,_e){_e.push(this)}applyChanges($,_e,et,tt){let nt=this,rt=et.doc;for(let it=tt.length-1;it>=0;it--){let{fromA:ot,toA:st,fromB:at,toB:ct}=tt[it],ut=nt.lineAt(ot,QueryType$1.ByPosNoHeight,et.setDoc(_e),0,0),ft=ut.to>=st?ut:nt.lineAt(st,QueryType$1.ByPosNoHeight,et,0,0);for(ct+=ft.to-st,st=ft.to;it>0&&ut.from<=tt[it-1].toA;)ot=tt[it-1].fromA,at=tt[it-1].fromB,it--,ot<ut.from&&(ut=nt.lineAt(ot,QueryType$1.ByPosNoHeight,et,0,0));at+=ut.from-ot,ot=ut.from;let dt=NodeBuilder.build(et.setDoc(rt),$,at,ct);nt=replace(nt,nt.replace(ot,st,dt))}return nt.updateHeight(et,0)}static empty(){return new HeightMapText(0,0)}static of($){if($.length==1)return $[0];let _e=0,et=$.length,tt=0,nt=0;for(;;)if(_e==et)if(tt>nt*2){let it=$[_e-1];it.break?$.splice(--_e,1,it.left,null,it.right):$.splice(--_e,1,it.left,it.right),et+=1+it.break,tt-=it.size}else if(nt>tt*2){let it=$[et];it.break?$.splice(et,1,it.left,null,it.right):$.splice(et,1,it.left,it.right),et+=2+it.break,nt-=it.size}else break;else if(tt<nt){let it=$[_e++];it&&(tt+=it.size)}else{let it=$[--et];it&&(nt+=it.size)}let rt=0;return $[_e-1]==null?(rt=1,_e--):$[_e]==null&&(rt=1,et++),new HeightMapBranch(HeightMap.of($.slice(0,_e)),rt,HeightMap.of($.slice(et)))}}function replace(J,$){return J==$?J:(J.constructor!=$.constructor&&(heightChangeFlag=!0),$)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor($,_e,et){super($,_e),this.deco=et}blockAt($,_e,et,tt){return new BlockInfo(tt,this.length,et,this.height,this.deco||0)}lineAt($,_e,et,tt,nt){return this.blockAt(0,et,tt,nt)}forEachLine($,_e,et,tt,nt,rt){$<=nt+this.length&&_e>=nt&&rt(this.blockAt(0,et,tt,nt))}updateHeight($,_e=0,et=!1,tt){return tt&&tt.from<=_e&&tt.more&&this.setHeight(tt.heights[tt.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor($,_e){super($,_e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt($,_e,et,tt){return new BlockInfo(tt,this.length,et,this.height,this.breaks)}replace($,_e,et){let tt=et[0];return et.length==1&&(tt instanceof HeightMapText||tt instanceof HeightMapGap&&tt.flags&4)&&Math.abs(this.length-tt.length)<10?(tt instanceof HeightMapGap?tt=new HeightMapText(tt.length,this.height):tt.height=this.height,this.outdated||(tt.outdated=!1),tt):HeightMap.of(et)}updateHeight($,_e=0,et=!1,tt){return tt&&tt.from<=_e&&tt.more?this.setHeight(tt.heights[tt.index++]):(et||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,$.heightForLine(this.length-this.collapsed))+this.breaks*$.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor($){super($,0)}heightMetrics($,_e){let et=$.doc.lineAt(_e).number,tt=$.doc.lineAt(_e+this.length).number,nt=tt-et+1,rt,it=0;if($.lineWrapping){let ot=Math.min(this.height,$.lineHeight*nt);rt=ot/nt,this.length>nt+1&&(it=(this.height-ot)/(this.length-nt-1))}else rt=this.height/nt;return{firstLine:et,lastLine:tt,perLine:rt,perChar:it}}blockAt($,_e,et,tt){let{firstLine:nt,lastLine:rt,perLine:it,perChar:ot}=this.heightMetrics(_e,tt);if(_e.lineWrapping){let st=tt+($<_e.lineHeight?0:Math.round(Math.max(0,Math.min(1,($-et)/this.height))*this.length)),at=_e.doc.lineAt(st),ct=it+at.length*ot,ut=Math.max(et,$-ct/2);return new BlockInfo(at.from,at.length,ut,ct,0)}else{let st=Math.max(0,Math.min(rt-nt,Math.floor(($-et)/it))),{from:at,length:ct}=_e.doc.line(nt+st);return new BlockInfo(at,ct,et+it*st,it,0)}}lineAt($,_e,et,tt,nt){if(_e==QueryType$1.ByHeight)return this.blockAt($,et,tt,nt);if(_e==QueryType$1.ByPosNoHeight){let{from:ft,to:dt}=et.doc.lineAt($);return new BlockInfo(ft,dt-ft,0,0,0)}let{firstLine:rt,perLine:it,perChar:ot}=this.heightMetrics(et,nt),st=et.doc.lineAt($),at=it+st.length*ot,ct=st.number-rt,ut=tt+it*ct+ot*(st.from-nt-ct);return new BlockInfo(st.from,st.length,Math.max(tt,Math.min(ut,tt+this.height-at)),at,0)}forEachLine($,_e,et,tt,nt,rt){$=Math.max($,nt),_e=Math.min(_e,nt+this.length);let{firstLine:it,perLine:ot,perChar:st}=this.heightMetrics(et,nt);for(let at=$,ct=tt;at<=_e;){let ut=et.doc.lineAt(at);if(at==$){let dt=ut.number-it;ct+=ot*dt+st*($-nt-dt)}let ft=ot+st*ut.length;rt(new BlockInfo(ut.from,ut.length,ct,ft,0)),ct+=ft,at=ut.to+1}}replace($,_e,et){let tt=this.length-_e;if(tt>0){let nt=et[et.length-1];nt instanceof HeightMapGap?et[et.length-1]=new HeightMapGap(nt.length+tt):et.push(null,new HeightMapGap(tt-1))}if($>0){let nt=et[0];nt instanceof HeightMapGap?et[0]=new HeightMapGap($+nt.length):et.unshift(new HeightMapGap($-1),null)}return HeightMap.of(et)}decomposeLeft($,_e){_e.push(new HeightMapGap($-1),null)}decomposeRight($,_e){_e.push(null,new HeightMapGap(this.length-$-1))}updateHeight($,_e=0,et=!1,tt){let nt=_e+this.length;if(tt&&tt.from<=_e+this.length&&tt.more){let rt=[],it=Math.max(_e,tt.from),ot=-1;for(tt.from>_e&&rt.push(new HeightMapGap(tt.from-_e-1).updateHeight($,_e));it<=nt&&tt.more;){let at=$.doc.lineAt(it).length;rt.length&&rt.push(null);let ct=tt.heights[tt.index++];ot==-1?ot=ct:Math.abs(ct-ot)>=Epsilon&&(ot=-2);let ut=new HeightMapText(at,ct);ut.outdated=!1,rt.push(ut),it+=at+1}it<=nt&&rt.push(null,new HeightMapGap(nt-it).updateHeight($,it));let st=HeightMap.of(rt);return(ot<0||Math.abs(st.height-this.height)>=Epsilon||Math.abs(ot-this.heightMetrics($,_e).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,st)}else(et||this.outdated)&&(this.setHeight($.heightForGap(_e,_e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor($,_e,et){super($.length+_e+et.length,$.height+et.height,_e|($.outdated||et.outdated?2:0)),this.left=$,this.right=et,this.size=$.size+et.size}get break(){return this.flags&1}blockAt($,_e,et,tt){let nt=et+this.left.height;return $<nt?this.left.blockAt($,_e,et,tt):this.right.blockAt($,_e,nt,tt+this.left.length+this.break)}lineAt($,_e,et,tt,nt){let rt=tt+this.left.height,it=nt+this.left.length+this.break,ot=_e==QueryType$1.ByHeight?$<rt:$<it,st=ot?this.left.lineAt($,_e,et,tt,nt):this.right.lineAt($,_e,et,rt,it);if(this.break||(ot?st.to<it:st.from>it))return st;let at=_e==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return ot?st.join(this.right.lineAt(it,at,et,rt,it)):this.left.lineAt(it,at,et,tt,nt).join(st)}forEachLine($,_e,et,tt,nt,rt){let it=tt+this.left.height,ot=nt+this.left.length+this.break;if(this.break)$<ot&&this.left.forEachLine($,_e,et,tt,nt,rt),_e>=ot&&this.right.forEachLine($,_e,et,it,ot,rt);else{let st=this.lineAt(ot,QueryType$1.ByPos,et,tt,nt);$<st.from&&this.left.forEachLine($,st.from-1,et,tt,nt,rt),st.to>=$&&st.from<=_e&&rt(st),_e>st.to&&this.right.forEachLine(st.to+1,_e,et,it,ot,rt)}}replace($,_e,et){let tt=this.left.length+this.break;if(_e<tt)return this.balanced(this.left.replace($,_e,et),this.right);if($>this.left.length)return this.balanced(this.left,this.right.replace($-tt,_e-tt,et));let nt=[];$>0&&this.decomposeLeft($,nt);let rt=nt.length;for(let it of et)nt.push(it);if($>0&&mergeGaps(nt,rt-1),_e<this.length){let it=nt.length;this.decomposeRight(_e,nt),mergeGaps(nt,it)}return HeightMap.of(nt)}decomposeLeft($,_e){let et=this.left.length;if($<=et)return this.left.decomposeLeft($,_e);_e.push(this.left),this.break&&(et++,$>=et&&_e.push(null)),$>et&&this.right.decomposeLeft($-et,_e)}decomposeRight($,_e){let et=this.left.length,tt=et+this.break;if($>=tt)return this.right.decomposeRight($-tt,_e);$<et&&this.left.decomposeRight($,_e),this.break&&$<tt&&_e.push(null),_e.push(this.right)}balanced($,_e){return $.size>2*_e.size||_e.size>2*$.size?HeightMap.of(this.break?[$,null,_e]:[$,_e]):(this.left=replace(this.left,$),this.right=replace(this.right,_e),this.setHeight($.height+_e.height),this.outdated=$.outdated||_e.outdated,this.size=$.size+_e.size,this.length=$.length+this.break+_e.length,this)}updateHeight($,_e=0,et=!1,tt){let{left:nt,right:rt}=this,it=_e+nt.length+this.break,ot=null;return tt&&tt.from<=_e+nt.length&&tt.more?ot=nt=nt.updateHeight($,_e,et,tt):nt.updateHeight($,_e,et),tt&&tt.from<=it+rt.length&&tt.more?ot=rt=rt.updateHeight($,it,et,tt):rt.updateHeight($,it,et),ot?this.balanced(nt,rt):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(J,$){let _e,et;J[$]==null&&(_e=J[$-1])instanceof HeightMapGap&&(et=J[$+1])instanceof HeightMapGap&&J.splice($-1,3,new HeightMapGap(_e.length+1+et.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor($,_e){this.pos=$,this.oracle=_e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=$}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span($,_e){if(this.lineStart>-1){let et=Math.min(_e,this.lineEnd),tt=this.nodes[this.nodes.length-1];tt instanceof HeightMapText?tt.length+=et-this.pos:(et>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(et-this.pos,-1)),this.writtenTo=et,_e>et&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=_e}point($,_e,et){if($<_e||et.heightRelevant){let tt=et.widget?et.widget.estimatedHeight:0,nt=et.widget?et.widget.lineBreaks:0;tt<0&&(tt=this.oracle.lineHeight);let rt=_e-$;et.block?this.addBlock(new HeightMapBlock(rt,tt,et)):(rt||nt||tt>=relevantWidgetHeight)&&this.addLineDeco(tt,nt,rt)}else _e>$&&this.span($,_e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:$,to:_e}=this.oracle.doc.lineAt(this.pos);this.lineStart=$,this.lineEnd=_e,this.writtenTo<$&&((this.writtenTo<$-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,$-1)),this.nodes.push(null)),this.pos>$&&this.nodes.push(new HeightMapText(this.pos-$,-1)),this.writtenTo=this.pos}blankContent($,_e){let et=new HeightMapGap(_e-$);return this.oracle.doc.lineAt($).to==_e&&(et.flags|=4),et}ensureLine(){this.enterLine();let $=this.nodes.length?this.nodes[this.nodes.length-1]:null;if($ instanceof HeightMapText)return $;let _e=new HeightMapText(0,-1);return this.nodes.push(_e),_e}addBlock($){this.enterLine();let _e=$.deco;_e&&_e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push($),this.writtenTo=this.pos=this.pos+$.length,_e&&_e.endSide>0&&(this.covering=$)}addLineDeco($,_e,et){let tt=this.ensureLine();tt.length+=et,tt.collapsed+=et,tt.widgetHeight=Math.max(tt.widgetHeight,$),tt.breaks+=_e,this.writtenTo=this.pos=this.pos+et}finish($){let _e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(_e instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||_e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let et=$;for(let tt of this.nodes)tt instanceof HeightMapText&&tt.updateHeight(this.oracle,et),et+=tt?tt.length:1;return this.nodes}static build($,_e,et,tt){let nt=new NodeBuilder(et,$);return RangeSet.spans(_e,et,tt,nt,0),nt.finish(et)}}function heightRelevantDecoChanges(J,$,_e){let et=new DecorationComparator;return RangeSet.compare(J,$,_e,et,0),et.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint($,_e,et,tt){($<_e||et&&et.heightRelevant||tt&&tt.heightRelevant)&&addRange($,_e,this.changes,5)}}function visiblePixelRange(J,$){let _e=J.getBoundingClientRect(),et=J.ownerDocument,tt=et.defaultView||window,nt=Math.max(0,_e.left),rt=Math.min(tt.innerWidth,_e.right),it=Math.max(0,_e.top),ot=Math.min(tt.innerHeight,_e.bottom);for(let st=J.parentNode;st&&st!=et.body;)if(st.nodeType==1){let at=st,ct=window.getComputedStyle(at);if((at.scrollHeight>at.clientHeight||at.scrollWidth>at.clientWidth)&&ct.overflow!="visible"){let ut=at.getBoundingClientRect();nt=Math.max(nt,ut.left),rt=Math.min(rt,ut.right),it=Math.max(it,ut.top),ot=Math.min(st==J.parentNode?tt.innerHeight:ot,ut.bottom)}st=ct.position=="absolute"||ct.position=="fixed"?at.offsetParent:at.parentNode}else if(st.nodeType==11)st=st.host;else break;return{left:nt-_e.left,right:Math.max(nt,rt)-_e.left,top:it-(_e.top+$),bottom:Math.max(it,ot)-(_e.top+$)}}function inWindow(J){let $=J.getBoundingClientRect(),_e=J.ownerDocument.defaultView||window;return $.left<_e.innerWidth&&$.right>0&&$.top<_e.innerHeight&&$.bottom>0}function fullPixelRange(J,$){let _e=J.getBoundingClientRect();return{left:0,right:_e.right-_e.left,top:$,bottom:_e.bottom-(_e.top+$)}}class LineGap{constructor($,_e,et,tt){this.from=$,this.to=_e,this.size=et,this.displaySize=tt}static same($,_e){if($.length!=_e.length)return!1;for(let et=0;et<$.length;et++){let tt=$[et],nt=_e[et];if(tt.from!=nt.from||tt.to!=nt.to||tt.size!=nt.size)return!1}return!0}draw($,_e){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(_e?$.scaleY:$.scaleX),_e)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor($,_e){super(),this.size=$,this.vertical=_e}eq($){return $.size==this.size&&$.vertical==this.vertical}toDOM(){let $=document.createElement("div");return this.vertical?$.style.height=this.size+"px":($.style.width=this.size+"px",$.style.height="2px",$.style.display="inline-block"),$}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor($){this.state=$,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let _e=$.facet(contentAttributes).some(et=>typeof et!="function"&&et.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(_e),this.stateDeco=$.facet(decorations).filter(et=>typeof et!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle.setDoc($.doc),[new ChangedRange(0,0,0,$.doc.length)]);for(let et=0;et<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());et++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(et=>et.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let $=[this.viewport],{main:_e}=this.state.selection;for(let et=0;et<=1;et++){let tt=et?_e.head:_e.anchor;if(!$.some(({from:nt,to:rt})=>tt>=nt&&tt<=rt)){let{from:nt,to:rt}=this.lineBlockAt(tt);$.push(new Viewport(nt,rt))}}return this.viewports=$.sort((et,tt)=>et.from-tt.from),this.updateScaler()}updateScaler(){let $=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),$.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,$=>{this.viewportLines.push(scaleBlock($,this.scaler))})}update($,_e=null){this.state=$.state;let et=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(at=>typeof at!="function");let tt=$.changedRanges,nt=ChangedRange.extendWithRanges(tt,heightRelevantDecoChanges(et,this.stateDeco,$?$.changes:ChangeSet.empty(this.state.doc.length))),rt=this.heightMap.height,it=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,$.startState.doc,this.heightOracle.setDoc(this.state.doc),nt),(this.heightMap.height!=rt||heightChangeFlag)&&($.flags|=2),it?(this.scrollAnchorPos=$.changes.mapPos(it.from,-1),this.scrollAnchorHeight=it.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let ot=nt.length?this.mapViewport(this.viewport,$.changes):this.viewport;(_e&&(_e.range.head<ot.from||_e.range.head>ot.to)||!this.viewportIsAppropriate(ot))&&(ot=this.getViewport(0,_e));let st=ot.from!=this.viewport.from||ot.to!=this.viewport.to;this.viewport=ot,$.flags|=this.updateForViewport(),(st||!$.changes.empty||$.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,$.changes))),$.flags|=this.computeVisibleRanges($.changes),_e&&(this.scrollTarget=_e),!this.mustEnforceCursorAssoc&&$.selectionSet&&$.view.lineWrapping&&$.state.selection.main.empty&&$.state.selection.main.assoc&&!$.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure($){let _e=$.contentDOM,et=window.getComputedStyle(_e),tt=this.heightOracle,nt=et.whiteSpace;this.defaultTextDirection=et.direction=="rtl"?Direction.RTL:Direction.LTR;let rt=this.heightOracle.mustRefreshForWrapping(nt),it=_e.getBoundingClientRect(),ot=rt||this.mustMeasureContent||this.contentDOMHeight!=it.height;this.contentDOMHeight=it.height,this.mustMeasureContent=!1;let st=0,at=0;if(it.width&&it.height){let{scaleX:wt,scaleY:bt}=getScale(_e,it);(wt>.005&&Math.abs(this.scaleX-wt)>.005||bt>.005&&Math.abs(this.scaleY-bt)>.005)&&(this.scaleX=wt,this.scaleY=bt,st|=16,rt=ot=!0)}let ct=(parseInt(et.paddingTop)||0)*this.scaleY,ut=(parseInt(et.paddingBottom)||0)*this.scaleY;(this.paddingTop!=ct||this.paddingBottom!=ut)&&(this.paddingTop=ct,this.paddingBottom=ut,st|=18),this.editorWidth!=$.scrollDOM.clientWidth&&(tt.lineWrapping&&(ot=!0),this.editorWidth=$.scrollDOM.clientWidth,st|=16);let ft=$.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=ft&&(this.scrollAnchorHeight=-1,this.scrollTop=ft),this.scrolledToBottom=isScrolledToBottom($.scrollDOM);let dt=(this.printing?fullPixelRange:visiblePixelRange)(_e,this.paddingTop),pt=dt.top-this.pixelViewport.top,vt=dt.bottom-this.pixelViewport.bottom;this.pixelViewport=dt;let mt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(mt!=this.inView&&(this.inView=mt,mt&&(ot=!0)),!this.inView&&!this.scrollTarget&&!inWindow($.dom))return 0;let Ot=it.width;if((this.contentDOMWidth!=Ot||this.editorHeight!=$.scrollDOM.clientHeight)&&(this.contentDOMWidth=it.width,this.editorHeight=$.scrollDOM.clientHeight,st|=16),ot){let wt=$.docView.measureVisibleLineHeights(this.viewport);if(tt.mustRefreshForHeights(wt)&&(rt=!0),rt||tt.lineWrapping&&Math.abs(Ot-this.contentDOMWidth)>tt.charWidth){let{lineHeight:bt,charWidth:Ct,textHeight:kt}=$.docView.measureTextSize();rt=bt>0&&tt.refresh(nt,bt,Ct,kt,Ot/Ct,wt),rt&&($.docView.minWidth=0,st|=16)}pt>0&&vt>0?at=Math.max(pt,vt):pt<0&&vt<0&&(at=Math.min(pt,vt)),clearHeightChangeFlag();for(let bt of this.viewports){let Ct=bt.from==this.viewport.from?wt:$.docView.measureVisibleLineHeights(bt);this.heightMap=(rt?HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle,[new ChangedRange(0,0,0,$.state.doc.length)]):this.heightMap).updateHeight(tt,0,rt,new MeasuredHeights(bt.from,Ct))}heightChangeFlag&&(st|=2)}let yt=!this.viewportIsAppropriate(this.viewport,at)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return yt&&(st&2&&(st|=this.updateScaler()),this.viewport=this.getViewport(at,this.scrollTarget),st|=this.updateForViewport()),(st&2||yt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(rt?[]:this.lineGaps,$)),st|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,$.docView.enforceCursorAssoc()),st}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport($,_e){let et=.5-Math.max(-.5,Math.min(.5,$/1e3/2)),tt=this.heightMap,nt=this.heightOracle,{visibleTop:rt,visibleBottom:it}=this,ot=new Viewport(tt.lineAt(rt-et*1e3,QueryType$1.ByHeight,nt,0,0).from,tt.lineAt(it+(1-et)*1e3,QueryType$1.ByHeight,nt,0,0).to);if(_e){let{head:st}=_e.range;if(st<ot.from||st>ot.to){let at=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),ct=tt.lineAt(st,QueryType$1.ByPos,nt,0,0),ut;_e.y=="center"?ut=(ct.top+ct.bottom)/2-at/2:_e.y=="start"||_e.y=="nearest"&&st<ot.from?ut=ct.top:ut=ct.bottom-at,ot=new Viewport(tt.lineAt(ut-1e3/2,QueryType$1.ByHeight,nt,0,0).from,tt.lineAt(ut+at+1e3/2,QueryType$1.ByHeight,nt,0,0).to)}}return ot}mapViewport($,_e){let et=_e.mapPos($.from,-1),tt=_e.mapPos($.to,1);return new Viewport(this.heightMap.lineAt(et,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(tt,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:$,to:_e},et=0){if(!this.inView)return!0;let{top:tt}=this.heightMap.lineAt($,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:nt}=this.heightMap.lineAt(_e,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:rt,visibleBottom:it}=this;return($==0||tt<=rt-Math.max(10,Math.min(-et,250)))&&(_e==this.state.doc.length||nt>=it+Math.max(10,Math.min(et,250)))&&tt>rt-2*1e3&&nt<it+2*1e3}mapLineGaps($,_e){if(!$.length||_e.empty)return $;let et=[];for(let tt of $)_e.touchesRange(tt.from,tt.to)||et.push(new LineGap(_e.mapPos(tt.from),_e.mapPos(tt.to),tt.size,tt.displaySize));return et}ensureLineGaps($,_e){let et=this.heightOracle.lineWrapping,tt=et?1e4:2e3,nt=tt>>1,rt=tt<<1;if(this.defaultTextDirection!=Direction.LTR&&!et)return[];let it=[],ot=(at,ct,ut,ft)=>{if(ct-at<nt)return;let dt=this.state.selection.main,pt=[dt.from];dt.empty||pt.push(dt.to);for(let mt of pt)if(mt>at&&mt<ct){ot(at,mt-10,ut,ft),ot(mt+10,ct,ut,ft);return}let vt=find($,mt=>mt.from>=ut.from&&mt.to<=ut.to&&Math.abs(mt.from-at)<nt&&Math.abs(mt.to-ct)<nt&&!pt.some(Ot=>mt.from<Ot&&mt.to>Ot));if(!vt){if(ct<ut.to&&_e&&et&&_e.visibleRanges.some(yt=>yt.from<=ct&&yt.to>=ct)){let yt=_e.moveToLineBoundary(EditorSelection.cursor(ct),!1,!0).head;yt>at&&(ct=yt)}let mt=this.gapSize(ut,at,ct,ft),Ot=et||mt<2e6?mt:2e6;vt=new LineGap(at,ct,mt,Ot)}it.push(vt)},st=at=>{if(at.length<rt||at.type!=BlockType.Text)return;let ct=lineStructure(at.from,at.to,this.stateDeco);if(ct.total<rt)return;let ut=this.scrollTarget?this.scrollTarget.range.head:null,ft,dt;if(et){let pt=tt/this.heightOracle.lineLength*this.heightOracle.lineHeight,vt,mt;if(ut!=null){let Ot=findFraction(ct,ut),yt=((this.visibleBottom-this.visibleTop)/2+pt)/at.height;vt=Ot-yt,mt=Ot+yt}else vt=(this.visibleTop-at.top-pt)/at.height,mt=(this.visibleBottom-at.top+pt)/at.height;ft=findPosition(ct,vt),dt=findPosition(ct,mt)}else{let pt=ct.total*this.heightOracle.charWidth,vt=tt*this.heightOracle.charWidth,mt=0;if(pt>2e6)for(let Ct of $)Ct.from>=at.from&&Ct.from<at.to&&Ct.size!=Ct.displaySize&&Ct.from*this.heightOracle.charWidth+mt<this.pixelViewport.left&&(mt=Ct.size-Ct.displaySize);let Ot=this.pixelViewport.left+mt,yt=this.pixelViewport.right+mt,wt,bt;if(ut!=null){let Ct=findFraction(ct,ut),kt=((yt-Ot)/2+vt)/pt;wt=Ct-kt,bt=Ct+kt}else wt=(Ot-vt)/pt,bt=(yt+vt)/pt;ft=findPosition(ct,wt),dt=findPosition(ct,bt)}ft>at.from&&ot(at.from,ft,at,ct),dt<at.to&&ot(dt,at.to,at,ct)};for(let at of this.viewportLines)Array.isArray(at.type)?at.type.forEach(st):st(at);return it}gapSize($,_e,et,tt){let nt=findFraction(tt,et)-findFraction(tt,_e);return this.heightOracle.lineWrapping?$.height*nt:tt.total*this.heightOracle.charWidth*nt}updateLineGaps($){LineGap.same($,this.lineGaps)||(this.lineGaps=$,this.lineGapDeco=Decoration.set($.map(_e=>_e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges($){let _e=this.stateDeco;this.lineGaps.length&&(_e=_e.concat(this.lineGapDeco));let et=[];RangeSet.spans(_e,this.viewport.from,this.viewport.to,{span(nt,rt){et.push({from:nt,to:rt})},point(){}},20);let tt=0;if(et.length!=this.visibleRanges.length)tt=12;else for(let nt=0;nt<et.length&&!(tt&8);nt++){let rt=this.visibleRanges[nt],it=et[nt];(rt.from!=it.from||rt.to!=it.to)&&(tt|=4,$&&$.mapPos(rt.from,-1)==it.from&&$.mapPos(rt.to,1)==it.to||(tt|=8))}return this.visibleRanges=et,tt}lineBlockAt($){return $>=this.viewport.from&&$<=this.viewport.to&&this.viewportLines.find(_e=>_e.from<=$&&_e.to>=$)||scaleBlock(this.heightMap.lineAt($,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight($){return $>=this.viewportLines[0].top&&$<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(_e=>_e.top<=$&&_e.bottom>=$)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM($),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt($){let _e=this.lineBlockAtHeight($+8);return _e.from>=this.viewport.from||this.viewportLines[0].top-$>200?_e:this.viewportLines[0]}elementAtHeight($){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM($),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor($,_e){this.from=$,this.to=_e}}function lineStructure(J,$,_e){let et=[],tt=J,nt=0;return RangeSet.spans(_e,J,$,{span(){},point(rt,it){rt>tt&&(et.push({from:tt,to:rt}),nt+=rt-tt),tt=it}},20),tt<$&&(et.push({from:tt,to:$}),nt+=$-tt),{total:nt,ranges:et}}function findPosition({total:J,ranges:$},_e){if(_e<=0)return $[0].from;if(_e>=1)return $[$.length-1].to;let et=Math.floor(J*_e);for(let tt=0;;tt++){let{from:nt,to:rt}=$[tt],it=rt-nt;if(et<=it)return nt+et;et-=it}}function findFraction(J,$){let _e=0;for(let{from:et,to:tt}of J.ranges){if($<=tt){_e+=$-et;break}_e+=tt-et}return _e/J.total}function find(J,$){for(let _e of J)if($(_e))return _e}const IdScaler={toDOM(J){return J},fromDOM(J){return J},scale:1,eq(J){return J==this}};class BigScaler{constructor($,_e,et){let tt=0,nt=0,rt=0;this.viewports=et.map(({from:it,to:ot})=>{let st=_e.lineAt(it,QueryType$1.ByPos,$,0,0).top,at=_e.lineAt(ot,QueryType$1.ByPos,$,0,0).bottom;return tt+=at-st,{from:it,to:ot,top:st,bottom:at,domTop:0,domBottom:0}}),this.scale=(7e6-tt)/(_e.height-tt);for(let it of this.viewports)it.domTop=rt+(it.top-nt)*this.scale,rt=it.domBottom=it.domTop+(it.bottom-it.top),nt=it.bottom}toDOM($){for(let _e=0,et=0,tt=0;;_e++){let nt=_e<this.viewports.length?this.viewports[_e]:null;if(!nt||$<nt.top)return tt+($-et)*this.scale;if($<=nt.bottom)return nt.domTop+($-nt.top);et=nt.bottom,tt=nt.domBottom}}fromDOM($){for(let _e=0,et=0,tt=0;;_e++){let nt=_e<this.viewports.length?this.viewports[_e]:null;if(!nt||$<nt.domTop)return et+($-tt)/this.scale;if($<=nt.domBottom)return nt.top+($-nt.domTop);et=nt.bottom,tt=nt.domBottom}}eq($){return $ instanceof BigScaler?this.scale==$.scale&&this.viewports.length==$.viewports.length&&this.viewports.every((_e,et)=>_e.from==$.viewports[et].from&&_e.to==$.viewports[et].to):!1}}function scaleBlock(J,$){if($.scale==1)return J;let _e=$.toDOM(J.top),et=$.toDOM(J.bottom);return new BlockInfo(J.from,J.length,_e,et-_e,Array.isArray(J._content)?J._content.map(tt=>scaleBlock(tt,$)):J._content)}const theme=Facet.define({combine:J=>J.join(" ")}),darkTheme=Facet.define({combine:J=>J.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(J,$,_e){return new StyleModule($,{finish(et){return/&/.test(et)?et.replace(/&\w*/,tt=>{if(tt=="&")return J;if(!_e||!_e[tt])throw new RangeError(`Unsupported selector: ${tt}`);return _e[tt]}):J+" "+et}})}const baseTheme$1$2=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor($){this.view=$,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=$.contentDOM,this.observer=new MutationObserver(_e=>{for(let et of _e)this.queue.push(et);(browser.ie&&browser.ie_version<=11||browser.ios&&$.composing)&&_e.some(et=>et.type=="childList"&&et.removedNodes.length||et.type=="characterData"&&et.oldValue.length>et.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&$.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager($),$.state.facet(editable)&&($.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=_e=>{this.queue.push({target:_e.target,type:"characterData",oldValue:_e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var _e;((_e=this.view.docView)===null||_e===void 0?void 0:_e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe($.scrollDOM)),this.addWindowListeners(this.win=$.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(_e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),_e.length>0&&_e[_e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(_e=>{_e.length>0&&_e[_e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged($){this.view.inputState.runHandlers("scroll",$),this.intersecting&&this.view.measure()}onScroll($){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged($)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint($){($.type=="change"||!$.type)&&!$.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps($){if(this.gapIntersection&&($.length!=this.gaps.length||this.gaps.some((_e,et)=>_e!=$[et]))){this.gapIntersection.disconnect();for(let _e of $)this.gapIntersection.observe(_e);this.gaps=$}}onSelectionChange($){let _e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:et}=this,tt=this.selectionRange;if(et.state.facet(editable)?et.root.activeElement!=this.dom:!hasSelection(this.dom,tt))return;let nt=tt.anchorNode&&et.docView.nearest(tt.anchorNode);if(nt&&nt.ignoreEvent($)){_e||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!et.state.selection.main.empty&&tt.focusNode&&isEquivalentPosition(tt.focusNode,tt.focusOffset,tt.anchorNode,tt.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:$}=this,_e=getSelection($.root);if(!_e)return!1;let et=browser.safari&&$.root.nodeType==11&&$.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,_e)||_e;if(!et||this.selectionRange.eq(et))return!1;let tt=hasSelection(this.dom,et);return tt&&!this.selectionChanged&&$.inputState.lastFocusTime>Date.now()-200&&$.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,et)?(this.view.inputState.lastFocusTime=0,$.docView.updateSelection(),!1):(this.selectionRange.setRange(et),tt&&(this.selectionChanged=!0),!0)}setSelectionRange($,_e){this.selectionRange.set($.node,$.offset,_e.node,_e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let $=0,_e=null;for(let et=this.dom;et;)if(et.nodeType==1)!_e&&$<this.scrollTargets.length&&this.scrollTargets[$]==et?$++:_e||(_e=this.scrollTargets.slice(0,$)),_e&&_e.push(et),et=et.assignedSlot||et.parentNode;else if(et.nodeType==11)et=et.host;else break;if($<this.scrollTargets.length&&!_e&&(_e=this.scrollTargets.slice(0,$)),_e){for(let et of this.scrollTargets)et.removeEventListener("scroll",this.onScroll);for(let et of this.scrollTargets=_e)et.addEventListener("scroll",this.onScroll)}}ignore($){if(!this.active)return $();try{return this.stop(),$()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey($,_e){var et;if(!this.delayedAndroidKey){let tt=()=>{let nt=this.delayedAndroidKey;nt&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=nt.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&nt.force&&dispatchKey(this.dom,nt.key,nt.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(tt)}(!this.delayedAndroidKey||$=="Enter")&&(this.delayedAndroidKey={key:$,keyCode:_e,force:this.lastChange<Date.now()-50||!!(!((et=this.delayedAndroidKey)===null||et===void 0)&&et.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let $ of this.observer.takeRecords())this.queue.push($);return this.queue}processRecords(){let $=this.pendingRecords();$.length&&(this.queue=[]);let _e=-1,et=-1,tt=!1;for(let nt of $){let rt=this.readMutation(nt);rt&&(rt.typeOver&&(tt=!0),_e==-1?{from:_e,to:et}=rt:(_e=Math.min(rt.from,_e),et=Math.max(rt.to,et)))}return{from:_e,to:et,typeOver:tt}}readChange(){let{from:$,to:_e,typeOver:et}=this.processRecords(),tt=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if($<0&&!tt)return null;$>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let nt=new DOMChange(this.view,$,_e,et);return this.view.docView.domChanged={newSel:nt.newSel?nt.newSel.main:null},nt}flush($=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;$&&this.readSelectionRange();let _e=this.readChange();if(!_e)return this.view.requestMeasure(),!1;let et=this.view.state,tt=applyDOMChange(this.view,_e);return this.view.state==et&&(_e.domChanged||_e.newSel&&!_e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),tt}readMutation($){let _e=this.view.docView.nearest($.target);if(!_e||_e.ignoreMutation($))return null;if(_e.markDirty($.type=="attributes"),$.type=="attributes"&&(_e.flags|=4),$.type=="childList"){let et=findChild(_e,$.previousSibling||$.target.previousSibling,-1),tt=findChild(_e,$.nextSibling||$.target.nextSibling,1);return{from:et?_e.posAfter(et):_e.posAtStart,to:tt?_e.posBefore(tt):_e.posAtEnd,typeOver:!1}}else return $.type=="characterData"?{from:_e.posAtStart,to:_e.posAtEnd,typeOver:$.target.nodeValue==$.oldValue}:null}setWindow($){$!=this.win&&(this.removeWindowListeners(this.win),this.win=$,this.addWindowListeners(this.win))}addWindowListeners($){$.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):$.addEventListener("beforeprint",this.onPrint),$.addEventListener("scroll",this.onScroll),$.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners($){$.removeEventListener("scroll",this.onScroll),$.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):$.removeEventListener("beforeprint",this.onPrint),$.document.removeEventListener("selectionchange",this.onSelectionChange)}update($){this.editContext&&(this.editContext.update($),$.startState.facet(editable)!=$.state.facet(editable)&&($.view.contentDOM.editContext=$.state.facet(editable)?this.editContext.editContext:null))}destroy(){var $,_e,et;this.stop(),($=this.intersection)===null||$===void 0||$.disconnect(),(_e=this.gapIntersection)===null||_e===void 0||_e.disconnect(),(et=this.resizeScroll)===null||et===void 0||et.disconnect();for(let tt of this.scrollTargets)tt.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(J,$,_e){for(;$;){let et=ContentView.get($);if(et&&et.parent==J)return et;let tt=$.parentNode;$=tt!=J.dom?tt:_e>0?$.nextSibling:$.previousSibling}return null}function buildSelectionRangeFromRange(J,$){let _e=$.startContainer,et=$.startOffset,tt=$.endContainer,nt=$.endOffset,rt=J.docView.domAtPos(J.state.selection.main.anchor);return isEquivalentPosition(rt.node,rt.offset,tt,nt)&&([_e,et,tt,nt]=[tt,nt,_e,et]),{anchorNode:_e,anchorOffset:et,focusNode:tt,focusOffset:nt}}function safariSelectionRangeHack(J,$){if($.getComposedRanges){let tt=$.getComposedRanges(J.root)[0];if(tt)return buildSelectionRangeFromRange(J,tt)}let _e=null;function et(tt){tt.preventDefault(),tt.stopImmediatePropagation(),_e=tt.getTargetRanges()[0]}return J.contentDOM.addEventListener("beforeinput",et,!0),J.dom.ownerDocument.execCommand("indent"),J.contentDOM.removeEventListener("beforeinput",et,!0),_e?buildSelectionRangeFromRange(J,_e):null}class EditContextManager{constructor($){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange($.state);let _e=this.editContext=new window.EditContext({text:$.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,$.state.selection.main.anchor))),selectionEnd:this.toContextPos($.state.selection.main.head)});this.handlers.textupdate=et=>{let tt=$.state.selection.main,{anchor:nt,head:rt}=tt,it=this.toEditorPos(et.updateRangeStart),ot=this.toEditorPos(et.updateRangeEnd);$.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:et.updateRangeStart,editorBase:it,drifted:!1});let st={from:it,to:ot,insert:Text$1.of(et.text.split(`
`))};if(st.from==this.from&&nt<this.from?st.from=nt:st.to==this.to&&nt>this.to&&(st.to=nt),st.from==st.to&&!st.insert.length){let at=EditorSelection.single(this.toEditorPos(et.selectionStart),this.toEditorPos(et.selectionEnd));at.main.eq(tt)||$.dispatch({selection:at,userEvent:"select"});return}if((browser.mac||browser.android)&&st.from==rt-1&&/^\. ?$/.test(et.text)&&$.contentDOM.getAttribute("autocorrect")=="off"&&(st={from:it,to:ot,insert:Text$1.of([et.text.replace("."," ")])}),this.pendingContextChange=st,!$.state.readOnly){let at=this.to-this.from+(st.to-st.from+st.insert.length);applyDOMChangeInner($,st,EditorSelection.single(this.toEditorPos(et.selectionStart,at),this.toEditorPos(et.selectionEnd,at)))}this.pendingContextChange&&(this.revertPending($.state),this.setSelection($.state))},this.handlers.characterboundsupdate=et=>{let tt=[],nt=null;for(let rt=this.toEditorPos(et.rangeStart),it=this.toEditorPos(et.rangeEnd);rt<it;rt++){let ot=$.coordsForChar(rt);nt=ot&&new DOMRect(ot.left,ot.top,ot.right-ot.left,ot.bottom-ot.top)||nt||new DOMRect,tt.push(nt)}_e.updateCharacterBounds(et.rangeStart,tt)},this.handlers.textformatupdate=et=>{let tt=[];for(let nt of et.getTextFormats()){let rt=nt.underlineStyle,it=nt.underlineThickness;if(rt!="None"&&it!="None"){let ot=this.toEditorPos(nt.rangeStart),st=this.toEditorPos(nt.rangeEnd);if(ot<st){let at=`text-decoration: underline ${rt=="Dashed"?"dashed ":rt=="Squiggle"?"wavy ":""}${it=="Thin"?1:2}px`;tt.push(Decoration.mark({attributes:{style:at}}).range(ot,st))}}}$.dispatch({effects:setEditContextFormatting.of(Decoration.set(tt))})},this.handlers.compositionstart=()=>{$.inputState.composing<0&&($.inputState.composing=0,$.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if($.inputState.composing=-1,$.inputState.compositionFirstChange=null,this.composing){let{drifted:et}=this.composing;this.composing=null,et&&this.reset($.state)}};for(let et in this.handlers)_e.addEventListener(et,this.handlers[et]);this.measureReq={read:et=>{this.editContext.updateControlBounds(et.contentDOM.getBoundingClientRect());let tt=getSelection(et.root);tt&&tt.rangeCount&&this.editContext.updateSelectionBounds(tt.getRangeAt(0).getBoundingClientRect())}}}applyEdits($){let _e=0,et=!1,tt=this.pendingContextChange;return $.changes.iterChanges((nt,rt,it,ot,st)=>{if(et)return;let at=st.length-(rt-nt);if(tt&&rt>=tt.to)if(tt.from==nt&&tt.to==rt&&tt.insert.eq(st)){tt=this.pendingContextChange=null,_e+=at,this.to+=at;return}else tt=null,this.revertPending($.state);if(nt+=_e,rt+=_e,rt<=this.from)this.from+=at,this.to+=at;else if(nt<this.to){if(nt<this.from||rt>this.to||this.to-this.from+st.length>3e4){et=!0;return}this.editContext.updateText(this.toContextPos(nt),this.toContextPos(rt),st.toString()),this.to+=at}_e+=at}),tt&&!et&&this.revertPending($.state),!et}update($){let _e=this.pendingContextChange,et=$.startState.selection.main;this.composing&&(this.composing.drifted||!$.changes.touchesRange(et.from,et.to)&&$.transactions.some(tt=>!tt.isUserEvent("input.type")&&tt.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=$.changes.mapPos(this.composing.editorBase)):!this.applyEdits($)||!this.rangeIsValid($.state)?(this.pendingContextChange=null,this.reset($.state)):($.docChanged||$.selectionSet||_e)&&this.setSelection($.state),($.geometryChanged||$.docChanged||$.selectionSet)&&$.view.requestMeasure(this.measureReq)}resetRange($){let{head:_e}=$.selection.main;this.from=Math.max(0,_e-1e4),this.to=Math.min($.doc.length,_e+1e4)}reset($){this.resetRange($),this.editContext.updateText(0,this.editContext.text.length,$.doc.sliceString(this.from,this.to)),this.setSelection($)}revertPending($){let _e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(_e.from),this.toContextPos(_e.from+_e.insert.length),$.doc.sliceString(_e.from,_e.to))}setSelection($){let{main:_e}=$.selection,et=this.toContextPos(Math.max(this.from,Math.min(this.to,_e.anchor))),tt=this.toContextPos(_e.head);(this.editContext.selectionStart!=et||this.editContext.selectionEnd!=tt)&&this.editContext.updateSelection(et,tt)}rangeIsValid($){let{head:_e}=$.selection.main;return!(this.from>0&&_e-this.from<500||this.to<$.doc.length&&this.to-_e<500||this.to-this.from>1e4*3)}toEditorPos($,_e=this.to-this.from){$=Math.min($,_e);let et=this.composing;return et&&et.drifted?et.editorBase+($-et.contextBase):$+this.from}toContextPos($){let _e=this.composing;return _e&&_e.drifted?_e.contextBase+($-_e.editorBase):$-this.from}destroy(){for(let $ in this.handlers)this.editContext.removeEventListener($,this.handlers[$])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor($={}){var _e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),$.parent&&$.parent.appendChild(this.dom);let{dispatch:et}=$;this.dispatchTransactions=$.dispatchTransactions||et&&(tt=>tt.forEach(nt=>et(nt,this)))||(tt=>this.update(tt)),this.dispatch=this.dispatch.bind(this),this._root=$.root||getRoot($.parent)||document,this.viewState=new ViewState($.state||EditorState.create($)),$.scrollTo&&$.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=$.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(tt=>new PluginInstance(tt));for(let tt of this.plugins)tt.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((_e=document.fonts)===null||_e===void 0)&&_e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...$){let _e=$.length==1&&$[0]instanceof Transaction?$:$.length==1&&Array.isArray($[0])?$[0]:[this.state.update(...$)];this.dispatchTransactions(_e,this)}update($){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let _e=!1,et=!1,tt,nt=this.state;for(let ut of $){if(ut.startState!=nt)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");nt=ut.state}if(this.destroyed){this.viewState.state=nt;return}let rt=this.hasFocus,it=0,ot=null;$.some(ut=>ut.annotation(isFocusChange))?(this.inputState.notifiedFocused=rt,it=1):rt!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=rt,ot=focusChangeTransaction(nt,rt),ot||(it=1));let st=this.observer.delayedAndroidKey,at=null;if(st?(this.observer.clearDelayedAndroidKey(),at=this.observer.readChange(),(at&&!this.state.doc.eq(nt.doc)||!this.state.selection.eq(nt.selection))&&(at=null)):this.observer.clear(),nt.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(nt);tt=ViewUpdate.create(this,nt,$),tt.flags|=it;let ct=this.viewState.scrollTarget;try{this.updateState=2;for(let ut of $){if(ct&&(ct=ct.map(ut.changes)),ut.scrollIntoView){let{main:ft}=ut.state.selection;ct=new ScrollTarget(ft.empty?ft:EditorSelection.cursor(ft.head,ft.head>ft.anchor?-1:1))}for(let ft of ut.effects)ft.is(scrollIntoView$1)&&(ct=ft.value.clip(this.state))}this.viewState.update(tt,ct),this.bidiCache=CachedOrder.update(this.bidiCache,tt.changes),tt.empty||(this.updatePlugins(tt),this.inputState.update(tt)),_e=this.docView.update(tt),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),et=this.updateAttrs(),this.showAnnouncements($),this.docView.updateSelection(_e,$.some(ut=>ut.isUserEvent("select.pointer")))}finally{this.updateState=0}if(tt.startState.facet(theme)!=tt.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(_e||et||ct||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),_e&&this.docViewUpdate(),!tt.empty)for(let ut of this.state.facet(updateListener))try{ut(tt)}catch(ft){logException(this.state,ft,"update listener")}(ot||at)&&Promise.resolve().then(()=>{ot&&this.state==ot.startState&&this.dispatch(ot),at&&!applyDOMChange(this,at)&&st.force&&dispatchKey(this.contentDOM,st.key,st.keyCode)})}setState($){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=$;return}this.updateState=2;let _e=this.hasFocus;try{for(let et of this.plugins)et.destroy(this);this.viewState=new ViewState($),this.plugins=$.facet(viewPlugin).map(et=>new PluginInstance(et)),this.pluginMap.clear();for(let et of this.plugins)et.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}_e&&this.focus(),this.requestMeasure()}updatePlugins($){let _e=$.startState.facet(viewPlugin),et=$.state.facet(viewPlugin);if(_e!=et){let tt=[];for(let nt of et){let rt=_e.indexOf(nt);if(rt<0)tt.push(new PluginInstance(nt));else{let it=this.plugins[rt];it.mustUpdate=$,tt.push(it)}}for(let nt of this.plugins)nt.mustUpdate!=$&&nt.destroy(this);this.plugins=tt,this.pluginMap.clear()}else for(let tt of this.plugins)tt.mustUpdate=$;for(let tt=0;tt<this.plugins.length;tt++)this.plugins[tt].update(this);_e!=et&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let $ of this.plugins){let _e=$.value;if(_e&&_e.docViewUpdate)try{_e.docViewUpdate(this)}catch(et){logException(this.state,et,"doc view update listener")}}}measure($=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,$&&this.observer.forceFlush();let _e=null,et=this.scrollDOM,tt=et.scrollTop*this.scaleY,{scrollAnchorPos:nt,scrollAnchorHeight:rt}=this.viewState;Math.abs(tt-this.viewState.scrollTop)>1&&(rt=-1),this.viewState.scrollAnchorHeight=-1;try{for(let it=0;;it++){if(rt<0)if(isScrolledToBottom(et))nt=-1,rt=this.viewState.heightMap.height;else{let ft=this.viewState.scrollAnchorAt(tt);nt=ft.from,rt=ft.top}this.updateState=1;let ot=this.viewState.measure(this);if(!ot&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(it>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let st=[];ot&4||([this.measureRequests,st]=[st,this.measureRequests]);let at=st.map(ft=>{try{return ft.read(this)}catch(dt){return logException(this.state,dt),BadMeasure}}),ct=ViewUpdate.create(this,this.state,[]),ut=!1;ct.flags|=ot,_e?_e.flags|=ot:_e=ct,this.updateState=2,ct.empty||(this.updatePlugins(ct),this.inputState.update(ct),this.updateAttrs(),ut=this.docView.update(ct),ut&&this.docViewUpdate());for(let ft=0;ft<st.length;ft++)if(at[ft]!=BadMeasure)try{let dt=st[ft];dt.write&&dt.write(at[ft],this)}catch(dt){logException(this.state,dt)}if(ut&&this.docView.updateSelection(!0),!ct.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,rt=-1;continue}else{let dt=(nt<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(nt).top)-rt;if(dt>1||dt<-1){tt=tt+dt,et.scrollTop=tt/this.scaleY,rt=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(_e&&!_e.empty)for(let it of this.state.facet(updateListener))it(_e)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let $=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),_e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(_e["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,_e);let et=this.observer.ignore(()=>{let tt=updateAttrs(this.contentDOM,this.contentAttrs,_e),nt=updateAttrs(this.dom,this.editorAttrs,$);return tt||nt});return this.editorAttrs=$,this.contentAttrs=_e,et}showAnnouncements($){let _e=!0;for(let et of $)for(let tt of et.effects)if(tt.is(EditorView.announce)){_e&&(this.announceDOM.textContent=""),_e=!1;let nt=this.announceDOM.appendChild(document.createElement("div"));nt.textContent=tt.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let $=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$2).reverse(),$?{nonce:$}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure($){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),$){if(this.measureRequests.indexOf($)>-1)return;if($.key!=null){for(let _e=0;_e<this.measureRequests.length;_e++)if(this.measureRequests[_e].key===$.key){this.measureRequests[_e]=$;return}}this.measureRequests.push($)}}plugin($){let _e=this.pluginMap.get($);return(_e===void 0||_e&&_e.spec!=$)&&this.pluginMap.set($,_e=this.plugins.find(et=>et.spec==$)||null),_e&&_e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight($){return this.readMeasured(),this.viewState.elementAtHeight($)}lineBlockAtHeight($){return this.readMeasured(),this.viewState.lineBlockAtHeight($)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt($){return this.viewState.lineBlockAt($)}get contentHeight(){return this.viewState.contentHeight}moveByChar($,_e,et){return skipAtoms(this,$,moveByChar(this,$,_e,et))}moveByGroup($,_e){return skipAtoms(this,$,moveByChar(this,$,_e,et=>byGroup(this,$.head,et)))}visualLineSide($,_e){let et=this.bidiSpans($),tt=this.textDirectionAt($.from),nt=et[_e?et.length-1:0];return EditorSelection.cursor(nt.side(_e,tt)+$.from,nt.forward(!_e,tt)?1:-1)}moveToLineBoundary($,_e,et=!0){return moveToLineBoundary(this,$,_e,et)}moveVertically($,_e,et){return skipAtoms(this,$,moveVertically(this,$,_e,et))}domAtPos($){return this.docView.domAtPos($)}posAtDOM($,_e=0){return this.docView.posFromDOM($,_e)}posAtCoords($,_e=!0){return this.readMeasured(),posAtCoords(this,$,_e)}coordsAtPos($,_e=1){this.readMeasured();let et=this.docView.coordsAt($,_e);if(!et||et.left==et.right)return et;let tt=this.state.doc.lineAt($),nt=this.bidiSpans(tt),rt=nt[BidiSpan.find(nt,$-tt.from,-1,_e)];return flattenRect(et,rt.dir==Direction.LTR==_e>0)}coordsForChar($){return this.readMeasured(),this.docView.coordsForChar($)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt($){return!this.state.facet(perLineTextDirection)||$<this.viewport.from||$>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt($))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans($){if($.length>MaxBidiLine)return trivialOrder($.length);let _e=this.textDirectionAt($.from),et;for(let nt of this.bidiCache)if(nt.from==$.from&&nt.dir==_e&&(nt.fresh||isolatesEq(nt.isolates,et=getIsolatedRanges(this,$))))return nt.order;et||(et=getIsolatedRanges(this,$));let tt=computeOrder($.text,_e,et);return this.bidiCache.push(new CachedOrder($.from,$.to,_e,et,!0,tt)),tt}get hasFocus(){var $;return(this.dom.ownerDocument.hasFocus()||browser.safari&&(($=this.inputState)===null||$===void 0?void 0:$.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot($){this._root!=$&&(this._root=$,this.observer.setWindow(($.nodeType==9?$:$.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let $ of this.plugins)$.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView($,_e={}){return scrollIntoView$1.of(new ScrollTarget(typeof $=="number"?EditorSelection.cursor($):$,_e.y,_e.x,_e.yMargin,_e.xMargin))}scrollSnapshot(){let{scrollTop:$,scrollLeft:_e}=this.scrollDOM,et=this.viewState.scrollAnchorAt($);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(et.from),"start","start",et.top-$,_e,!0))}setTabFocusMode($){$==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof $=="boolean"?this.inputState.tabFocusMode=$?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+$)}static domEventHandlers($){return ViewPlugin.define(()=>({}),{eventHandlers:$})}static domEventObservers($){return ViewPlugin.define(()=>({}),{eventObservers:$})}static theme($,_e){let et=StyleModule.newName(),tt=[theme.of(et),styleModule.of(buildTheme(`.${et}`,$))];return _e&&_e.dark&&tt.push(darkTheme.of(!0)),tt}static baseTheme($){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,$,lightDarkIDs)))}static findFromDOM($){var _e;let et=$.querySelector(".cm-content"),tt=et&&ContentView.get(et)||ContentView.get($);return((_e=tt==null?void 0:tt.rootView)===null||_e===void 0?void 0:_e.view)||null}}EditorView.styleModule=styleModule,EditorView.inputHandler=inputHandler$1,EditorView.clipboardInputFilter=clipboardInputFilter,EditorView.clipboardOutputFilter=clipboardOutputFilter,EditorView.scrollHandler=scrollHandler,EditorView.focusChangeEffect=focusChangeEffect,EditorView.perLineTextDirection=perLineTextDirection,EditorView.exceptionSink=exceptionSink,EditorView.updateListener=updateListener,EditorView.editable=editable,EditorView.mouseSelectionStyle=mouseSelectionStyle,EditorView.dragMovesSelection=dragMovesSelection$1,EditorView.clickAddsSelectionRange=clickAddsSelectionRange,EditorView.decorations=decorations,EditorView.outerDecorations=outerDecorations,EditorView.atomicRanges=atomicRanges,EditorView.bidiIsolatedRanges=bidiIsolatedRanges,EditorView.scrollMargins=scrollMargins,EditorView.darkTheme=darkTheme,EditorView.cspNonce=Facet.define({combine:J=>J.length?J[0]:""}),EditorView.contentAttributes=contentAttributes,EditorView.editorAttributes=editorAttributes,EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"}),EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor($,_e,et,tt,nt,rt){this.from=$,this.to=_e,this.dir=et,this.isolates=tt,this.fresh=nt,this.order=rt}static update($,_e){if(_e.empty&&!$.some(nt=>nt.fresh))return $;let et=[],tt=$.length?$[$.length-1].dir:Direction.LTR;for(let nt=Math.max(0,$.length-10);nt<$.length;nt++){let rt=$[nt];rt.dir==tt&&!_e.touchesRange(rt.from,rt.to)&&et.push(new CachedOrder(_e.mapPos(rt.from,1),_e.mapPos(rt.to,-1),rt.dir,rt.isolates,!1,rt.order))}return et}}function attrsFromFacet(J,$,_e){for(let et=J.state.facet($),tt=et.length-1;tt>=0;tt--){let nt=et[tt],rt=typeof nt=="function"?nt(J):nt;rt&&combineAttrs(rt,_e)}return _e}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(J,$){const _e=J.split(/-(?!$)/);let et=_e[_e.length-1];et=="Space"&&(et=" ");let tt,nt,rt,it;for(let ot=0;ot<_e.length-1;++ot){const st=_e[ot];if(/^(cmd|meta|m)$/i.test(st))it=!0;else if(/^a(lt)?$/i.test(st))tt=!0;else if(/^(c|ctrl|control)$/i.test(st))nt=!0;else if(/^s(hift)?$/i.test(st))rt=!0;else if(/^mod$/i.test(st))$=="mac"?it=!0:nt=!0;else throw new Error("Unrecognized modifier name: "+st)}return tt&&(et="Alt-"+et),nt&&(et="Ctrl-"+et),it&&(et="Meta-"+et),rt&&(et="Shift-"+et),et}function modifiers(J,$,_e){return $.altKey&&(J="Alt-"+J),$.ctrlKey&&(J="Ctrl-"+J),$.metaKey&&(J="Meta-"+J),_e!==!1&&$.shiftKey&&(J="Shift-"+J),J}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(J,$){return runHandlers(getKeymap($.state),J,$,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(J){let $=J.facet(keymap),_e=Keymaps.get($);return _e||Keymaps.set($,_e=buildKeymap($.reduce((et,tt)=>et.concat(tt),[]))),_e}function runScopeHandlers(J,$,_e){return runHandlers(getKeymap(J.state),$,J,_e)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(J,$=currentPlatform){let _e=Object.create(null),et=Object.create(null),tt=(rt,it)=>{let ot=et[rt];if(ot==null)et[rt]=it;else if(ot!=it)throw new Error("Key binding "+rt+" is used both as a regular binding and as a multi-stroke prefix")},nt=(rt,it,ot,st,at)=>{var ct,ut;let ft=_e[rt]||(_e[rt]=Object.create(null)),dt=it.split(/ (?!$)/).map(mt=>normalizeKeyName(mt,$));for(let mt=1;mt<dt.length;mt++){let Ot=dt.slice(0,mt).join(" ");tt(Ot,!0),ft[Ot]||(ft[Ot]={preventDefault:!0,stopPropagation:!1,run:[yt=>{let wt=storedPrefix={view:yt,prefix:Ot,scope:rt};return setTimeout(()=>{storedPrefix==wt&&(storedPrefix=null)},PrefixTimeout),!0}]})}let pt=dt.join(" ");tt(pt,!1);let vt=ft[pt]||(ft[pt]={preventDefault:!1,stopPropagation:!1,run:((ut=(ct=ft._any)===null||ct===void 0?void 0:ct.run)===null||ut===void 0?void 0:ut.slice())||[]});ot&&vt.run.push(ot),st&&(vt.preventDefault=!0),at&&(vt.stopPropagation=!0)};for(let rt of J){let it=rt.scope?rt.scope.split(" "):["editor"];if(rt.any)for(let st of it){let at=_e[st]||(_e[st]=Object.create(null));at._any||(at._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:ct}=rt;for(let ut in at)at[ut].run.push(ft=>ct(ft,currentKeyEvent))}let ot=rt[$]||rt.key;if(ot)for(let st of it)nt(st,ot,rt.run,rt.preventDefault,rt.stopPropagation),rt.shift&&nt(st,"Shift-"+ot,rt.shift,rt.preventDefault,rt.stopPropagation)}return _e}let currentKeyEvent=null;function runHandlers(J,$,_e,et){currentKeyEvent=$;let tt=keyName($),nt=codePointAt(tt,0),rt=codePointSize(nt)==tt.length&&tt!=" ",it="",ot=!1,st=!1,at=!1;storedPrefix&&storedPrefix.view==_e&&storedPrefix.scope==et&&(it=storedPrefix.prefix+" ",modifierCodes.indexOf($.keyCode)<0&&(st=!0,storedPrefix=null));let ct=new Set,ut=vt=>{if(vt){for(let mt of vt.run)if(!ct.has(mt)&&(ct.add(mt),mt(_e)))return vt.stopPropagation&&(at=!0),!0;vt.preventDefault&&(vt.stopPropagation&&(at=!0),st=!0)}return!1},ft=J[et],dt,pt;return ft&&(ut(ft[it+modifiers(tt,$,!rt)])?ot=!0:rt&&($.altKey||$.metaKey||$.ctrlKey)&&!(browser.windows&&$.ctrlKey&&$.altKey)&&(dt=base[$.keyCode])&&dt!=tt?(ut(ft[it+modifiers(dt,$,!0)])||$.shiftKey&&(pt=shift[$.keyCode])!=tt&&pt!=dt&&ut(ft[it+modifiers(pt,$,!1)]))&&(ot=!0):rt&&$.shiftKey&&ut(ft[it+modifiers(tt,$,!0)])&&(ot=!0),!ot&&ut(ft._any)&&(ot=!0)),st&&(ot=!0),ot&&at&&$.stopPropagation(),currentKeyEvent=null,ot}class RectangleMarker{constructor($,_e,et,tt,nt){this.className=$,this.left=_e,this.top=et,this.width=tt,this.height=nt}draw(){let $=document.createElement("div");return $.className=this.className,this.adjust($),$}update($,_e){return _e.className!=this.className?!1:(this.adjust($),!0)}adjust($){$.style.left=this.left+"px",$.style.top=this.top+"px",this.width!=null&&($.style.width=this.width+"px"),$.style.height=this.height+"px"}eq($){return this.left==$.left&&this.top==$.top&&this.width==$.width&&this.height==$.height&&this.className==$.className}static forRange($,_e,et){if(et.empty){let tt=$.coordsAtPos(et.head,et.assoc||1);if(!tt)return[];let nt=getBase($);return[new RectangleMarker(_e,tt.left-nt.left,tt.top-nt.top,null,tt.bottom-tt.top)]}else return rectanglesForRange($,_e,et)}}function getBase(J){let $=J.scrollDOM.getBoundingClientRect();return{left:(J.textDirection==Direction.LTR?$.left:$.right-J.scrollDOM.clientWidth*J.scaleX)-J.scrollDOM.scrollLeft*J.scaleX,top:$.top-J.scrollDOM.scrollTop*J.scaleY}}function wrappedLine(J,$,_e,et){let tt=J.coordsAtPos($,_e*2);if(!tt)return et;let nt=J.dom.getBoundingClientRect(),rt=(tt.top+tt.bottom)/2,it=J.posAtCoords({x:nt.left+1,y:rt}),ot=J.posAtCoords({x:nt.right-1,y:rt});return it==null||ot==null?et:{from:Math.max(et.from,Math.min(it,ot)),to:Math.min(et.to,Math.max(it,ot))}}function rectanglesForRange(J,$,_e){if(_e.to<=J.viewport.from||_e.from>=J.viewport.to)return[];let et=Math.max(_e.from,J.viewport.from),tt=Math.min(_e.to,J.viewport.to),nt=J.textDirection==Direction.LTR,rt=J.contentDOM,it=rt.getBoundingClientRect(),ot=getBase(J),st=rt.querySelector(".cm-line"),at=st&&window.getComputedStyle(st),ct=it.left+(at?parseInt(at.paddingLeft)+Math.min(0,parseInt(at.textIndent)):0),ut=it.right-(at?parseInt(at.paddingRight):0),ft=blockAt(J,et),dt=blockAt(J,tt),pt=ft.type==BlockType.Text?ft:null,vt=dt.type==BlockType.Text?dt:null;if(pt&&(J.lineWrapping||ft.widgetLineBreaks)&&(pt=wrappedLine(J,et,1,pt)),vt&&(J.lineWrapping||dt.widgetLineBreaks)&&(vt=wrappedLine(J,tt,-1,vt)),pt&&vt&&pt.from==vt.from&&pt.to==vt.to)return Ot(yt(_e.from,_e.to,pt));{let bt=pt?yt(_e.from,null,pt):wt(ft,!1),Ct=vt?yt(null,_e.to,vt):wt(dt,!0),kt=[];return(pt||ft).to<(vt||dt).from-(pt&&vt?1:0)||ft.widgetLineBreaks>1&&bt.bottom+J.defaultLineHeight/2<Ct.top?kt.push(mt(ct,bt.bottom,ut,Ct.top)):bt.bottom<Ct.top&&J.elementAtHeight((bt.bottom+Ct.top)/2).type==BlockType.Text&&(bt.bottom=Ct.top=(bt.bottom+Ct.top)/2),Ot(bt).concat(kt).concat(Ot(Ct))}function mt(bt,Ct,kt,Et){return new RectangleMarker($,bt-ot.left,Ct-ot.top,kt-bt,Et-Ct)}function Ot({top:bt,bottom:Ct,horizontal:kt}){let Et=[];for(let _t=0;_t<kt.length;_t+=2)Et.push(mt(kt[_t],bt,kt[_t+1],Ct));return Et}function yt(bt,Ct,kt){let Et=1e9,_t=-1e9,At=[];function Dt(Zt,It,Vt,$t,Tt){let Rt=J.coordsAtPos(Zt,Zt==kt.to?-2:2),Lt=J.coordsAtPos(Vt,Vt==kt.from?2:-2);!Rt||!Lt||(Et=Math.min(Rt.top,Lt.top,Et),_t=Math.max(Rt.bottom,Lt.bottom,_t),Tt==Direction.LTR?At.push(nt&&It?ct:Rt.left,nt&&$t?ut:Lt.right):At.push(!nt&&$t?ct:Lt.left,!nt&&It?ut:Rt.right))}let jt=bt??kt.from,Wt=Ct??kt.to;for(let Zt of J.visibleRanges)if(Zt.to>jt&&Zt.from<Wt)for(let It=Math.max(Zt.from,jt),Vt=Math.min(Zt.to,Wt);;){let $t=J.state.doc.lineAt(It);for(let Tt of J.bidiSpans($t)){let Rt=Tt.from+$t.from,Lt=Tt.to+$t.from;if(Rt>=Vt)break;Lt>It&&Dt(Math.max(Rt,It),bt==null&&Rt<=jt,Math.min(Lt,Vt),Ct==null&&Lt>=Wt,Tt.dir)}if(It=$t.to+1,It>=Vt)break}return At.length==0&&Dt(jt,bt==null,Wt,Ct==null,J.textDirection),{top:Et,bottom:_t,horizontal:At}}function wt(bt,Ct){let kt=it.top+(Ct?bt.top:bt.bottom);return{top:kt,bottom:kt,horizontal:[]}}}function sameMarker(J,$){return J.constructor==$.constructor&&J.eq($)}class LayerView{constructor($,_e){this.view=$,this.layer=_e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=$.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),_e.above&&this.dom.classList.add("cm-layer-above"),_e.class&&this.dom.classList.add(_e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder($.state),$.requestMeasure(this.measureReq),_e.mount&&_e.mount(this.dom,$)}update($){$.startState.facet(layerOrder)!=$.state.facet(layerOrder)&&this.setOrder($.state),(this.layer.update($,this.dom)||$.geometryChanged)&&(this.scale(),$.view.requestMeasure(this.measureReq))}docViewUpdate($){this.layer.updateOnDocViewUpdate!==!1&&$.requestMeasure(this.measureReq)}setOrder($){let _e=0,et=$.facet(layerOrder);for(;_e<et.length&&et[_e]!=this.layer;)_e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-_e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:$,scaleY:_e}=this.view;($!=this.scaleX||_e!=this.scaleY)&&(this.scaleX=$,this.scaleY=_e,this.dom.style.transform=`scale(${1/$}, ${1/_e})`)}draw($){if($.length!=this.drawn.length||$.some((_e,et)=>!sameMarker(_e,this.drawn[et]))){let _e=this.dom.firstChild,et=0;for(let tt of $)tt.update&&_e&&tt.constructor&&this.drawn[et].constructor&&tt.update(_e,this.drawn[et])?(_e=_e.nextSibling,et++):this.dom.insertBefore(tt.draw(),_e);for(;_e;){let tt=_e.nextSibling;_e.remove(),_e=tt}this.drawn=$}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(J){return[ViewPlugin.define($=>new LayerView($,J)),layerOrder.of(J)]}const CanHidePrimary=!(browser.ios&&browser.webkit&&browser.webkit_version<534),selectionConfig=Facet.define({combine(J){return combineConfig(J,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:($,_e)=>Math.min($,_e),drawRangeCursor:($,_e)=>$||_e})}});function drawSelection(J={}){return[selectionConfig.of(J),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(J){return J.startState.facet(selectionConfig)!=J.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(J){let{state:$}=J,_e=$.facet(selectionConfig),et=[];for(let tt of $.selection.ranges){let nt=tt==$.selection.main;if(tt.empty?!nt||CanHidePrimary:_e.drawRangeCursor){let rt=nt?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",it=tt.empty?tt:EditorSelection.cursor(tt.head,tt.head>tt.anchor?-1:1);for(let ot of RectangleMarker.forRange(J,rt,it))et.push(ot)}}return et},update(J,$){J.transactions.some(et=>et.selection)&&($.style.animationName=$.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let _e=configChanged(J);return _e&&setBlinkRate(J.state,$),J.docChanged||J.selectionSet||_e},mount(J,$){setBlinkRate($.state,J)},class:"cm-cursorLayer"});function setBlinkRate(J,$){$.style.animationDuration=J.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(J){return J.state.selection.ranges.map($=>$.empty?[]:RectangleMarker.forRange(J,"cm-selectionBackground",$)).reduce(($,_e)=>$.concat(_e))},update(J,$){return J.docChanged||J.selectionSet||J.viewportChanged||configChanged(J)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(J,$){return J==null?null:$.mapPos(J)}}),dropCursorPos=StateField.define({create(){return null},update(J,$){return J!=null&&(J=$.changes.mapPos(J)),$.effects.reduce((_e,et)=>et.is(setDropCursorPos)?et.value:_e,J)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(J){var $;let _e=J.state.field(dropCursorPos);_e==null?this.cursor!=null&&(($=this.cursor)===null||$===void 0||$.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(J.startState.field(dropCursorPos)!=_e||J.docChanged||J.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:J}=this,$=J.state.field(dropCursorPos),_e=$!=null&&J.coordsAtPos($);if(!_e)return null;let et=J.scrollDOM.getBoundingClientRect();return{left:_e.left-et.left+J.scrollDOM.scrollLeft*J.scaleX,top:_e.top-et.top+J.scrollDOM.scrollTop*J.scaleY,height:_e.bottom-_e.top}}drawCursor(J){if(this.cursor){let{scaleX:$,scaleY:_e}=this.view;J?(this.cursor.style.left=J.left/$+"px",this.cursor.style.top=J.top/_e+"px",this.cursor.style.height=J.height/_e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(J){this.view.state.field(dropCursorPos)!=J&&this.view.dispatch({effects:setDropCursorPos.of(J)})}},{eventObservers:{dragover(J){this.setDropPos(this.view.posAtCoords({x:J.clientX,y:J.clientY}))},dragleave(J){(J.target==this.view.contentDOM||!this.view.contentDOM.contains(J.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(J,$,_e,et,tt){$.lastIndex=0;for(let nt=J.iterRange(_e,et),rt=_e,it;!nt.next().done;rt+=nt.value.length)if(!nt.lineBreak)for(;it=$.exec(nt.value);)tt(rt+it.index,it)}function matchRanges(J,$){let _e=J.visibleRanges;if(_e.length==1&&_e[0].from==J.viewport.from&&_e[0].to==J.viewport.to)return _e;let et=[];for(let{from:tt,to:nt}of _e)tt=Math.max(J.state.doc.lineAt(tt).from,tt-$),nt=Math.min(J.state.doc.lineAt(nt).to,nt+$),et.length&&et[et.length-1].to>=tt?et[et.length-1].to=nt:et.push({from:tt,to:nt});return et}class MatchDecorator{constructor($){const{regexp:_e,decoration:et,decorate:tt,boundary:nt,maxLength:rt=1e3}=$;if(!_e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=_e,tt)this.addMatch=(it,ot,st,at)=>tt(at,st,st+it[0].length,it,ot);else if(typeof et=="function")this.addMatch=(it,ot,st,at)=>{let ct=et(it,ot,st);ct&&at(st,st+it[0].length,ct)};else if(et)this.addMatch=(it,ot,st,at)=>at(st,st+it[0].length,et);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=nt,this.maxLength=rt}createDeco($){let _e=new RangeSetBuilder,et=_e.add.bind(_e);for(let{from:tt,to:nt}of matchRanges($,this.maxLength))iterMatches($.state.doc,this.regexp,tt,nt,(rt,it)=>this.addMatch(it,$,rt,et));return _e.finish()}updateDeco($,_e){let et=1e9,tt=-1;return $.docChanged&&$.changes.iterChanges((nt,rt,it,ot)=>{ot>=$.view.viewport.from&&it<=$.view.viewport.to&&(et=Math.min(it,et),tt=Math.max(ot,tt))}),$.viewportMoved||tt-et>1e3?this.createDeco($.view):tt>-1?this.updateRange($.view,_e.map($.changes),et,tt):_e}updateRange($,_e,et,tt){for(let nt of $.visibleRanges){let rt=Math.max(nt.from,et),it=Math.min(nt.to,tt);if(it>rt){let ot=$.state.doc.lineAt(rt),st=ot.to<it?$.state.doc.lineAt(it):ot,at=Math.max(nt.from,ot.from),ct=Math.min(nt.to,st.to);if(this.boundary){for(;rt>ot.from;rt--)if(this.boundary.test(ot.text[rt-1-ot.from])){at=rt;break}for(;it<st.to;it++)if(this.boundary.test(st.text[it-st.from])){ct=it;break}}let ut=[],ft,dt=(pt,vt,mt)=>ut.push(mt.range(pt,vt));if(ot==st)for(this.regexp.lastIndex=at-ot.from;(ft=this.regexp.exec(ot.text))&&ft.index<ct-ot.from;)this.addMatch(ft,$,ft.index+ot.from,dt);else iterMatches($.state.doc,this.regexp,at,ct,(pt,vt)=>this.addMatch(vt,$,pt,dt));_e=_e.update({filterFrom:at,filterTo:ct,filter:(pt,vt)=>pt<at||vt>ct,add:ut})}}return _e}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var J;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let $=document.body.style;_supportsTabSize=((J=$.tabSize)!==null&&J!==void 0?J:$.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(J){let $=combineConfig(J,{render:null,specialChars:Specials,addSpecialChars:null});return($.replaceTabs=!supportsTabSize())&&($.specialChars=new RegExp("	|"+$.specialChars.source,UnicodeRegexpSupport)),$.addSpecialChars&&($.specialChars=new RegExp($.specialChars.source+"|"+$.addSpecialChars.source,UnicodeRegexpSupport)),$}});function highlightSpecialChars(J={}){return[specialCharConfig.of(J),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(J.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(J)}makeDecorator(J){return new MatchDecorator({regexp:J.specialChars,decoration:($,_e,et)=>{let{doc:tt}=_e.state,nt=codePointAt($[0],0);if(nt==9){let rt=tt.lineAt(et),it=_e.state.tabSize,ot=countColumn(rt.text,it,et-rt.from);return Decoration.replace({widget:new TabWidget((it-ot%it)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[nt]||(this.decorationCache[nt]=Decoration.replace({widget:new SpecialCharWidget(J,nt)}))},boundary:J.replaceTabs?void 0:/[^]/})}update(J){let $=J.state.facet(specialCharConfig);J.startState.facet(specialCharConfig)!=$?(this.decorator=this.makeDecorator($),this.decorations=this.decorator.createDeco(J.view)):this.decorations=this.decorator.updateDeco(J,this.decorations)}},{decorations:J=>J.decorations}))}const DefaultPlaceholder="";function placeholder$1(J){return J>=32?DefaultPlaceholder:J==10?"":String.fromCharCode(9216+J)}class SpecialCharWidget extends WidgetType{constructor($,_e){super(),this.options=$,this.code=_e}eq($){return $.code==this.code}toDOM($){let _e=placeholder$1(this.code),et=$.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),tt=this.options.render&&this.options.render(this.code,et,_e);if(tt)return tt;let nt=document.createElement("span");return nt.textContent=_e,nt.title=et,nt.setAttribute("aria-label",et),nt.className="cm-specialChar",nt}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor($){super(),this.width=$}eq($){return $.width==this.width}toDOM(){let $=document.createElement("span");return $.textContent="	",$.className="cm-tab",$.style.width=this.width+"px",$}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){(J.docChanged||J.selectionSet)&&(this.decorations=this.getDeco(J.view))}getDeco(J){let $=-1,_e=[];for(let et of J.state.selection.ranges){let tt=J.lineBlockAt(et.head);tt.from>$&&(_e.push(lineDeco.range(tt.from)),$=tt.from)}return Decoration.set(_e)}},{decorations:J=>J.decorations});class Placeholder extends WidgetType{constructor($){super(),this.content=$}toDOM($){let _e=document.createElement("span");return _e.className="cm-placeholder",_e.style.pointerEvents="none",_e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content($):this.content.cloneNode(!0)),typeof this.content=="string"?_e.setAttribute("aria-label","placeholder "+this.content):_e.setAttribute("aria-hidden","true"),_e}coordsAt($){let _e=$.firstChild?clientRectsFor($.firstChild):[];if(!_e.length)return null;let et=window.getComputedStyle($.parentNode),tt=flattenRect(_e[0],et.direction!="rtl"),nt=parseInt(et.lineHeight);return tt.bottom-tt.top>nt*1.5?{left:tt.left,right:tt.right,top:tt.top,bottom:tt.top+nt}:tt}ignoreEvent(){return!1}}function placeholder(J){return ViewPlugin.fromClass(class{constructor($){this.view=$,this.placeholder=J?Decoration.set([Decoration.widget({widget:new Placeholder(J),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:$=>$.decorations})}const MaxOff=2e3;function rectangleFor(J,$,_e){let et=Math.min($.line,_e.line),tt=Math.max($.line,_e.line),nt=[];if($.off>MaxOff||_e.off>MaxOff||$.col<0||_e.col<0){let rt=Math.min($.off,_e.off),it=Math.max($.off,_e.off);for(let ot=et;ot<=tt;ot++){let st=J.doc.line(ot);st.length<=it&&nt.push(EditorSelection.range(st.from+rt,st.to+it))}}else{let rt=Math.min($.col,_e.col),it=Math.max($.col,_e.col);for(let ot=et;ot<=tt;ot++){let st=J.doc.line(ot),at=findColumn(st.text,rt,J.tabSize,!0);if(at<0)nt.push(EditorSelection.cursor(st.to));else{let ct=findColumn(st.text,it,J.tabSize);nt.push(EditorSelection.range(st.from+at,st.from+ct))}}}return nt}function absoluteColumn(J,$){let _e=J.coordsAtPos(J.viewport.from);return _e?Math.round(Math.abs((_e.left-$)/J.defaultCharacterWidth)):-1}function getPos(J,$){let _e=J.posAtCoords({x:$.clientX,y:$.clientY},!1),et=J.state.doc.lineAt(_e),tt=_e-et.from,nt=tt>MaxOff?-1:tt==et.length?absoluteColumn(J,$.clientX):countColumn(et.text,J.state.tabSize,_e-et.from);return{line:et.number,col:nt,off:tt}}function rectangleSelectionStyle(J,$){let _e=getPos(J,$),et=J.state.selection;return _e?{update(tt){if(tt.docChanged){let nt=tt.changes.mapPos(tt.startState.doc.line(_e.line).from),rt=tt.state.doc.lineAt(nt);_e={line:rt.number,col:_e.col,off:Math.min(_e.off,rt.length)},et=et.map(tt.changes)}},get(tt,nt,rt){let it=getPos(J,tt);if(!it)return et;let ot=rectangleFor(J.state,_e,it);return ot.length?rt?EditorSelection.create(ot.concat(et.ranges)):EditorSelection.create(ot):et}}:null}function rectangularSelection(J){let $=_e=>_e.altKey&&_e.button==0;return EditorView.mouseSelectionStyle.of((_e,et)=>$(et)?rectangleSelectionStyle(_e,et):null)}const keys={Alt:[18,J=>!!J.altKey],Control:[17,J=>!!J.ctrlKey],Shift:[16,J=>!!J.shiftKey],Meta:[91,J=>!!J.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(J={}){let[$,_e]=keys[J.key||"Alt"],et=ViewPlugin.fromClass(class{constructor(tt){this.view=tt,this.isDown=!1}set(tt){this.isDown!=tt&&(this.isDown=tt,this.view.update([]))}},{eventObservers:{keydown(tt){this.set(tt.keyCode==$||_e(tt))},keyup(tt){(tt.keyCode==$||!_e(tt))&&this.set(!1)},mousemove(tt){this.set(_e(tt))}}});return[et,EditorView.contentAttributes.of(tt=>{var nt;return!((nt=tt.plugin(et))===null||nt===void 0)&&nt.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor($,_e,et,tt){this.facet=_e,this.createTooltipView=et,this.removeTooltipView=tt,this.input=$.state.facet(_e),this.tooltips=this.input.filter(rt=>rt);let nt=null;this.tooltipViews=this.tooltips.map(rt=>nt=et(rt,nt))}update($,_e){var et;let tt=$.state.facet(this.facet),nt=tt.filter(ot=>ot);if(tt===this.input){for(let ot of this.tooltipViews)ot.update&&ot.update($);return!1}let rt=[],it=_e?[]:null;for(let ot=0;ot<nt.length;ot++){let st=nt[ot],at=-1;if(st){for(let ct=0;ct<this.tooltips.length;ct++){let ut=this.tooltips[ct];ut&&ut.create==st.create&&(at=ct)}if(at<0)rt[ot]=this.createTooltipView(st,ot?rt[ot-1]:null),it&&(it[ot]=!!st.above);else{let ct=rt[ot]=this.tooltipViews[at];it&&(it[ot]=_e[at]),ct.update&&ct.update($)}}}for(let ot of this.tooltipViews)rt.indexOf(ot)<0&&(this.removeTooltipView(ot),(et=ot.destroy)===null||et===void 0||et.call(ot));return _e&&(it.forEach((ot,st)=>_e[st]=ot),_e.length=it.length),this.input=tt,this.tooltips=nt,this.tooltipViews=rt,!0}}function windowSpace(J){let $=J.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:$.clientHeight,right:$.clientWidth}}const tooltipConfig=Facet.define({combine:J=>{var $,_e,et;return{position:browser.ios?"absolute":(($=J.find(tt=>tt.position))===null||$===void 0?void 0:$.position)||"fixed",parent:((_e=J.find(tt=>tt.parent))===null||_e===void 0?void 0:_e.parent)||null,tooltipSpace:((et=J.find(tt=>tt.tooltipSpace))===null||et===void 0?void 0:et.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let $=J.state.facet(tooltipConfig);this.position=$.position,this.parent=$.parent,this.classes=J.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(J,showTooltip,(_e,et)=>this.createTooltip(_e,et),_e=>{this.resizeObserver&&this.resizeObserver.unobserve(_e.dom),_e.dom.remove()}),this.above=this.manager.tooltips.map(_e=>!!_e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(_e=>{Date.now()>this.lastTransaction-50&&_e.length>0&&_e[_e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),J.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let J of this.manager.tooltipViews)this.intersectionObserver.observe(J.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(J){J.transactions.length&&(this.lastTransaction=Date.now());let $=this.manager.update(J,this.above);$&&this.observeIntersection();let _e=$||J.geometryChanged,et=J.state.facet(tooltipConfig);if(et.position!=this.position&&!this.madeAbsolute){this.position=et.position;for(let tt of this.manager.tooltipViews)tt.dom.style.position=this.position;_e=!0}if(et.parent!=this.parent){this.parent&&this.container.remove(),this.parent=et.parent,this.createContainer();for(let tt of this.manager.tooltipViews)this.container.appendChild(tt.dom);_e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);_e&&this.maybeMeasure()}createTooltip(J,$){let _e=J.create(this.view),et=$?$.dom:null;if(_e.dom.classList.add("cm-tooltip"),J.arrow&&!_e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let tt=document.createElement("div");tt.className="cm-tooltip-arrow",_e.dom.appendChild(tt)}return _e.dom.style.position=this.position,_e.dom.style.top=Outside,_e.dom.style.left="0px",this.container.insertBefore(_e.dom,et),_e.mount&&_e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(_e.dom),_e}destroy(){var J,$,_e;this.view.win.removeEventListener("resize",this.measureSoon);for(let et of this.manager.tooltipViews)et.dom.remove(),(J=et.destroy)===null||J===void 0||J.call(et);this.parent&&this.container.remove(),($=this.resizeObserver)===null||$===void 0||$.disconnect(),(_e=this.intersectionObserver)===null||_e===void 0||_e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let J=1,$=1,_e=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:nt}=this.manager.tooltipViews[0];if(browser.gecko)_e=nt.offsetParent!=this.container.ownerDocument.body;else if(nt.style.top==Outside&&nt.style.left=="0px"){let rt=nt.getBoundingClientRect();_e=Math.abs(rt.top+1e4)>1||Math.abs(rt.left)>1}}if(_e||this.position=="absolute")if(this.parent){let nt=this.parent.getBoundingClientRect();nt.width&&nt.height&&(J=nt.width/this.parent.offsetWidth,$=nt.height/this.parent.offsetHeight)}else({scaleX:J,scaleY:$}=this.view.viewState);let et=this.view.scrollDOM.getBoundingClientRect(),tt=getScrollMargins(this.view);return{visible:{left:et.left+tt.left,top:et.top+tt.top,right:et.right-tt.right,bottom:et.bottom-tt.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((nt,rt)=>{let it=this.manager.tooltipViews[rt];return it.getCoords?it.getCoords(nt.pos):this.view.coordsAtPos(nt.pos)}),size:this.manager.tooltipViews.map(({dom:nt})=>nt.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:J,scaleY:$,makeAbsolute:_e}}writeMeasure(J){var $;if(J.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let it of this.manager.tooltipViews)it.dom.style.position="absolute"}let{visible:_e,space:et,scaleX:tt,scaleY:nt}=J,rt=[];for(let it=0;it<this.manager.tooltips.length;it++){let ot=this.manager.tooltips[it],st=this.manager.tooltipViews[it],{dom:at}=st,ct=J.pos[it],ut=J.size[it];if(!ct||ot.clip!==!1&&(ct.bottom<=Math.max(_e.top,et.top)||ct.top>=Math.min(_e.bottom,et.bottom)||ct.right<Math.max(_e.left,et.left)-.1||ct.left>Math.min(_e.right,et.right)+.1)){at.style.top=Outside;continue}let ft=ot.arrow?st.dom.querySelector(".cm-tooltip-arrow"):null,dt=ft?7:0,pt=ut.right-ut.left,vt=($=knownHeight.get(st))!==null&&$!==void 0?$:ut.bottom-ut.top,mt=st.offset||noOffset,Ot=this.view.textDirection==Direction.LTR,yt=ut.width>et.right-et.left?Ot?et.left:et.right-ut.width:Ot?Math.max(et.left,Math.min(ct.left-(ft?14:0)+mt.x,et.right-pt)):Math.min(Math.max(et.left,ct.left-pt+(ft?14:0)-mt.x),et.right-pt),wt=this.above[it];!ot.strictSide&&(wt?ct.top-vt-dt-mt.y<et.top:ct.bottom+vt+dt+mt.y>et.bottom)&&wt==et.bottom-ct.bottom>ct.top-et.top&&(wt=this.above[it]=!wt);let bt=(wt?ct.top-et.top:et.bottom-ct.bottom)-dt;if(bt<vt&&st.resize!==!1){if(bt<this.view.defaultLineHeight){at.style.top=Outside;continue}knownHeight.set(st,vt),at.style.height=(vt=bt)/nt+"px"}else at.style.height&&(at.style.height="");let Ct=wt?ct.top-vt-dt-mt.y:ct.bottom+dt+mt.y,kt=yt+pt;if(st.overlap!==!0)for(let Et of rt)Et.left<kt&&Et.right>yt&&Et.top<Ct+vt&&Et.bottom>Ct&&(Ct=wt?Et.top-vt-2-dt:Et.bottom+dt+2);if(this.position=="absolute"?(at.style.top=(Ct-J.parent.top)/nt+"px",setLeftStyle(at,(yt-J.parent.left)/tt)):(at.style.top=Ct/nt+"px",setLeftStyle(at,yt/tt)),ft){let Et=ct.left+(Ot?mt.x:-mt.x)-(yt+14-7);ft.style.left=Et/tt+"px"}st.overlap!==!0&&rt.push({left:yt,top:Ct,right:kt,bottom:Ct+vt}),at.classList.toggle("cm-tooltip-above",wt),at.classList.toggle("cm-tooltip-below",!wt),st.positioned&&st.positioned(J.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let J of this.manager.tooltipViews)J.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(J,$){let _e=parseInt(J.style.left,10);(isNaN(_e)||Math.abs($-_e)>1)&&(J.style.left=$+"px")}const baseTheme$5=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$5]}),showHoverTooltip=Facet.define({combine:J=>J.reduce(($,_e)=>$.concat(_e),[])});class HoverTooltipHost{static create($){return new HoverTooltipHost($)}constructor($){this.view=$,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager($,showHoverTooltip,(_e,et)=>this.createHostedView(_e,et),_e=>_e.dom.remove())}createHostedView($,_e){let et=$.create(this.view);return et.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(et.dom,_e?_e.dom.nextSibling:this.dom.firstChild),this.mounted&&et.mount&&et.mount(this.view),et}mount($){for(let _e of this.manager.tooltipViews)_e.mount&&_e.mount($);this.mounted=!0}positioned($){for(let _e of this.manager.tooltipViews)_e.positioned&&_e.positioned($)}update($){this.manager.update($)}destroy(){var $;for(let _e of this.manager.tooltipViews)($=_e.destroy)===null||$===void 0||$.call(_e)}passProp($){let _e;for(let et of this.manager.tooltipViews){let tt=et[$];if(tt!==void 0){if(_e===void 0)_e=tt;else if(_e!==tt)return}}return _e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],J=>{let $=J.facet(showHoverTooltip);return $.length===0?null:{pos:Math.min(...$.map(_e=>_e.pos)),end:Math.max(...$.map(_e=>{var et;return(et=_e.end)!==null&&et!==void 0?et:_e.pos})),create:HoverTooltipHost.create,above:$[0].above,arrow:$.some(_e=>_e.arrow)}});class HoverPlugin{constructor($,_e,et,tt,nt){this.view=$,this.source=_e,this.field=et,this.setHover=tt,this.hoverTime=nt,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:$.dom,time:0},this.checkHover=this.checkHover.bind(this),$.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),$.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let $=Date.now()-this.lastMove.time;$<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-$):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:$,lastMove:_e}=this,et=$.docView.nearest(_e.target);if(!et)return;let tt,nt=1;if(et instanceof WidgetView)tt=et.posAtStart;else{if(tt=$.posAtCoords(_e),tt==null)return;let it=$.coordsAtPos(tt);if(!it||_e.y<it.top||_e.y>it.bottom||_e.x<it.left-$.defaultCharacterWidth||_e.x>it.right+$.defaultCharacterWidth)return;let ot=$.bidiSpans($.state.doc.lineAt(tt)).find(at=>at.from<=tt&&at.to>=tt),st=ot&&ot.dir==Direction.RTL?-1:1;nt=_e.x<it.left?-st:st}let rt=this.source($,tt,nt);if(rt!=null&&rt.then){let it=this.pending={pos:tt};rt.then(ot=>{this.pending==it&&(this.pending=null,ot&&!(Array.isArray(ot)&&!ot.length)&&$.dispatch({effects:this.setHover.of(Array.isArray(ot)?ot:[ot])}))},ot=>logException($.state,ot,"hover tooltip"))}else rt&&!(Array.isArray(rt)&&!rt.length)&&$.dispatch({effects:this.setHover.of(Array.isArray(rt)?rt:[rt])})}get tooltip(){let $=this.view.plugin(tooltipPlugin),_e=$?$.manager.tooltips.findIndex(et=>et.create==HoverTooltipHost.create):-1;return _e>-1?$.manager.tooltipViews[_e]:null}mousemove($){var _e,et;this.lastMove={x:$.clientX,y:$.clientY,target:$.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:tt,tooltip:nt}=this;if(tt.length&&nt&&!isInTooltip(nt.dom,$)||this.pending){let{pos:rt}=tt[0]||this.pending,it=(et=(_e=tt[0])===null||_e===void 0?void 0:_e.end)!==null&&et!==void 0?et:rt;(rt==it?this.view.posAtCoords(this.lastMove)!=rt:!isOverRange(this.view,rt,it,$.clientX,$.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave($){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:_e}=this;if(_e.length){let{tooltip:et}=this;et&&et.dom.contains($.relatedTarget)?this.watchTooltipLeave(et.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave($){let _e=et=>{$.removeEventListener("mouseleave",_e),this.active.length&&!this.view.dom.contains(et.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};$.addEventListener("mouseleave",_e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(J,$){let{left:_e,right:et,top:tt,bottom:nt}=J.getBoundingClientRect(),rt;if(rt=J.querySelector(".cm-tooltip-arrow")){let it=rt.getBoundingClientRect();tt=Math.min(it.top,tt),nt=Math.max(it.bottom,nt)}return $.clientX>=_e-tooltipMargin&&$.clientX<=et+tooltipMargin&&$.clientY>=tt-tooltipMargin&&$.clientY<=nt+tooltipMargin}function isOverRange(J,$,_e,et,tt,nt){let rt=J.scrollDOM.getBoundingClientRect(),it=J.documentTop+J.documentPadding.top+J.contentHeight;if(rt.left>et||rt.right<et||rt.top>tt||Math.min(rt.bottom,it)<tt)return!1;let ot=J.posAtCoords({x:et,y:tt},!1);return ot>=$&&ot<=_e}function hoverTooltip(J,$={}){let _e=StateEffect.define(),et=StateField.define({create(){return[]},update(tt,nt){if(tt.length&&($.hideOnChange&&(nt.docChanged||nt.selection)?tt=[]:$.hideOn&&(tt=tt.filter(rt=>!$.hideOn(nt,rt))),nt.docChanged)){let rt=[];for(let it of tt){let ot=nt.changes.mapPos(it.pos,-1,MapMode.TrackDel);if(ot!=null){let st=Object.assign(Object.create(null),it);st.pos=ot,st.end!=null&&(st.end=nt.changes.mapPos(st.end)),rt.push(st)}}tt=rt}for(let rt of nt.effects)rt.is(_e)&&(tt=rt.value),rt.is(closeHoverTooltipEffect)&&(tt=[]);return tt},provide:tt=>showHoverTooltip.from(tt)});return{active:et,extension:[et,ViewPlugin.define(tt=>new HoverPlugin(tt,J,et,_e,$.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(J,$){let _e=J.plugin(tooltipPlugin);if(!_e)return null;let et=_e.manager.tooltips.indexOf($);return et<0?null:_e.manager.tooltipViews[et]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(J){let $,_e;for(let et of J)$=$||et.topContainer,_e=_e||et.bottomContainer;return{topContainer:$,bottomContainer:_e}}});function getPanel(J,$){let _e=J.plugin(panelPlugin),et=_e?_e.specs.indexOf($):-1;return et>-1?_e.panels[et]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(J){this.input=J.state.facet(showPanel),this.specs=this.input.filter(_e=>_e),this.panels=this.specs.map(_e=>_e(J));let $=J.state.facet(panelConfig);this.top=new PanelGroup(J,!0,$.topContainer),this.bottom=new PanelGroup(J,!1,$.bottomContainer),this.top.sync(this.panels.filter(_e=>_e.top)),this.bottom.sync(this.panels.filter(_e=>!_e.top));for(let _e of this.panels)_e.dom.classList.add("cm-panel"),_e.mount&&_e.mount()}update(J){let $=J.state.facet(panelConfig);this.top.container!=$.topContainer&&(this.top.sync([]),this.top=new PanelGroup(J.view,!0,$.topContainer)),this.bottom.container!=$.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(J.view,!1,$.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let _e=J.state.facet(showPanel);if(_e!=this.input){let et=_e.filter(ot=>ot),tt=[],nt=[],rt=[],it=[];for(let ot of et){let st=this.specs.indexOf(ot),at;st<0?(at=ot(J.view),it.push(at)):(at=this.panels[st],at.update&&at.update(J)),tt.push(at),(at.top?nt:rt).push(at)}this.specs=et,this.panels=tt,this.top.sync(nt),this.bottom.sync(rt);for(let ot of it)ot.dom.classList.add("cm-panel"),ot.mount&&ot.mount()}else for(let et of this.panels)et.update&&et.update(J)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:J=>EditorView.scrollMargins.of($=>{let _e=$.plugin(J);return _e&&{top:_e.top.scrollMargin(),bottom:_e.bottom.scrollMargin()}})});class PanelGroup{constructor($,_e,et){this.view=$,this.top=_e,this.container=et,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync($){for(let _e of this.panels)_e.destroy&&$.indexOf(_e)<0&&_e.destroy();this.panels=$,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let _e=this.container||this.view.dom;_e.insertBefore(this.dom,this.top?_e.firstChild:null)}let $=this.dom.firstChild;for(let _e of this.panels)if(_e.dom.parentNode==this.dom){for(;$!=_e.dom;)$=rm($);$=$.nextSibling}else this.dom.insertBefore(_e.dom,$);for(;$;)$=rm($)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let $ of this.classes.split(" "))$&&this.container.classList.remove($);for(let $ of(this.classes=this.view.themeClasses).split(" "))$&&this.container.classList.add($)}}}function rm(J){let $=J.nextSibling;return J.remove(),$}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare($){return this==$||this.constructor==$.constructor&&this.eq($)}eq($){return!1}destroy($){}}GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=MapMode.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(J){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),J))]}const unfixGutters=Facet.define({combine:J=>J.some($=>$)});function gutters(J){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.prevViewport=J.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=J.state.facet(activeGutters).map($=>new SingleGutterView(J,$));for(let $ of this.gutters)this.dom.appendChild($.dom);this.fixed=!J.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),J.scrollDOM.insertBefore(this.dom,J.contentDOM)}update(J){if(this.updateGutters(J)){let $=this.prevViewport,_e=J.view.viewport,et=Math.min($.to,_e.to)-Math.max($.from,_e.from);this.syncGutters(et<(_e.to-_e.from)*.8)}J.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=J.view.viewport}syncGutters(J){let $=this.dom.nextSibling;J&&this.dom.remove();let _e=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),et=[],tt=this.gutters.map(nt=>new UpdateContext(nt,this.view.viewport,-this.view.documentPadding.top));for(let nt of this.view.viewportLineBlocks)if(et.length&&(et=[]),Array.isArray(nt.type)){let rt=!0;for(let it of nt.type)if(it.type==BlockType.Text&&rt){advanceCursor(_e,et,it.from);for(let ot of tt)ot.line(this.view,it,et);rt=!1}else if(it.widget)for(let ot of tt)ot.widget(this.view,it)}else if(nt.type==BlockType.Text){advanceCursor(_e,et,nt.from);for(let rt of tt)rt.line(this.view,nt,et)}else if(nt.widget)for(let rt of tt)rt.widget(this.view,nt);for(let nt of tt)nt.finish();J&&this.view.scrollDOM.insertBefore(this.dom,$)}updateGutters(J){let $=J.startState.facet(activeGutters),_e=J.state.facet(activeGutters),et=J.docChanged||J.heightChanged||J.viewportChanged||!RangeSet.eq(J.startState.facet(gutterLineClass),J.state.facet(gutterLineClass),J.view.viewport.from,J.view.viewport.to);if($==_e)for(let tt of this.gutters)tt.update(J)&&(et=!0);else{et=!0;let tt=[];for(let nt of _e){let rt=$.indexOf(nt);rt<0?tt.push(new SingleGutterView(this.view,nt)):(this.gutters[rt].update(J),tt.push(this.gutters[rt]))}for(let nt of this.gutters)nt.dom.remove(),tt.indexOf(nt)<0&&nt.destroy();for(let nt of tt)this.dom.appendChild(nt.dom);this.gutters=tt}return et}destroy(){for(let J of this.gutters)J.destroy();this.dom.remove()}},{provide:J=>EditorView.scrollMargins.of($=>{let _e=$.plugin(J);return!_e||_e.gutters.length==0||!_e.fixed?null:$.textDirection==Direction.LTR?{left:_e.dom.offsetWidth*$.scaleX}:{right:_e.dom.offsetWidth*$.scaleX}})});function asArray(J){return Array.isArray(J)?J:[J]}function advanceCursor(J,$,_e){for(;J.value&&J.from<=_e;)J.from==_e&&$.push(J.value),J.next()}class UpdateContext{constructor($,_e,et){this.gutter=$,this.height=et,this.i=0,this.cursor=RangeSet.iter($.markers,_e.from)}addElement($,_e,et){let{gutter:tt}=this,nt=(_e.top-this.height)/$.scaleY,rt=_e.height/$.scaleY;if(this.i==tt.elements.length){let it=new GutterElement($,rt,nt,et);tt.elements.push(it),tt.dom.appendChild(it.dom)}else tt.elements[this.i].update($,rt,nt,et);this.height=_e.bottom,this.i++}line($,_e,et){let tt=[];advanceCursor(this.cursor,tt,_e.from),et.length&&(tt=tt.concat(et));let nt=this.gutter.config.lineMarker($,_e,tt);nt&&tt.unshift(nt);let rt=this.gutter;tt.length==0&&!rt.config.renderEmptyElements||this.addElement($,_e,tt)}widget($,_e){let et=this.gutter.config.widgetMarker($,_e.widget,_e),tt=et?[et]:null;for(let nt of $.state.facet(gutterWidgetClass)){let rt=nt($,_e.widget,_e);rt&&(tt||(tt=[])).push(rt)}tt&&this.addElement($,_e,tt)}finish(){let $=this.gutter;for(;$.elements.length>this.i;){let _e=$.elements.pop();$.dom.removeChild(_e.dom),_e.destroy()}}}class SingleGutterView{constructor($,_e){this.view=$,this.config=_e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let et in _e.domEventHandlers)this.dom.addEventListener(et,tt=>{let nt=tt.target,rt;if(nt!=this.dom&&this.dom.contains(nt)){for(;nt.parentNode!=this.dom;)nt=nt.parentNode;let ot=nt.getBoundingClientRect();rt=(ot.top+ot.bottom)/2}else rt=tt.clientY;let it=$.lineBlockAtHeight(rt-$.documentTop);_e.domEventHandlers[et]($,it,tt)&&tt.preventDefault()});this.markers=asArray(_e.markers($)),_e.initialSpacer&&(this.spacer=new GutterElement($,0,0,[_e.initialSpacer($)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update($){let _e=this.markers;if(this.markers=asArray(this.config.markers($.view)),this.spacer&&this.config.updateSpacer){let tt=this.config.updateSpacer(this.spacer.markers[0],$);tt!=this.spacer.markers[0]&&this.spacer.update($.view,0,0,[tt])}let et=$.view.viewport;return!RangeSet.eq(this.markers,_e,et.from,et.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange($):!1)}destroy(){for(let $ of this.elements)$.destroy()}}class GutterElement{constructor($,_e,et,tt){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update($,_e,et,tt)}update($,_e,et,tt){this.height!=_e&&(this.height=_e,this.dom.style.height=_e+"px"),this.above!=et&&(this.dom.style.marginTop=(this.above=et)?et+"px":""),sameMarkers(this.markers,tt)||this.setMarkers($,tt)}setMarkers($,_e){let et="cm-gutterElement",tt=this.dom.firstChild;for(let nt=0,rt=0;;){let it=rt,ot=nt<_e.length?_e[nt++]:null,st=!1;if(ot){let at=ot.elementClass;at&&(et+=" "+at);for(let ct=rt;ct<this.markers.length;ct++)if(this.markers[ct].compare(ot)){it=ct,st=!0;break}}else it=this.markers.length;for(;rt<it;){let at=this.markers[rt++];if(at.toDOM){at.destroy(tt);let ct=tt.nextSibling;tt.remove(),tt=ct}}if(!ot)break;ot.toDOM&&(st?tt=tt.nextSibling:this.dom.insertBefore(ot.toDOM($),tt)),st&&rt++}this.dom.className=et,this.markers=_e}destroy(){this.setMarkers(null,[])}}function sameMarkers(J,$){if(J.length!=$.length)return!1;for(let _e=0;_e<J.length;_e++)if(!J[_e].compare($[_e]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(J){return combineConfig(J,{formatNumber:String,domEventHandlers:{}},{domEventHandlers($,_e){let et=Object.assign({},$);for(let tt in _e){let nt=et[tt],rt=_e[tt];et[tt]=nt?(it,ot,st)=>nt(it,ot,st)||rt(it,ot,st):rt}return et}})}});class NumberMarker extends GutterMarker{constructor($){super(),this.number=$}eq($){return this.number==$.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(J,$){return J.state.facet(lineNumberConfig).formatNumber($,J.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],J=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers($){return $.state.facet(lineNumberMarkers)},lineMarker($,_e,et){return et.some(tt=>tt.toDOM)?null:new NumberMarker(formatNumber($,$.state.doc.lineAt(_e.from).number))},widgetMarker:($,_e,et)=>{for(let tt of $.state.facet(lineNumberWidgetMarker)){let nt=tt($,_e,et);if(nt)return nt}return null},lineMarkerChange:$=>$.startState.facet(lineNumberConfig)!=$.state.facet(lineNumberConfig),initialSpacer($){return new NumberMarker(formatNumber($,maxLineNumber($.state.doc.lines)))},updateSpacer($,_e){let et=formatNumber(_e.view,maxLineNumber(_e.view.state.doc.lines));return et==$.number?$:new NumberMarker(et)},domEventHandlers:J.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(J={}){return[lineNumberConfig.of(J),gutters(),lineNumberGutter]}function maxLineNumber(J){let $=9;for(;$<J;)$=$*10+9;return $}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],J=>{let $=[],_e=-1;for(let et of J.selection.ranges){let tt=J.doc.lineAt(et.head).from;tt>_e&&(_e=tt,$.push(activeLineGutterMarker.range(tt)))}return RangeSet.of($)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(J){return Facet.define({combine:J?$=>$.concat(J):void 0})}const sublanguageProp=new NodeProp;class Language{constructor($,_e,et=[],tt=""){this.data=$,this.name=tt,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=_e,this.extension=[language.of(this),EditorState.languageData.of((nt,rt,it)=>{let ot=topNodeAt(nt,rt,it),st=ot.type.prop(languageDataProp);if(!st)return[];let at=nt.facet(st),ct=ot.type.prop(sublanguageProp);if(ct){let ut=ot.resolve(rt-ot.from,it);for(let ft of ct)if(ft.test(ut,nt)){let dt=nt.facet(ft.facet);return ft.type=="replace"?dt:dt.concat(at)}}return at})].concat(et)}isActiveAt($,_e,et=-1){return topNodeAt($,_e,et).type.prop(languageDataProp)==this.data}findRegions($){let _e=$.facet(language);if((_e==null?void 0:_e.data)==this.data)return[{from:0,to:$.doc.length}];if(!_e||!_e.allowsNesting)return[];let et=[],tt=(nt,rt)=>{if(nt.prop(languageDataProp)==this.data){et.push({from:rt,to:rt+nt.length});return}let it=nt.prop(NodeProp.mounted);if(it){if(it.tree.prop(languageDataProp)==this.data){if(it.overlay)for(let ot of it.overlay)et.push({from:ot.from+rt,to:ot.to+rt});else et.push({from:rt,to:rt+nt.length});return}else if(it.overlay){let ot=et.length;if(tt(it.tree,it.overlay[0].from+rt),et.length>ot)return}}for(let ot=0;ot<nt.children.length;ot++){let st=nt.children[ot];st instanceof Tree&&tt(st,nt.positions[ot]+rt)}};return tt(syntaxTree($),0),et}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(J,$,_e){let et=J.facet(language),tt=syntaxTree(J).topNode;if(!et||et.allowsNesting)for(let nt=tt;nt;nt=nt.enter($,_e,IterMode.ExcludeBuffers))nt.type.isTop&&(tt=nt);return tt}class LRLanguage extends Language{constructor($,_e,et){super($,_e,[],et),this.parser=_e}static define($){let _e=defineLanguageFacet($.languageData);return new LRLanguage(_e,$.parser.configure({props:[languageDataProp.add(et=>et.isTop?_e:void 0)]}),$.name)}configure($,_e){return new LRLanguage(this.data,this.parser.configure($),_e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(J){let $=J.field(Language.state,!1);return $?$.tree:Tree.empty}class DocInput{constructor($){this.doc=$,this.cursorPos=0,this.string="",this.cursor=$.iter()}get length(){return this.doc.length}syncTo($){return this.string=this.cursor.next($-this.cursorPos).value,this.cursorPos=$+this.string.length,this.cursorPos-this.string.length}chunk($){return this.syncTo($),this.string}get lineChunks(){return!0}read($,_e){let et=this.cursorPos-this.string.length;return $<et||_e>=this.cursorPos?this.doc.sliceString($,_e):this.string.slice($-et,_e-et)}}let currentContext=null;class ParseContext{constructor($,_e,et=[],tt,nt,rt,it,ot){this.parser=$,this.state=_e,this.fragments=et,this.tree=tt,this.treeLen=nt,this.viewport=rt,this.skipped=it,this.scheduleOn=ot,this.parse=null,this.tempSkipped=[]}static create($,_e,et){return new ParseContext($,_e,[],Tree.empty,0,et,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work($,_e){return _e!=null&&_e>=this.state.doc.length&&(_e=void 0),this.tree!=Tree.empty&&this.isDone(_e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var et;if(typeof $=="number"){let tt=Date.now()+$;$=()=>Date.now()>tt}for(this.parse||(this.parse=this.startParse()),_e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>_e)&&_e<this.state.doc.length&&this.parse.stopAt(_e);;){let tt=this.parse.advance();if(tt)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(tt,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(et=this.parse.stoppedAt)!==null&&et!==void 0?et:this.state.doc.length,this.tree=tt,this.parse=null,this.treeLen<(_e??this.state.doc.length))this.parse=this.startParse();else return!0;if($())return!1}})}takeTree(){let $,_e;this.parse&&($=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>$)&&this.parse.stopAt($),this.withContext(()=>{for(;!(_e=this.parse.advance()););}),this.treeLen=$,this.tree=_e,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext($){let _e=currentContext;currentContext=this;try{return $()}finally{currentContext=_e}}withoutTempSkipped($){for(let _e;_e=this.tempSkipped.pop();)$=cutFragments($,_e.from,_e.to);return $}changes($,_e){let{fragments:et,tree:tt,treeLen:nt,viewport:rt,skipped:it}=this;if(this.takeTree(),!$.empty){let ot=[];if($.iterChangedRanges((st,at,ct,ut)=>ot.push({fromA:st,toA:at,fromB:ct,toB:ut})),et=TreeFragment.applyChanges(et,ot),tt=Tree.empty,nt=0,rt={from:$.mapPos(rt.from,-1),to:$.mapPos(rt.to,1)},this.skipped.length){it=[];for(let st of this.skipped){let at=$.mapPos(st.from,1),ct=$.mapPos(st.to,-1);at<ct&&it.push({from:at,to:ct})}}}return new ParseContext(this.parser,_e,et,tt,nt,rt,it,this.scheduleOn)}updateViewport($){if(this.viewport.from==$.from&&this.viewport.to==$.to)return!1;this.viewport=$;let _e=this.skipped.length;for(let et=0;et<this.skipped.length;et++){let{from:tt,to:nt}=this.skipped[et];tt<$.to&&nt>$.from&&(this.fragments=cutFragments(this.fragments,tt,nt),this.skipped.splice(et--,1))}return this.skipped.length>=_e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView($,_e){this.skipped.push({from:$,to:_e})}static getSkippingParser($){return new class extends Parser{createParse(_e,et,tt){let nt=tt[0].from,rt=tt[tt.length-1].to;return{parsedPos:nt,advance(){let ot=currentContext;if(ot){for(let st of tt)ot.tempSkipped.push(st);$&&(ot.scheduleOn=ot.scheduleOn?Promise.all([ot.scheduleOn,$]):$)}return this.parsedPos=rt,new Tree(NodeType.none,[],[],rt-nt)},stoppedAt:null,stopAt(){}}}}}isDone($){$=Math.min($,this.state.doc.length);let _e=this.fragments;return this.treeLen>=$&&_e.length&&_e[0].from==0&&_e[0].to>=$}static get(){return currentContext}}function cutFragments(J,$,_e){return TreeFragment.applyChanges(J,[{fromA:$,toA:_e,fromB:$,toB:_e}])}class LanguageState{constructor($){this.context=$,this.tree=$.tree}apply($){if(!$.docChanged&&this.tree==this.context.tree)return this;let _e=this.context.changes($.changes,$.state),et=this.context.treeLen==$.startState.doc.length?void 0:Math.max($.changes.mapPos(this.context.treeLen),_e.viewport.to);return _e.work(20,et)||_e.takeTree(),new LanguageState(_e)}static init($){let _e=Math.min(3e3,$.doc.length),et=ParseContext.create($.facet(language).parser,$,{from:0,to:_e});return et.work(20,_e)||et.takeTree(),new LanguageState(et)}}Language.state=StateField.define({create:LanguageState.init,update(J,$){for(let _e of $.effects)if(_e.is(Language.setState))return _e.value;return $.startState.facet(language)!=$.state.facet(language)?LanguageState.init($.state):J.apply($)}});let requestIdle=J=>{let $=setTimeout(()=>J(),500);return()=>clearTimeout($)};typeof requestIdleCallback<"u"&&(requestIdle=J=>{let $=-1,_e=setTimeout(()=>{$=requestIdleCallback(J,{timeout:400})},100);return()=>$<0?clearTimeout(_e):cancelIdleCallback($)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor($){this.view=$,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update($){let _e=this.view.state.field(Language.state).context;(_e.updateViewport($.view.viewport)||this.view.viewport.to>_e.treeLen)&&this.scheduleWork(),($.docChanged||$.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(_e)}scheduleWork(){if(this.working)return;let{state:$}=this.view,_e=$.field(Language.state);(_e.tree!=_e.context.tree||!_e.context.isDone($.doc.length))&&(this.working=requestIdle(this.work))}work($){this.working=null;let _e=Date.now();if(this.chunkEnd<_e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=_e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:et,viewport:{to:tt}}=this.view,nt=et.field(Language.state);if(nt.tree==nt.context.tree&&nt.context.isDone(tt+1e5))return;let rt=Date.now()+Math.min(this.chunkBudget,100,$&&!isInputPending?Math.max(25,$.timeRemaining()-5):1e9),it=nt.context.treeLen<tt&&et.doc.length>tt+1e3,ot=nt.context.work(()=>isInputPending&&isInputPending()||Date.now()>rt,tt+(it?0:1e5));this.chunkBudget-=Date.now()-_e,(ot||this.chunkBudget<=0)&&(nt.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(nt.context))})),this.chunkBudget>0&&!(ot&&!it)&&this.scheduleWork(),this.checkAsyncSchedule(nt.context)}checkAsyncSchedule($){$.scheduleOn&&(this.workScheduled++,$.scheduleOn.then(()=>this.scheduleWork()).catch(_e=>logException(this.view.state,_e)).then(()=>this.workScheduled--),$.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(J){return J.length?J[0]:null},enables:J=>[Language.state,parseWorker,EditorView.contentAttributes.compute([J],$=>{let _e=$.facet(J);return _e&&_e.name?{"data-language":_e.name}:{}})]});class LanguageSupport{constructor($,_e=[]){this.language=$,this.support=_e,this.extension=[$,_e]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:J=>{if(!J.length)return"  ";let $=J[0];if(!$||/\S/.test($)||Array.from($).some(_e=>_e!=$[0]))throw new Error("Invalid indent unit: "+JSON.stringify(J[0]));return $}});function getIndentUnit(J){let $=J.facet(indentUnit);return $.charCodeAt(0)==9?J.tabSize*$.length:$.length}function indentString(J,$){let _e="",et=J.tabSize,tt=J.facet(indentUnit)[0];if(tt=="	"){for(;$>=et;)_e+="	",$-=et;tt=" "}for(let nt=0;nt<$;nt++)_e+=tt;return _e}function getIndentation(J,$){J instanceof EditorState&&(J=new IndentContext(J));for(let et of J.state.facet(indentService)){let tt=et(J,$);if(tt!==void 0)return tt}let _e=syntaxTree(J.state);return _e.length>=$?syntaxIndentation(J,_e,$):null}class IndentContext{constructor($,_e={}){this.state=$,this.options=_e,this.unit=getIndentUnit($)}lineAt($,_e=1){let et=this.state.doc.lineAt($),{simulateBreak:tt,simulateDoubleBreak:nt}=this.options;return tt!=null&&tt>=et.from&&tt<=et.to?nt&&tt==$?{text:"",from:$}:(_e<0?tt<$:tt<=$)?{text:et.text.slice(tt-et.from),from:tt}:{text:et.text.slice(0,tt-et.from),from:et.from}:et}textAfterPos($,_e=1){if(this.options.simulateDoubleBreak&&$==this.options.simulateBreak)return"";let{text:et,from:tt}=this.lineAt($,_e);return et.slice($-tt,Math.min(et.length,$+100-tt))}column($,_e=1){let{text:et,from:tt}=this.lineAt($,_e),nt=this.countColumn(et,$-tt),rt=this.options.overrideIndentation?this.options.overrideIndentation(tt):-1;return rt>-1&&(nt+=rt-this.countColumn(et,et.search(/\S|$/))),nt}countColumn($,_e=$.length){return countColumn($,this.state.tabSize,_e)}lineIndent($,_e=1){let{text:et,from:tt}=this.lineAt($,_e),nt=this.options.overrideIndentation;if(nt){let rt=nt(tt);if(rt>-1)return rt}return this.countColumn(et,et.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(J,$,_e){let et=$.resolveStack(_e),tt=$.resolveInner(_e,-1).resolve(_e,0).enterUnfinishedNodesBefore(_e);if(tt!=et.node){let nt=[];for(let rt=tt;rt&&!(rt.from==et.node.from&&rt.type==et.node.type);rt=rt.parent)nt.push(rt);for(let rt=nt.length-1;rt>=0;rt--)et={node:nt[rt],next:et}}return indentFor(et,J,_e)}function indentFor(J,$,_e){for(let et=J;et;et=et.next){let tt=indentStrategy(et.node);if(tt)return tt(TreeIndentContext.create($,_e,et))}return 0}function ignoreClosed(J){return J.pos==J.options.simulateBreak&&J.options.simulateDoubleBreak}function indentStrategy(J){let $=J.type.prop(indentNodeProp);if($)return $;let _e=J.firstChild,et;if(_e&&(et=_e.type.prop(NodeProp.closedBy))){let tt=J.lastChild,nt=tt&&et.indexOf(tt.name)>-1;return rt=>delimitedStrategy(rt,!0,1,void 0,nt&&!ignoreClosed(rt)?tt.from:void 0)}return J.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor($,_e,et){super($.state,$.options),this.base=$,this.pos=_e,this.context=et}get node(){return this.context.node}static create($,_e,et){return new TreeIndentContext($,_e,et)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor($){let _e=this.state.doc.lineAt($.from);for(;;){let et=$.resolve(_e.from);for(;et.parent&&et.parent.from==et.from;)et=et.parent;if(isParent(et,$))break;_e=this.state.doc.lineAt(et.from)}return this.lineIndent(_e.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(J,$){for(let _e=$;_e;_e=_e.parent)if(J==_e)return!0;return!1}function bracketedAligned(J){let $=J.node,_e=$.childAfter($.from),et=$.lastChild;if(!_e)return null;let tt=J.options.simulateBreak,nt=J.state.doc.lineAt(_e.from),rt=tt==null||tt<=nt.from?nt.to:Math.min(nt.to,tt);for(let it=_e.to;;){let ot=$.childAfter(it);if(!ot||ot==et)return null;if(!ot.type.isSkipped){if(ot.from>=rt)return null;let st=/^ */.exec(nt.text.slice(_e.to-nt.from))[0].length;return{from:_e.from,to:_e.to+st}}it=ot.to}}function delimitedIndent({closing:J,align:$=!0,units:_e=1}){return et=>delimitedStrategy(et,$,_e,J)}function delimitedStrategy(J,$,_e,et,tt){let nt=J.textAfter,rt=nt.match(/^\s*/)[0].length,it=et&&nt.slice(rt,rt+et.length)==et||tt==J.pos+rt,ot=$?bracketedAligned(J):null;return ot?it?J.column(ot.from):J.column(ot.to):J.baseIndent+(it?0:J.unit*_e)}const flatIndent=J=>J.baseIndent;function continuedIndent({except:J,units:$=1}={}){return _e=>{let et=J&&J.test(_e.textAfter);return _e.baseIndent+(et?0:$*_e.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(J=>{if(!J.docChanged||!J.isUserEvent("input.type")&&!J.isUserEvent("input.complete"))return J;let $=J.startState.languageDataAt("indentOnInput",J.startState.selection.main.head);if(!$.length)return J;let _e=J.newDoc,{head:et}=J.newSelection.main,tt=_e.lineAt(et);if(et>tt.from+DontIndentBeyond)return J;let nt=_e.sliceString(tt.from,et);if(!$.some(st=>st.test(nt)))return J;let{state:rt}=J,it=-1,ot=[];for(let{head:st}of rt.selection.ranges){let at=rt.doc.lineAt(st);if(at.from==it)continue;it=at.from;let ct=getIndentation(rt,at.from);if(ct==null)continue;let ut=/^\s*/.exec(at.text)[0],ft=indentString(rt,ct);ut!=ft&&ot.push({from:at.from,to:at.from+ut.length,insert:ft})}return ot.length?[J,{changes:ot,sequential:!0}]:J})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(J){let $=J.firstChild,_e=J.lastChild;return $&&$.to<_e.from?{from:$.to,to:_e.type.isError?J.to:_e.from}:null}function syntaxFolding(J,$,_e){let et=syntaxTree(J);if(et.length<_e)return null;let tt=et.resolveStack(_e,1),nt=null;for(let rt=tt;rt;rt=rt.next){let it=rt.node;if(it.to<=_e||it.from>_e)continue;if(nt&&it.from<$)break;let ot=it.type.prop(foldNodeProp);if(ot&&(it.to<et.length-50||et.length==J.doc.length||!isUnfinished(it))){let st=ot(it,J);st&&st.from<=_e&&st.from>=$&&st.to>_e&&(nt=st)}}return nt}function isUnfinished(J){let $=J.lastChild;return $&&$.to==J.to&&$.type.isError}function foldable(J,$,_e){for(let et of J.facet(foldService)){let tt=et(J,$,_e);if(tt)return tt}return syntaxFolding(J,$,_e)}function mapRange(J,$){let _e=$.mapPos(J.from,1),et=$.mapPos(J.to,-1);return _e>=et?void 0:{from:_e,to:et}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(J){let $=[];for(let{head:_e}of J.state.selection.ranges)$.some(et=>et.from<=_e&&et.to>=_e)||$.push(J.lineBlockAt(_e));return $}const foldState=StateField.define({create(){return Decoration.none},update(J,$){J=J.map($.changes);for(let _e of $.effects)if(_e.is(foldEffect)&&!foldExists(J,_e.value.from,_e.value.to)){let{preparePlaceholder:et}=$.state.facet(foldConfig),tt=et?Decoration.replace({widget:new PreparedFoldWidget(et($.state,_e.value))}):foldWidget;J=J.update({add:[tt.range(_e.value.from,_e.value.to)]})}else _e.is(unfoldEffect)&&(J=J.update({filter:(et,tt)=>_e.value.from!=et||_e.value.to!=tt,filterFrom:_e.value.from,filterTo:_e.value.to}));if($.selection){let _e=!1,{head:et}=$.selection.main;J.between(et,et,(tt,nt)=>{tt<et&&nt>et&&(_e=!0)}),_e&&(J=J.update({filterFrom:et,filterTo:et,filter:(tt,nt)=>nt<=et||tt>=et}))}return J},provide:J=>EditorView.decorations.from(J),toJSON(J,$){let _e=[];return J.between(0,$.doc.length,(et,tt)=>{_e.push(et,tt)}),_e},fromJSON(J){if(!Array.isArray(J)||J.length%2)throw new RangeError("Invalid JSON for fold state");let $=[];for(let _e=0;_e<J.length;){let et=J[_e++],tt=J[_e++];if(typeof et!="number"||typeof tt!="number")throw new RangeError("Invalid JSON for fold state");$.push(foldWidget.range(et,tt))}return Decoration.set($,!0)}});function findFold(J,$,_e){var et;let tt=null;return(et=J.field(foldState,!1))===null||et===void 0||et.between($,_e,(nt,rt)=>{(!tt||tt.from>nt)&&(tt={from:nt,to:rt})}),tt}function foldExists(J,$,_e){let et=!1;return J.between($,$,(tt,nt)=>{tt==$&&nt==_e&&(et=!0)}),et}function maybeEnable(J,$){return J.field(foldState,!1)?$:$.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=J=>{for(let $ of selectedLines(J)){let _e=foldable(J.state,$.from,$.to);if(_e)return J.dispatch({effects:maybeEnable(J.state,[foldEffect.of(_e),announceFold(J,_e)])}),!0}return!1},unfoldCode=J=>{if(!J.state.field(foldState,!1))return!1;let $=[];for(let _e of selectedLines(J)){let et=findFold(J.state,_e.from,_e.to);et&&$.push(unfoldEffect.of(et),announceFold(J,et,!1))}return $.length&&J.dispatch({effects:$}),$.length>0};function announceFold(J,$,_e=!0){let et=J.state.doc.lineAt($.from).number,tt=J.state.doc.lineAt($.to).number;return EditorView.announce.of(`${J.state.phrase(_e?"Folded lines":"Unfolded lines")} ${et} ${J.state.phrase("to")} ${tt}.`)}const foldAll=J=>{let{state:$}=J,_e=[];for(let et=0;et<$.doc.length;){let tt=J.lineBlockAt(et),nt=foldable($,tt.from,tt.to);nt&&_e.push(foldEffect.of(nt)),et=(nt?J.lineBlockAt(nt.to):tt).to+1}return _e.length&&J.dispatch({effects:maybeEnable(J.state,_e)}),!!_e.length},unfoldAll=J=>{let $=J.state.field(foldState,!1);if(!$||!$.size)return!1;let _e=[];return $.between(0,J.state.doc.length,(et,tt)=>{_e.push(unfoldEffect.of({from:et,to:tt}))}),J.dispatch({effects:_e}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(J){return combineConfig(J,defaultConfig)}});function codeFolding(J){return[foldState,baseTheme$1$1]}function widgetToDOM(J,$){let{state:_e}=J,et=_e.facet(foldConfig),tt=rt=>{let it=J.lineBlockAt(J.posAtDOM(rt.target)),ot=findFold(J.state,it.from,it.to);ot&&J.dispatch({effects:unfoldEffect.of(ot)}),rt.preventDefault()};if(et.placeholderDOM)return et.placeholderDOM(J,tt,$);let nt=document.createElement("span");return nt.textContent=et.placeholderText,nt.setAttribute("aria-label",_e.phrase("folded code")),nt.title=_e.phrase("unfold"),nt.className="cm-foldPlaceholder",nt.onclick=tt,nt}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(J){return widgetToDOM(J,null)}}});class PreparedFoldWidget extends WidgetType{constructor($){super(),this.value=$}eq($){return this.value==$.value}toDOM($){return widgetToDOM($,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor($,_e){super(),this.config=$,this.open=_e}eq($){return this.config==$.config&&this.open==$.open}toDOM($){if(this.config.markerDOM)return this.config.markerDOM(this.open);let _e=document.createElement("span");return _e.textContent=this.open?this.config.openText:this.config.closedText,_e.title=$.state.phrase(this.open?"Fold line":"Unfold line"),_e}}function foldGutter(J={}){let $=Object.assign(Object.assign({},foldGutterDefaults),J),_e=new FoldMarker($,!0),et=new FoldMarker($,!1),tt=ViewPlugin.fromClass(class{constructor(rt){this.from=rt.viewport.from,this.markers=this.buildMarkers(rt)}update(rt){(rt.docChanged||rt.viewportChanged||rt.startState.facet(language)!=rt.state.facet(language)||rt.startState.field(foldState,!1)!=rt.state.field(foldState,!1)||syntaxTree(rt.startState)!=syntaxTree(rt.state)||$.foldingChanged(rt))&&(this.markers=this.buildMarkers(rt.view))}buildMarkers(rt){let it=new RangeSetBuilder;for(let ot of rt.viewportLineBlocks){let st=findFold(rt.state,ot.from,ot.to)?et:foldable(rt.state,ot.from,ot.to)?_e:null;st&&it.add(ot.from,ot.from,st)}return it.finish()}}),{domEventHandlers:nt}=$;return[tt,gutter({class:"cm-foldGutter",markers(rt){var it;return((it=rt.plugin(tt))===null||it===void 0?void 0:it.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker($,!1)},domEventHandlers:Object.assign(Object.assign({},nt),{click:(rt,it,ot)=>{if(nt.click&&nt.click(rt,it,ot))return!0;let st=findFold(rt.state,it.from,it.to);if(st)return rt.dispatch({effects:unfoldEffect.of(st)}),!0;let at=foldable(rt.state,it.from,it.to);return at?(rt.dispatch({effects:foldEffect.of(at)}),!0):!1}})}),codeFolding()]}const baseTheme$1$1=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor($,_e){this.specs=$;let et;function tt(it){let ot=StyleModule.newName();return(et||(et=Object.create(null)))["."+ot]=it,ot}const nt=typeof _e.all=="string"?_e.all:_e.all?tt(_e.all):void 0,rt=_e.scope;this.scope=rt instanceof Language?it=>it.prop(languageDataProp)==rt.data:rt?it=>it==rt:void 0,this.style=tagHighlighter($.map(it=>({tag:it.tag,class:it.class||tt(Object.assign({},it,{tag:null}))})),{all:nt}).style,this.module=et?new StyleModule(et):null,this.themeType=_e.themeType}static define($,_e){return new HighlightStyle($,_e||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(J){return J.length?[J[0]]:null}});function getHighlighters(J){let $=J.facet(highlighterFacet);return $.length?$:J.facet(fallbackHighlighter)}function syntaxHighlighting(J,$){let _e=[treeHighlighter],et;return J instanceof HighlightStyle&&(J.module&&_e.push(EditorView.styleModule.of(J.module)),et=J.themeType),$!=null&&$.fallback?_e.push(fallbackHighlighter.of(J)):et?_e.push(highlighterFacet.computeN([EditorView.darkTheme],tt=>tt.facet(EditorView.darkTheme)==(et=="dark")?[J]:[])):_e.push(highlighterFacet.of(J)),_e}class TreeHighlighter{constructor($){this.markCache=Object.create(null),this.tree=syntaxTree($.state),this.decorations=this.buildDeco($,getHighlighters($.state)),this.decoratedTo=$.viewport.to}update($){let _e=syntaxTree($.state),et=getHighlighters($.state),tt=et!=getHighlighters($.startState),{viewport:nt}=$.view,rt=$.changes.mapPos(this.decoratedTo,1);_e.length<nt.to&&!tt&&_e.type==this.tree.type&&rt>=nt.to?(this.decorations=this.decorations.map($.changes),this.decoratedTo=rt):(_e!=this.tree||$.viewportChanged||tt)&&(this.tree=_e,this.decorations=this.buildDeco($.view,et),this.decoratedTo=nt.to)}buildDeco($,_e){if(!_e||!this.tree.length)return Decoration.none;let et=new RangeSetBuilder;for(let{from:tt,to:nt}of $.visibleRanges)highlightTree(this.tree,_e,(rt,it,ot)=>{et.add(rt,it,this.markCache[ot]||(this.markCache[ot]=Decoration.mark({class:ot})))},tt,nt);return et.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:J=>J.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$4=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(J){return combineConfig(J,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(J){let $=[],_e=J.matched?matchingMark:nonmatchingMark;return $.push(_e.range(J.start.from,J.start.to)),J.end&&$.push(_e.range(J.end.from,J.end.to)),$}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(J,$){if(!$.docChanged&&!$.selection)return J;let _e=[],et=$.state.facet(bracketMatchingConfig);for(let tt of $.state.selection.ranges){if(!tt.empty)continue;let nt=matchBrackets($.state,tt.head,-1,et)||tt.head>0&&matchBrackets($.state,tt.head-1,1,et)||et.afterCursor&&(matchBrackets($.state,tt.head,1,et)||tt.head<$.state.doc.length&&matchBrackets($.state,tt.head+1,-1,et));nt&&(_e=_e.concat(et.renderMatch(nt,$.state)))}return Decoration.set(_e,!0)},provide:J=>EditorView.decorations.from(J)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$4];function bracketMatching(J={}){return[bracketMatchingConfig.of(J),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(J,$,_e){let et=J.prop($<0?NodeProp.openedBy:NodeProp.closedBy);if(et)return et;if(J.name.length==1){let tt=_e.indexOf(J.name);if(tt>-1&&tt%2==($<0?1:0))return[_e[tt+$]]}return null}function findHandle(J){let $=J.type.prop(bracketMatchingHandle);return $?$(J.node):J}function matchBrackets(J,$,_e,et={}){let tt=et.maxScanDistance||DefaultScanDist,nt=et.brackets||DefaultBrackets,rt=syntaxTree(J),it=rt.resolveInner($,_e);for(let ot=it;ot;ot=ot.parent){let st=matchingNodes(ot.type,_e,nt);if(st&&ot.from<ot.to){let at=findHandle(ot);if(at&&(_e>0?$>=at.from&&$<at.to:$>at.from&&$<=at.to))return matchMarkedBrackets(J,$,_e,ot,at,st,nt)}}return matchPlainBrackets(J,$,_e,rt,it.type,tt,nt)}function matchMarkedBrackets(J,$,_e,et,tt,nt,rt){let it=et.parent,ot={from:tt.from,to:tt.to},st=0,at=it==null?void 0:it.cursor();if(at&&(_e<0?at.childBefore(et.from):at.childAfter(et.to)))do if(_e<0?at.to<=et.from:at.from>=et.to){if(st==0&&nt.indexOf(at.type.name)>-1&&at.from<at.to){let ct=findHandle(at);return{start:ot,end:ct?{from:ct.from,to:ct.to}:void 0,matched:!0}}else if(matchingNodes(at.type,_e,rt))st++;else if(matchingNodes(at.type,-_e,rt)){if(st==0){let ct=findHandle(at);return{start:ot,end:ct&&ct.from<ct.to?{from:ct.from,to:ct.to}:void 0,matched:!1}}st--}}while(_e<0?at.prevSibling():at.nextSibling());return{start:ot,matched:!1}}function matchPlainBrackets(J,$,_e,et,tt,nt,rt){let it=_e<0?J.sliceDoc($-1,$):J.sliceDoc($,$+1),ot=rt.indexOf(it);if(ot<0||ot%2==0!=_e>0)return null;let st={from:_e<0?$-1:$,to:_e>0?$+1:$},at=J.doc.iterRange($,_e>0?J.doc.length:0),ct=0;for(let ut=0;!at.next().done&&ut<=nt;){let ft=at.value;_e<0&&(ut+=ft.length);let dt=$+ut*_e;for(let pt=_e>0?0:ft.length-1,vt=_e>0?ft.length:-1;pt!=vt;pt+=_e){let mt=rt.indexOf(ft[pt]);if(!(mt<0||et.resolveInner(dt+pt,1).type!=tt))if(mt%2==0==_e>0)ct++;else{if(ct==1)return{start:st,end:{from:dt+pt,to:dt+pt+1},matched:mt>>1==ot>>1};ct--}}_e>0&&(ut+=ft.length)}return at.done?{start:st,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[J,$]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[J]=createTokenType(noTokens,$);function warnForPart(J,$){warned.indexOf(J)>-1||(warned.push(J),console.warn($))}function createTokenType(J,$){let _e=[];for(let it of $.split(" ")){let ot=[];for(let st of it.split(".")){let at=J[st]||tags[st];at?typeof at=="function"?ot.length?ot=ot.map(at):warnForPart(st,`Modifier ${st} used at start of tag`):ot.length?warnForPart(st,`Tag ${st} used as modifier`):ot=Array.isArray(at)?at:[at]:warnForPart(st,`Unknown highlighting tag ${st}`)}for(let st of ot)_e.push(st)}if(!_e.length)return 0;let et=$.replace(/ /g,"_"),tt=et+" "+_e.map(it=>it.id),nt=byTag[tt];if(nt)return nt.id;let rt=byTag[tt]=NodeType.define({id:typeArray.length,name:et,props:[styleTags({[et]:_e})]});return typeArray.push(rt),rt.id}Direction.RTL,Direction.LTR;class CompletionContext{constructor($,_e,et,tt){this.state=$,this.pos=_e,this.explicit=et,this.view=tt,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore($){let _e=syntaxTree(this.state).resolveInner(this.pos,-1);for(;_e&&$.indexOf(_e.name)<0;)_e=_e.parent;return _e?{from:_e.from,to:this.pos,text:this.state.sliceDoc(_e.from,this.pos),type:_e.type}:null}matchBefore($){let _e=this.state.doc.lineAt(this.pos),et=Math.max(_e.from,this.pos-250),tt=_e.text.slice(et-_e.from,this.pos-_e.from),nt=tt.search(ensureAnchor($,!1));return nt<0?null:{from:et+nt,to:this.pos,text:tt.slice(nt)}}get aborted(){return this.abortListeners==null}addEventListener($,_e,et){$=="abort"&&this.abortListeners&&(this.abortListeners.push(_e),et&&et.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(J){let $=Object.keys(J).join(""),_e=/\w/.test($);return _e&&($=$.replace(/\w/g,"")),`[${_e?"\\w":""}${$.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(J){let $=Object.create(null),_e=Object.create(null);for(let{label:tt}of J){$[tt[0]]=!0;for(let nt=1;nt<tt.length;nt++)_e[tt[nt]]=!0}let et=toSet($)+toSet(_e)+"*$";return[new RegExp("^"+et),new RegExp(et)]}function completeFromList(J){let $=J.map(tt=>typeof tt=="string"?{label:tt}:tt),[_e,et]=$.every(tt=>/^\w+$/.test(tt.label))?[/\w*$/,/\w+$/]:prefixMatch($);return tt=>{let nt=tt.matchBefore(et);return nt||tt.explicit?{from:nt?nt.from:tt.pos,options:$,validFor:_e}:null}}function ifNotIn(J,$){return _e=>{for(let et=syntaxTree(_e.state).resolveInner(_e.pos,-1);et;et=et.parent){if(J.indexOf(et.name)>-1)return null;if(et.type.isTop)break}return $(_e)}}class Option{constructor($,_e,et,tt){this.completion=$,this.source=_e,this.match=et,this.score=tt}}function cur(J){return J.selection.main.from}function ensureAnchor(J,$){var _e;let{source:et}=J,tt=$&&et[0]!="^",nt=et[et.length-1]!="$";return!tt&&!nt?J:new RegExp(`${tt?"^":""}(?:${et})${nt?"$":""}`,(_e=J.flags)!==null&&_e!==void 0?_e:J.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(J,$,_e,et){let{main:tt}=J.selection,nt=_e-tt.from,rt=et-tt.from;return Object.assign(Object.assign({},J.changeByRange(it=>{if(it!=tt&&_e!=et&&J.sliceDoc(it.from+nt,it.from+rt)!=J.sliceDoc(_e,et))return{range:it};let ot=J.toText($);return{changes:{from:it.from+nt,to:et==tt.from?it.to:it.from+rt,insert:ot},range:EditorSelection.cursor(it.from+nt+ot.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(J){if(!Array.isArray(J))return J;let $=SourceCache.get(J);return $||SourceCache.set(J,$=completeFromList(J)),$}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor($){this.pattern=$,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let _e=0;_e<$.length;){let et=codePointAt($,_e),tt=codePointSize(et);this.chars.push(et);let nt=$.slice(_e,_e+tt),rt=nt.toUpperCase();this.folded.push(codePointAt(rt==nt?nt.toLowerCase():rt,0)),_e+=tt}this.astral=$.length!=this.chars.length}ret($,_e){return this.score=$,this.matched=_e,this}match($){if(this.pattern.length==0)return this.ret(-100,[]);if($.length<this.pattern.length)return null;let{chars:_e,folded:et,any:tt,precise:nt,byWord:rt}=this;if(_e.length==1){let Ot=codePointAt($,0),yt=codePointSize(Ot),wt=yt==$.length?0:-100;if(Ot!=_e[0])if(Ot==et[0])wt+=-200;else return null;return this.ret(wt,[0,yt])}let it=$.indexOf(this.pattern);if(it==0)return this.ret($.length==this.pattern.length?0:-100,[0,this.pattern.length]);let ot=_e.length,st=0;if(it<0){for(let Ot=0,yt=Math.min($.length,200);Ot<yt&&st<ot;){let wt=codePointAt($,Ot);(wt==_e[st]||wt==et[st])&&(tt[st++]=Ot),Ot+=codePointSize(wt)}if(st<ot)return null}let at=0,ct=0,ut=!1,ft=0,dt=-1,pt=-1,vt=/[a-z]/.test($),mt=!0;for(let Ot=0,yt=Math.min($.length,200),wt=0;Ot<yt&&ct<ot;){let bt=codePointAt($,Ot);it<0&&(at<ot&&bt==_e[at]&&(nt[at++]=Ot),ft<ot&&(bt==_e[ft]||bt==et[ft]?(ft==0&&(dt=Ot),pt=Ot+1,ft++):ft=0));let Ct,kt=bt<255?bt>=48&&bt<=57||bt>=97&&bt<=122?2:bt>=65&&bt<=90?1:0:(Ct=fromCodePoint(bt))!=Ct.toLowerCase()?1:Ct!=Ct.toUpperCase()?2:0;(!Ot||kt==1&&vt||wt==0&&kt!=0)&&(_e[ct]==bt||et[ct]==bt&&(ut=!0)?rt[ct++]=Ot:rt.length&&(mt=!1)),wt=kt,Ot+=codePointSize(bt)}return ct==ot&&rt[0]==0&&mt?this.result(-100+(ut?-200:0),rt,$):ft==ot&&dt==0?this.ret(-200-$.length+(pt==$.length?0:-100),[0,pt]):it>-1?this.ret(-700-$.length,[it,it+this.pattern.length]):ft==ot?this.ret(-900-$.length,[dt,pt]):ct==ot?this.result(-100+(ut?-200:0)+-700+(mt?0:-1100),rt,$):_e.length==2?null:this.result((tt[0]?-700:0)+-200+-1100,tt,$)}result($,_e,et){let tt=[],nt=0;for(let rt of _e){let it=rt+(this.astral?codePointSize(codePointAt(et,rt)):1);nt&&tt[nt-1]==rt?tt[nt-1]=it:(tt[nt++]=rt,tt[nt++]=it)}return this.ret($-et.length,tt)}}class StrictMatcher{constructor($){this.pattern=$,this.matched=[],this.score=0,this.folded=$.toLowerCase()}match($){if($.length<this.pattern.length)return null;let _e=$.slice(0,this.pattern.length),et=_e==this.pattern?0:_e.toLowerCase()==this.folded?-200:null;return et==null?null:(this.matched=[0,_e.length],this.score=et+($.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(J){return combineConfig(J,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:($,_e)=>$.label.localeCompare(_e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:($,_e)=>$&&_e,closeOnBlur:($,_e)=>$&&_e,icons:($,_e)=>$&&_e,tooltipClass:($,_e)=>et=>joinClass($(et),_e(et)),optionClass:($,_e)=>et=>joinClass($(et),_e(et)),addToOptions:($,_e)=>$.concat(_e),filterStrict:($,_e)=>$||_e})}});function joinClass(J,$){return J?$?J+" "+$:J:$}function defaultPositionInfo(J,$,_e,et,tt,nt){let rt=J.textDirection==Direction.RTL,it=rt,ot=!1,st="top",at,ct,ut=$.left-tt.left,ft=tt.right-$.right,dt=et.right-et.left,pt=et.bottom-et.top;if(it&&ut<Math.min(dt,ft)?it=!1:!it&&ft<Math.min(dt,ut)&&(it=!0),dt<=(it?ut:ft))at=Math.max(tt.top,Math.min(_e.top,tt.bottom-pt))-$.top,ct=Math.min(400,it?ut:ft);else{ot=!0,ct=Math.min(400,(rt?$.right:tt.right-$.left)-30);let Ot=tt.bottom-$.bottom;Ot>=pt||Ot>$.top?at=_e.bottom-$.top:(st="bottom",at=$.bottom-_e.top)}let vt=($.bottom-$.top)/nt.offsetHeight,mt=($.right-$.left)/nt.offsetWidth;return{style:`${st}: ${at/vt}px; max-width: ${ct/mt}px`,class:"cm-completionInfo-"+(ot?rt?"left-narrow":"right-narrow":it?"left":"right")}}function optionContent(J){let $=J.addToOptions.slice();return J.icons&&$.push({render(_e){let et=document.createElement("div");return et.classList.add("cm-completionIcon"),_e.type&&et.classList.add(..._e.type.split(/\s+/g).map(tt=>"cm-completionIcon-"+tt)),et.setAttribute("aria-hidden","true"),et},position:20}),$.push({render(_e,et,tt,nt){let rt=document.createElement("span");rt.className="cm-completionLabel";let it=_e.displayLabel||_e.label,ot=0;for(let st=0;st<nt.length;){let at=nt[st++],ct=nt[st++];at>ot&&rt.appendChild(document.createTextNode(it.slice(ot,at)));let ut=rt.appendChild(document.createElement("span"));ut.appendChild(document.createTextNode(it.slice(at,ct))),ut.className="cm-completionMatchedText",ot=ct}return ot<it.length&&rt.appendChild(document.createTextNode(it.slice(ot))),rt},position:50},{render(_e){if(!_e.detail)return null;let et=document.createElement("span");return et.className="cm-completionDetail",et.textContent=_e.detail,et},position:80}),$.sort((_e,et)=>_e.position-et.position).map(_e=>_e.render)}function rangeAroundSelected(J,$,_e){if(J<=_e)return{from:0,to:J};if($<0&&($=0),$<=J>>1){let tt=Math.floor($/_e);return{from:tt*_e,to:(tt+1)*_e}}let et=Math.floor((J-$)/_e);return{from:J-(et+1)*_e,to:J-et*_e}}class CompletionTooltip{constructor($,_e,et){this.view=$,this.stateField=_e,this.applyCompletion=et,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:ot=>this.placeInfo(ot),key:this},this.space=null,this.currentClass="";let tt=$.state.field(_e),{options:nt,selected:rt}=tt.open,it=$.state.facet(completionConfig);this.optionContent=optionContent(it),this.optionClass=it.optionClass,this.tooltipClass=it.tooltipClass,this.range=rangeAroundSelected(nt.length,rt,it.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass($.state),this.dom.addEventListener("mousedown",ot=>{let{options:st}=$.state.field(_e).open;for(let at=ot.target,ct;at&&at!=this.dom;at=at.parentNode)if(at.nodeName=="LI"&&(ct=/-(\d+)$/.exec(at.id))&&+ct[1]<st.length){this.applyCompletion($,st[+ct[1]]),ot.preventDefault();return}}),this.dom.addEventListener("focusout",ot=>{let st=$.state.field(this.stateField,!1);st&&st.tooltip&&$.state.facet(completionConfig).closeOnBlur&&ot.relatedTarget!=$.contentDOM&&$.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(nt,tt.id)}mount(){this.updateSel()}showOptions($,_e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox($,_e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update($){var _e;let et=$.state.field(this.stateField),tt=$.startState.field(this.stateField);if(this.updateTooltipClass($.state),et!=tt){let{options:nt,selected:rt,disabled:it}=et.open;(!tt.open||tt.open.options!=nt)&&(this.range=rangeAroundSelected(nt.length,rt,$.state.facet(completionConfig).maxRenderedOptions),this.showOptions(nt,et.id)),this.updateSel(),it!=((_e=tt.open)===null||_e===void 0?void 0:_e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!it)}}updateTooltipClass($){let _e=this.tooltipClass($);if(_e!=this.currentClass){for(let et of this.currentClass.split(" "))et&&this.dom.classList.remove(et);for(let et of _e.split(" "))et&&this.dom.classList.add(et);this.currentClass=_e}}positioned($){this.space=$,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let $=this.view.state.field(this.stateField),_e=$.open;if((_e.selected>-1&&_e.selected<this.range.from||_e.selected>=this.range.to)&&(this.range=rangeAroundSelected(_e.options.length,_e.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(_e.options,$.id)),this.updateSelectedOption(_e.selected)){this.destroyInfo();let{completion:et}=_e.options[_e.selected],{info:tt}=et;if(!tt)return;let nt=typeof tt=="string"?document.createTextNode(tt):tt(et);if(!nt)return;"then"in nt?nt.then(rt=>{rt&&this.view.state.field(this.stateField,!1)==$&&this.addInfoPane(rt,et)}).catch(rt=>logException(this.view.state,rt,"completion info")):this.addInfoPane(nt,et)}}addInfoPane($,_e){this.destroyInfo();let et=this.info=document.createElement("div");if(et.className="cm-tooltip cm-completionInfo",$.nodeType!=null)et.appendChild($),this.infoDestroy=null;else{let{dom:tt,destroy:nt}=$;et.appendChild(tt),this.infoDestroy=nt||null}this.dom.appendChild(et),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption($){let _e=null;for(let et=this.list.firstChild,tt=this.range.from;et;et=et.nextSibling,tt++)et.nodeName!="LI"||!et.id?tt--:tt==$?et.hasAttribute("aria-selected")||(et.setAttribute("aria-selected","true"),_e=et):et.hasAttribute("aria-selected")&&et.removeAttribute("aria-selected");return _e&&scrollIntoView(this.list,_e),_e}measureInfo(){let $=this.dom.querySelector("[aria-selected]");if(!$||!this.info)return null;let _e=this.dom.getBoundingClientRect(),et=this.info.getBoundingClientRect(),tt=$.getBoundingClientRect(),nt=this.space;if(!nt){let rt=this.dom.ownerDocument.documentElement;nt={left:0,top:0,right:rt.clientWidth,bottom:rt.clientHeight}}return tt.top>Math.min(nt.bottom,_e.bottom)-10||tt.bottom<Math.max(nt.top,_e.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,_e,tt,et,nt,this.dom)}placeInfo($){this.info&&($?($.style&&(this.info.style.cssText=$.style),this.info.className="cm-tooltip cm-completionInfo "+($.class||"")):this.info.style.cssText="top: -1e6px")}createListBox($,_e,et){const tt=document.createElement("ul");tt.id=_e,tt.setAttribute("role","listbox"),tt.setAttribute("aria-expanded","true"),tt.setAttribute("aria-label",this.view.state.phrase("Completions")),tt.addEventListener("mousedown",rt=>{rt.target==tt&&rt.preventDefault()});let nt=null;for(let rt=et.from;rt<et.to;rt++){let{completion:it,match:ot}=$[rt],{section:st}=it;if(st){let ut=typeof st=="string"?st:st.name;if(ut!=nt&&(rt>et.from||et.from==0))if(nt=ut,typeof st!="string"&&st.header)tt.appendChild(st.header(st));else{let ft=tt.appendChild(document.createElement("completion-section"));ft.textContent=ut}}const at=tt.appendChild(document.createElement("li"));at.id=_e+"-"+rt,at.setAttribute("role","option");let ct=this.optionClass(it);ct&&(at.className=ct);for(let ut of this.optionContent){let ft=ut(it,this.view.state,this.view,ot);ft&&at.appendChild(ft)}}return et.from&&tt.classList.add("cm-completionListIncompleteTop"),et.to<$.length&&tt.classList.add("cm-completionListIncompleteBottom"),tt}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(J,$){return _e=>new CompletionTooltip(_e,J,$)}function scrollIntoView(J,$){let _e=J.getBoundingClientRect(),et=$.getBoundingClientRect(),tt=_e.height/J.offsetHeight;et.top<_e.top?J.scrollTop-=(_e.top-et.top)/tt:et.bottom>_e.bottom&&(J.scrollTop+=(et.bottom-_e.bottom)/tt)}function score(J){return(J.boost||0)*100+(J.apply?10:0)+(J.info?5:0)+(J.type?1:0)}function sortOptions(J,$){let _e=[],et=null,tt=st=>{_e.push(st);let{section:at}=st.completion;if(at){et||(et=[]);let ct=typeof at=="string"?at:at.name;et.some(ut=>ut.name==ct)||et.push(typeof at=="string"?{name:ct}:at)}},nt=$.facet(completionConfig);for(let st of J)if(st.hasResult()){let at=st.result.getMatch;if(st.result.filter===!1)for(let ct of st.result.options)tt(new Option(ct,st.source,at?at(ct):[],1e9-_e.length));else{let ct=$.sliceDoc(st.from,st.to),ut,ft=nt.filterStrict?new StrictMatcher(ct):new FuzzyMatcher(ct);for(let dt of st.result.options)if(ut=ft.match(dt.label)){let pt=dt.displayLabel?at?at(dt,ut.matched):[]:ut.matched;tt(new Option(dt,st.source,pt,ut.score+(dt.boost||0)))}}}if(et){let st=Object.create(null),at=0,ct=(ut,ft)=>{var dt,pt;return((dt=ut.rank)!==null&&dt!==void 0?dt:1e9)-((pt=ft.rank)!==null&&pt!==void 0?pt:1e9)||(ut.name<ft.name?-1:1)};for(let ut of et.sort(ct))at-=1e5,st[ut.name]=at;for(let ut of _e){let{section:ft}=ut.completion;ft&&(ut.score+=st[typeof ft=="string"?ft:ft.name])}}let rt=[],it=null,ot=nt.compareCompletions;for(let st of _e.sort((at,ct)=>ct.score-at.score||ot(at.completion,ct.completion))){let at=st.completion;!it||it.label!=at.label||it.detail!=at.detail||it.type!=null&&at.type!=null&&it.type!=at.type||it.apply!=at.apply||it.boost!=at.boost?rt.push(st):score(st.completion)>score(it)&&(rt[rt.length-1]=st),it=st.completion}return rt}class CompletionDialog{constructor($,_e,et,tt,nt,rt){this.options=$,this.attrs=_e,this.tooltip=et,this.timestamp=tt,this.selected=nt,this.disabled=rt}setSelected($,_e){return $==this.selected||$>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(_e,$),this.tooltip,this.timestamp,$,this.disabled)}static build($,_e,et,tt,nt,rt){if(tt&&!rt&&$.some(st=>st.isPending))return tt.setDisabled();let it=sortOptions($,_e);if(!it.length)return tt&&$.some(st=>st.isPending)?tt.setDisabled():null;let ot=_e.facet(completionConfig).selectOnOpen?0:-1;if(tt&&tt.selected!=ot&&tt.selected!=-1){let st=tt.options[tt.selected].completion;for(let at=0;at<it.length;at++)if(it[at].completion==st){ot=at;break}}return new CompletionDialog(it,makeAttrs(et,ot),{pos:$.reduce((st,at)=>at.hasResult()?Math.min(st,at.from):st,1e8),create:createTooltip,above:nt.aboveCursor},tt?tt.timestamp:Date.now(),ot,!1)}map($){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:$.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor($,_e,et){this.active=$,this.id=_e,this.open=et}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update($){let{state:_e}=$,et=_e.facet(completionConfig),nt=(et.override||_e.languageDataAt("autocomplete",cur(_e)).map(asSource)).map(ot=>(this.active.find(at=>at.source==ot)||new ActiveSource(ot,this.active.some(at=>at.state!=0)?1:0)).update($,et));nt.length==this.active.length&&nt.every((ot,st)=>ot==this.active[st])&&(nt=this.active);let rt=this.open,it=$.effects.some(ot=>ot.is(setActiveEffect));rt&&$.docChanged&&(rt=rt.map($.changes)),$.selection||nt.some(ot=>ot.hasResult()&&$.changes.touchesRange(ot.from,ot.to))||!sameResults(nt,this.active)||it?rt=CompletionDialog.build(nt,_e,this.id,rt,et,it):rt&&rt.disabled&&!nt.some(ot=>ot.isPending)&&(rt=null),!rt&&nt.every(ot=>!ot.isPending)&&nt.some(ot=>ot.hasResult())&&(nt=nt.map(ot=>ot.hasResult()?new ActiveSource(ot.source,0):ot));for(let ot of $.effects)ot.is(setSelectedEffect)&&(rt=rt&&rt.setSelected(ot.value,this.id));return nt==this.active&&rt==this.open?this:new CompletionState(nt,this.id,rt)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(J,$){if(J==$)return!0;for(let _e=0,et=0;;){for(;_e<J.length&&!J[_e].hasResult();)_e++;for(;et<$.length&&!$[et].hasResult();)et++;let tt=_e==J.length,nt=et==$.length;if(tt||nt)return tt==nt;if(J[_e++].result!=$[et++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(J,$){let _e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":J};return $>-1&&(_e["aria-activedescendant"]=J+"-"+$),_e}const none$1=[];function getUpdateType(J,$){if(J.isUserEvent("input.complete")){let et=J.annotation(pickedCompletion);if(et&&$.activateOnCompletion(et))return 12}let _e=J.isUserEvent("input.type");return _e&&$.activateOnTyping?5:_e?1:J.isUserEvent("delete.backward")?2:J.selection?8:J.docChanged?16:0}class ActiveSource{constructor($,_e,et=!1){this.source=$,this.state=_e,this.explicit=et}hasResult(){return!1}get isPending(){return this.state==1}update($,_e){let et=getUpdateType($,_e),tt=this;(et&8||et&16&&this.touches($))&&(tt=new ActiveSource(tt.source,0)),et&4&&tt.state==0&&(tt=new ActiveSource(this.source,1)),tt=tt.updateFor($,et);for(let nt of $.effects)if(nt.is(startCompletionEffect))tt=new ActiveSource(tt.source,1,nt.value);else if(nt.is(closeCompletionEffect))tt=new ActiveSource(tt.source,0);else if(nt.is(setActiveEffect))for(let rt of nt.value)rt.source==tt.source&&(tt=rt);return tt}updateFor($,_e){return this.map($.changes)}map($){return this}touches($){return $.changes.touchesRange(cur($.state))}}class ActiveResult extends ActiveSource{constructor($,_e,et,tt,nt,rt){super($,3,_e),this.limit=et,this.result=tt,this.from=nt,this.to=rt}hasResult(){return!0}updateFor($,_e){var et;if(!(_e&3))return this.map($.changes);let tt=this.result;tt.map&&!$.changes.empty&&(tt=tt.map(tt,$.changes));let nt=$.changes.mapPos(this.from),rt=$.changes.mapPos(this.to,1),it=cur($.state);if(it>rt||!tt||_e&2&&(cur($.startState)==this.from||it<this.limit))return new ActiveSource(this.source,_e&4?1:0);let ot=$.changes.mapPos(this.limit);return checkValid(tt.validFor,$.state,nt,rt)?new ActiveResult(this.source,this.explicit,ot,tt,nt,rt):tt.update&&(tt=tt.update(tt,nt,rt,new CompletionContext($.state,it,!1)))?new ActiveResult(this.source,this.explicit,ot,tt,tt.from,(et=tt.to)!==null&&et!==void 0?et:cur($.state)):new ActiveSource(this.source,1,this.explicit)}map($){return $.empty?this:(this.result.map?this.result.map(this.result,$):this.result)?new ActiveResult(this.source,this.explicit,$.mapPos(this.limit),this.result,$.mapPos(this.from),$.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches($){return $.changes.touchesRange(this.from,this.to)}}function checkValid(J,$,_e,et){if(!J)return!1;let tt=$.sliceDoc(_e,et);return typeof J=="function"?J(tt,_e,et,$):ensureAnchor(J,!0).test(tt)}const setActiveEffect=StateEffect.define({map(J,$){return J.map(_e=>_e.map($))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(J,$){return J.update($)},provide:J=>[showTooltip.from(J,$=>$.tooltip),EditorView.contentAttributes.from(J,$=>$.attrs)]});function applyCompletion(J,$){const _e=$.completion.apply||$.completion.label;let et=J.state.field(completionState).active.find(tt=>tt.source==$.source);return et instanceof ActiveResult?(typeof _e=="string"?J.dispatch(Object.assign(Object.assign({},insertCompletionText(J.state,_e,et.from,et.to)),{annotations:pickedCompletion.of($.completion)})):_e(J,$.completion,et.from,et.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(J,$="option"){return _e=>{let et=_e.state.field(completionState,!1);if(!et||!et.open||et.open.disabled||Date.now()-et.open.timestamp<_e.state.facet(completionConfig).interactionDelay)return!1;let tt=1,nt;$=="page"&&(nt=getTooltip(_e,et.open.tooltip))&&(tt=Math.max(2,Math.floor(nt.dom.offsetHeight/nt.dom.querySelector("li").offsetHeight)-1));let{length:rt}=et.open.options,it=et.open.selected>-1?et.open.selected+tt*(J?1:-1):J?0:rt-1;return it<0?it=$=="page"?0:rt-1:it>=rt&&(it=$=="page"?rt-1:0),_e.dispatch({effects:setSelectedEffect.of(it)}),!0}}const acceptCompletion=J=>{let $=J.state.field(completionState,!1);return J.state.readOnly||!$||!$.open||$.open.selected<0||$.open.disabled||Date.now()-$.open.timestamp<J.state.facet(completionConfig).interactionDelay?!1:applyCompletion(J,$.open.options[$.open.selected])},startCompletion=J=>J.state.field(completionState,!1)?(J.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=J=>{let $=J.state.field(completionState,!1);return!$||!$.active.some(_e=>_e.state!=0)?!1:(J.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor($,_e){this.active=$,this.context=_e,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let $ of J.state.field(completionState).active)$.isPending&&this.startQuery($)}update(J){let $=J.state.field(completionState),_e=J.state.facet(completionConfig);if(!J.selectionSet&&!J.docChanged&&J.startState.field(completionState)==$)return;let et=J.transactions.some(nt=>{let rt=getUpdateType(nt,_e);return rt&8||(nt.selection||nt.docChanged)&&!(rt&3)});for(let nt=0;nt<this.running.length;nt++){let rt=this.running[nt];if(et||rt.context.abortOnDocChange&&J.docChanged||rt.updates.length+J.transactions.length>MaxUpdateCount&&Date.now()-rt.time>MinAbortTime){for(let it of rt.context.abortListeners)try{it()}catch(ot){logException(this.view.state,ot)}rt.context.abortListeners=null,this.running.splice(nt--,1)}else rt.updates.push(...J.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),J.transactions.some(nt=>nt.effects.some(rt=>rt.is(startCompletionEffect)))&&(this.pendingStart=!0);let tt=this.pendingStart?50:_e.activateOnTypingDelay;if(this.debounceUpdate=$.active.some(nt=>nt.isPending&&!this.running.some(rt=>rt.active.source==nt.source))?setTimeout(()=>this.startUpdate(),tt):-1,this.composing!=0)for(let nt of J.transactions)nt.isUserEvent("input.type")?this.composing=2:this.composing==2&&nt.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:J}=this.view,$=J.field(completionState);for(let _e of $.active)_e.isPending&&!this.running.some(et=>et.active.source==_e.source)&&this.startQuery(_e);this.running.length&&$.open&&$.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(J){let{state:$}=this.view,_e=cur($),et=new CompletionContext($,_e,J.explicit,this.view),tt=new RunningQuery(J,et);this.running.push(tt),Promise.resolve(J.source(et)).then(nt=>{tt.context.aborted||(tt.done=nt||null,this.scheduleAccept())},nt=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,nt)})}scheduleAccept(){this.running.every(J=>J.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var J;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let $=[],_e=this.view.state.facet(completionConfig),et=this.view.state.field(completionState);for(let tt=0;tt<this.running.length;tt++){let nt=this.running[tt];if(nt.done===void 0)continue;if(this.running.splice(tt--,1),nt.done){let it=cur(nt.updates.length?nt.updates[0].startState:this.view.state),ot=Math.min(it,nt.done.from+(nt.active.explicit?0:1)),st=new ActiveResult(nt.active.source,nt.active.explicit,ot,nt.done,nt.done.from,(J=nt.done.to)!==null&&J!==void 0?J:it);for(let at of nt.updates)st=st.update(at,_e);if(st.hasResult()){$.push(st);continue}}let rt=et.active.find(it=>it.source==nt.active.source);if(rt&&rt.isPending)if(nt.done==null){let it=new ActiveSource(nt.active.source,0);for(let ot of nt.updates)it=it.update(ot,_e);it.isPending||$.push(it)}else this.startQuery(rt)}($.length||et.open&&et.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of($)})}},{eventHandlers:{blur(J){let $=this.view.state.field(completionState,!1);if($&&$.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let _e=$.open&&getTooltip(this.view,$.open.tooltip);(!_e||!_e.dom.contains(J.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(J,$){let _e=$.state.field(completionState,!1);if(!_e||!_e.open||_e.open.disabled||_e.open.selected<0||J.key.length>1||J.ctrlKey&&!(windows&&J.altKey)||J.metaKey)return!1;let et=_e.open.options[_e.open.selected],tt=_e.active.find(rt=>rt.source==et.source),nt=et.completion.commitCharacters||tt.result.commitCharacters;return nt&&nt.indexOf(J.key)>-1&&applyCompletion($,et),!1}})),baseTheme$3=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor($,_e,et,tt){this.field=$,this.line=_e,this.from=et,this.to=tt}}class FieldRange{constructor($,_e,et){this.field=$,this.from=_e,this.to=et}map($){let _e=$.mapPos(this.from,-1,MapMode.TrackDel),et=$.mapPos(this.to,1,MapMode.TrackDel);return _e==null||et==null?null:new FieldRange(this.field,_e,et)}}class Snippet{constructor($,_e){this.lines=$,this.fieldPositions=_e}instantiate($,_e){let et=[],tt=[_e],nt=$.doc.lineAt(_e),rt=/^\s*/.exec(nt.text)[0];for(let ot of this.lines){if(et.length){let st=rt,at=/^\t*/.exec(ot)[0].length;for(let ct=0;ct<at;ct++)st+=$.facet(indentUnit);tt.push(_e+st.length-at),ot=st+ot.slice(at)}et.push(ot),_e+=ot.length+1}let it=this.fieldPositions.map(ot=>new FieldRange(ot.field,tt[ot.line]+ot.from,tt[ot.line]+ot.to));return{text:et,ranges:it}}static parse($){let _e=[],et=[],tt=[],nt;for(let rt of $.split(/\r\n?|\n/)){for(;nt=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(rt);){let it=nt[1]?+nt[1]:null,ot=nt[2]||nt[3]||"",st=-1,at=ot.replace(/\\[{}]/g,ct=>ct[1]);for(let ct=0;ct<_e.length;ct++)(it!=null?_e[ct].seq==it:at&&_e[ct].name==at)&&(st=ct);if(st<0){let ct=0;for(;ct<_e.length&&(it==null||_e[ct].seq!=null&&_e[ct].seq<it);)ct++;_e.splice(ct,0,{seq:it,name:at}),st=ct;for(let ut of tt)ut.field>=st&&ut.field++}tt.push(new FieldPos(st,et.length,nt.index,nt.index+at.length)),rt=rt.slice(0,nt.index)+ot+rt.slice(nt.index+nt[0].length)}rt=rt.replace(/\\([{}])/g,(it,ot,st)=>{for(let at of tt)at.line==et.length&&at.from>st&&(at.from--,at.to--);return ot}),et.push(rt)}return new Snippet(et,tt)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let J=document.createElement("span");return J.className="cm-snippetFieldPosition",J}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor($,_e){this.ranges=$,this.active=_e,this.deco=Decoration.set($.map(et=>(et.from==et.to?fieldMarker:fieldRange).range(et.from,et.to)))}map($){let _e=[];for(let et of this.ranges){let tt=et.map($);if(!tt)return null;_e.push(tt)}return new ActiveSnippet(_e,this.active)}selectionInsideField($){return $.ranges.every(_e=>this.ranges.some(et=>et.field==this.active&&et.from<=_e.from&&et.to>=_e.to))}}const setActive=StateEffect.define({map(J,$){return J&&J.map($)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(J,$){for(let _e of $.effects){if(_e.is(setActive))return _e.value;if(_e.is(moveToField)&&J)return new ActiveSnippet(J.ranges,_e.value)}return J&&$.docChanged&&(J=J.map($.changes)),J&&$.selection&&!J.selectionInsideField($.selection)&&(J=null),J},provide:J=>EditorView.decorations.from(J,$=>$?$.deco:Decoration.none)});function fieldSelection(J,$){return EditorSelection.create(J.filter(_e=>_e.field==$).map(_e=>EditorSelection.range(_e.from,_e.to)))}function snippet(J){let $=Snippet.parse(J);return(_e,et,tt,nt)=>{let{text:rt,ranges:it}=$.instantiate(_e.state,tt),{main:ot}=_e.state.selection,st={changes:{from:tt,to:nt==ot.from?ot.to:nt,insert:Text$1.of(rt)},scrollIntoView:!0,annotations:et?[pickedCompletion.of(et),Transaction.userEvent.of("input.complete")]:void 0};if(it.length&&(st.selection=fieldSelection(it,0)),it.some(at=>at.field>0)){let at=new ActiveSnippet(it,0),ct=st.effects=[setActive.of(at)];_e.state.field(snippetState,!1)===void 0&&ct.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$3]))}_e.dispatch(_e.state.update(st))}}function moveField(J){return({state:$,dispatch:_e})=>{let et=$.field(snippetState,!1);if(!et||J<0&&et.active==0)return!1;let tt=et.active+J,nt=J>0&&!et.ranges.some(rt=>rt.field==tt+J);return _e($.update({selection:fieldSelection(et.ranges,tt),effects:setActive.of(nt?null:new ActiveSnippet(et.ranges,tt)),scrollIntoView:!0})),!0}}const clearSnippet=({state:J,dispatch:$})=>J.field(snippetState,!1)?($(J.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(J){return J.length?J[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],J=>J.facet(snippetKeymap)));function snippetCompletion(J,$){return Object.assign(Object.assign({},$),{apply:snippet(J)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(J,$){let _e=$.state.field(snippetState,!1),et;if(!_e||(et=$.posAtCoords({x:J.clientX,y:J.clientY}))==null)return!1;let tt=_e.ranges.find(nt=>nt.from<=et&&nt.to>=et);return!tt||tt.field==_e.active?!1:($.dispatch({selection:fieldSelection(_e.ranges,tt.field),effects:setActive.of(_e.ranges.some(nt=>nt.field>tt.field)?new ActiveSnippet(_e.ranges,tt.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(J,$){let _e=$.mapPos(J,-1,MapMode.TrackAfter);return _e??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1,closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(J,$){if(J=J.map($.changes),$.selection){let _e=$.state.doc.lineAt($.selection.main.head);J=J.update({filter:et=>et>=_e.from&&et<=_e.to})}for(let _e of $.effects)_e.is(closeBracketEffect)&&(J=J.update({add:[closedBracket.range(_e.value,_e.value+1)]}));return J}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(J){for(let $=0;$<definedClosing.length;$+=2)if(definedClosing.charCodeAt($)==J)return definedClosing.charAt($+1);return fromCodePoint(J<128?J:J+1)}function config(J,$){return J.languageDataAt("closeBrackets",$)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((J,$,_e,et)=>{if((android$1?J.composing:J.compositionStarted)||J.state.readOnly)return!1;let tt=J.state.selection.main;if(et.length>2||et.length==2&&codePointSize(codePointAt(et,0))==1||$!=tt.from||_e!=tt.to)return!1;let nt=insertBracket(J.state,et);return nt?(J.dispatch(nt),!0):!1}),deleteBracketPair=({state:J,dispatch:$})=>{if(J.readOnly)return!1;let et=config(J,J.selection.main.head).brackets||defaults.brackets,tt=null,nt=J.changeByRange(rt=>{if(rt.empty){let it=prevChar(J.doc,rt.head);for(let ot of et)if(ot==it&&nextChar(J.doc,rt.head)==closing(codePointAt(ot,0)))return{changes:{from:rt.head-ot.length,to:rt.head+ot.length},range:EditorSelection.cursor(rt.head-ot.length)}}return{range:tt=rt}});return tt||$(J.update(nt,{scrollIntoView:!0,userEvent:"delete.backward"})),!tt},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(J,$){let _e=config(J,J.selection.main.head),et=_e.brackets||defaults.brackets;for(let tt of et){let nt=closing(codePointAt(tt,0));if($==tt)return nt==tt?handleSame(J,tt,et.indexOf(tt+tt+tt)>-1,_e):handleOpen(J,tt,nt,_e.before||defaults.before);if($==nt&&closedBracketAt(J,J.selection.main.from))return handleClose(J,tt,nt)}return null}function closedBracketAt(J,$){let _e=!1;return J.field(bracketState).between(0,J.doc.length,et=>{et==$&&(_e=!0)}),_e}function nextChar(J,$){let _e=J.sliceString($,$+2);return _e.slice(0,codePointSize(codePointAt(_e,0)))}function prevChar(J,$){let _e=J.sliceString($-2,$);return codePointSize(codePointAt(_e,0))==_e.length?_e:_e.slice(1)}function handleOpen(J,$,_e,et){let tt=null,nt=J.changeByRange(rt=>{if(!rt.empty)return{changes:[{insert:$,from:rt.from},{insert:_e,from:rt.to}],effects:closeBracketEffect.of(rt.to+$.length),range:EditorSelection.range(rt.anchor+$.length,rt.head+$.length)};let it=nextChar(J.doc,rt.head);return!it||/\s/.test(it)||et.indexOf(it)>-1?{changes:{insert:$+_e,from:rt.head},effects:closeBracketEffect.of(rt.head+$.length),range:EditorSelection.cursor(rt.head+$.length)}:{range:tt=rt}});return tt?null:J.update(nt,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(J,$,_e){let et=null,tt=J.changeByRange(nt=>nt.empty&&nextChar(J.doc,nt.head)==_e?{changes:{from:nt.head,to:nt.head+_e.length,insert:_e},range:EditorSelection.cursor(nt.head+_e.length)}:et={range:nt});return et?null:J.update(tt,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(J,$,_e,et){let tt=et.stringPrefixes||defaults.stringPrefixes,nt=null,rt=J.changeByRange(it=>{if(!it.empty)return{changes:[{insert:$,from:it.from},{insert:$,from:it.to}],effects:closeBracketEffect.of(it.to+$.length),range:EditorSelection.range(it.anchor+$.length,it.head+$.length)};let ot=it.head,st=nextChar(J.doc,ot),at;if(st==$){if(nodeStart(J,ot))return{changes:{insert:$+$,from:ot},effects:closeBracketEffect.of(ot+$.length),range:EditorSelection.cursor(ot+$.length)};if(closedBracketAt(J,ot)){let ut=_e&&J.sliceDoc(ot,ot+$.length*3)==$+$+$?$+$+$:$;return{changes:{from:ot,to:ot+ut.length,insert:ut},range:EditorSelection.cursor(ot+ut.length)}}}else{if(_e&&J.sliceDoc(ot-2*$.length,ot)==$+$&&(at=canStartStringAt(J,ot-2*$.length,tt))>-1&&nodeStart(J,at))return{changes:{insert:$+$+$+$,from:ot},effects:closeBracketEffect.of(ot+$.length),range:EditorSelection.cursor(ot+$.length)};if(J.charCategorizer(ot)(st)!=CharCategory.Word&&canStartStringAt(J,ot,tt)>-1&&!probablyInString(J,ot,$,tt))return{changes:{insert:$+$,from:ot},effects:closeBracketEffect.of(ot+$.length),range:EditorSelection.cursor(ot+$.length)}}return{range:nt=it}});return nt?null:J.update(rt,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(J,$){let _e=syntaxTree(J).resolveInner($+1);return _e.parent&&_e.from==$}function probablyInString(J,$,_e,et){let tt=syntaxTree(J).resolveInner($,-1),nt=et.reduce((rt,it)=>Math.max(rt,it.length),0);for(let rt=0;rt<5;rt++){let it=J.sliceDoc(tt.from,Math.min(tt.to,tt.from+_e.length+nt)),ot=it.indexOf(_e);if(!ot||ot>-1&&et.indexOf(it.slice(0,ot))>-1){let at=tt.firstChild;for(;at&&at.from==tt.from&&at.to-at.from>_e.length+ot;){if(J.sliceDoc(at.to-_e.length,at.to)==_e)return!1;at=at.firstChild}return!0}let st=tt.to==$&&tt.parent;if(!st)break;tt=st}return!1}function canStartStringAt(J,$,_e){let et=J.charCategorizer($);if(et(J.sliceDoc($-1,$))!=CharCategory.Word)return $;for(let tt of _e){let nt=$-tt.length;if(J.sliceDoc(nt,$)==tt&&et(J.sliceDoc(nt-1,nt))!=CharCategory.Word)return nt}return-1}function autocompletion(J={}){return[commitCharacters,completionState,completionConfig.of(J),completionPlugin,completionKeymapExt,baseTheme$3]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],J=>J.facet(completionConfig).defaultKeymap?[completionKeymap]:[])),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(J){return($,_e)=>{let et=$.node.getChild("VariableDefinition");return et&&_e(et,J),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(J,$){J.matchContext(functionContext)||$(J,"variable")},TypeDefinition(J,$){$(J,"type")},__proto__:null};function getScope(J,$){let _e=cache.get($);if(_e)return _e;let et=[],tt=!0;function nt(rt,it){let ot=J.sliceString(rt.from,rt.to);et.push({label:ot,type:it})}return $.cursor(IterMode.IncludeAnonymous).iterate(rt=>{if(tt)tt=!1;else if(rt.name){let it=gatherCompletions[rt.name];if(it&&it(rt,nt)||ScopeNodes.has(rt.name))return!1}else if(rt.to-rt.from>8192){for(let it of getScope(J,rt.node))et.push(it);return!1}}),cache.set($,et),et}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(J){let $=syntaxTree(J.state).resolveInner(J.pos,-1);if(dontComplete.indexOf($.name)>-1)return null;let _e=$.name=="VariableName"||$.to-$.from<20&&Identifier.test(J.state.sliceDoc($.from,$.to));if(!_e&&!J.explicit)return null;let et=[];for(let tt=$;tt;tt=tt.parent)ScopeNodes.has(tt.name)&&(et=et.concat(getScope(J.state.doc,tt)));return{options:et,from:_e?$.from:J.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:J=>{let $=J.textAfter,_e=/^\s*\}/.test($),et=/^\s*(case|default)\b/.test($);return J.baseIndent+(_e?0:et?1:2)*J.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:J=>J.baseIndent+J.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(J){let $=/^\s*<\//.test(J.textAfter);return J.lineIndent(J.node.from)+($?0:J.unit)},JSXEscape(J){let $=/\s*\}/.test(J.textAfter);return J.lineIndent(J.node.from)+($?0:J.unit)},"JSXOpenTag JSXSelfClosingTag"(J){return J.column(J.node.from)+J.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(J){return{from:J.from+2,to:J.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:J=>/^JSX/.test(J.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(J=>J.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(J=>J.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=J=>({label:J,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(J={}){let $=J.jsx?J.typescript?tsxLanguage:jsxLanguage:J.typescript?typescriptLanguage:javascriptLanguage,_e=J.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport($,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(_e))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),J.jsx?autoCloseTags:[]])}function findOpenTag(J){for(;;){if(J.name=="JSXOpenTag"||J.name=="JSXSelfClosingTag"||J.name=="JSXFragmentTag")return J;if(J.name=="JSXEscape"||!J.parent)return null;J=J.parent}}function elementName(J,$,_e=J.length){for(let et=$==null?void 0:$.firstChild;et;et=et.nextSibling)if(et.name=="JSXIdentifier"||et.name=="JSXBuiltin"||et.name=="JSXNamespacedName"||et.name=="JSXMemberExpression")return J.sliceString(et.from,Math.min(et.to,_e));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((J,$,_e,et,tt)=>{if((android?J.composing:J.compositionStarted)||J.state.readOnly||$!=_e||et!=">"&&et!="/"||!javascriptLanguage.isActiveAt(J.state,$,-1))return!1;let nt=tt(),{state:rt}=nt,it=rt.changeByRange(ot=>{var st;let{head:at}=ot,ct=syntaxTree(rt).resolveInner(at-1,-1),ut;if(ct.name=="JSXStartTag"&&(ct=ct.parent),!(rt.doc.sliceString(at-1,at)!=et||ct.name=="JSXAttributeValue"&&ct.to>at)){if(et==">"&&ct.name=="JSXFragmentTag")return{range:ot,changes:{from:at,insert:"</>"}};if(et=="/"&&ct.name=="JSXStartCloseTag"){let ft=ct.parent,dt=ft.parent;if(dt&&ft.from==at-2&&((ut=elementName(rt.doc,dt.firstChild,at))||((st=dt.firstChild)===null||st===void 0?void 0:st.name)=="JSXFragmentTag")){let pt=`${ut}>`;return{range:EditorSelection.cursor(at+pt.length,-1),changes:{from:at,insert:pt}}}}else if(et==">"){let ft=findOpenTag(ct);if(ft&&ft.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(rt.doc.sliceString(at,at+2))&&(ut=elementName(rt.doc,ft,at)))return{range:ot,changes:{from:at,insert:`</${ut}>`}}}}return{range:ot}});return it.changes.empty?!1:(J.dispatch([nt,rt.update(it,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),toggleComment=J=>{let{state:$}=J,_e=$.doc.lineAt($.selection.main.from),et=getConfig(J.state,_e.from);return et.line?toggleLineComment(J):et.block?toggleBlockCommentByLine(J):!1};function command(J,$){return({state:_e,dispatch:et})=>{if(_e.readOnly)return!1;let tt=J($,_e);return tt?(et(_e.update(tt)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((J,$)=>changeBlockComment(J,$,selectedLineRanges($)),0);function getConfig(J,$){let _e=J.languageDataAt("commentTokens",$);return _e.length?_e[0]:{}}const SearchMargin=50;function findBlockComment(J,{open:$,close:_e},et,tt){let nt=J.sliceDoc(et-SearchMargin,et),rt=J.sliceDoc(tt,tt+SearchMargin),it=/\s*$/.exec(nt)[0].length,ot=/^\s*/.exec(rt)[0].length,st=nt.length-it;if(nt.slice(st-$.length,st)==$&&rt.slice(ot,ot+_e.length)==_e)return{open:{pos:et-it,margin:it&&1},close:{pos:tt+ot,margin:ot&&1}};let at,ct;tt-et<=2*SearchMargin?at=ct=J.sliceDoc(et,tt):(at=J.sliceDoc(et,et+SearchMargin),ct=J.sliceDoc(tt-SearchMargin,tt));let ut=/^\s*/.exec(at)[0].length,ft=/\s*$/.exec(ct)[0].length,dt=ct.length-ft-_e.length;return at.slice(ut,ut+$.length)==$&&ct.slice(dt,dt+_e.length)==_e?{open:{pos:et+ut+$.length,margin:/\s/.test(at.charAt(ut+$.length))?1:0},close:{pos:tt-ft-_e.length,margin:/\s/.test(ct.charAt(dt-1))?1:0}}:null}function selectedLineRanges(J){let $=[];for(let _e of J.selection.ranges){let et=J.doc.lineAt(_e.from),tt=_e.to<=et.to?et:J.doc.lineAt(_e.to);tt.from>et.from&&tt.from==_e.to&&(tt=_e.to==et.to+1?et:J.doc.lineAt(_e.to-1));let nt=$.length-1;nt>=0&&$[nt].to>et.from?$[nt].to=tt.to:$.push({from:et.from+/^\s*/.exec(et.text)[0].length,to:tt.to})}return $}function changeBlockComment(J,$,_e=$.selection.ranges){let et=_e.map(nt=>getConfig($,nt.from).block);if(!et.every(nt=>nt))return null;let tt=_e.map((nt,rt)=>findBlockComment($,et[rt],nt.from,nt.to));if(J!=2&&!tt.every(nt=>nt))return{changes:$.changes(_e.map((nt,rt)=>tt[rt]?[]:[{from:nt.from,insert:et[rt].open+" "},{from:nt.to,insert:" "+et[rt].close}]))};if(J!=1&&tt.some(nt=>nt)){let nt=[];for(let rt=0,it;rt<tt.length;rt++)if(it=tt[rt]){let ot=et[rt],{open:st,close:at}=it;nt.push({from:st.pos-ot.open.length,to:st.pos+st.margin},{from:at.pos-at.margin,to:at.pos+ot.close.length})}return{changes:nt}}return null}function changeLineComment(J,$,_e=$.selection.ranges){let et=[],tt=-1;for(let{from:nt,to:rt}of _e){let it=et.length,ot=1e9,st=getConfig($,nt).line;if(st){for(let at=nt;at<=rt;){let ct=$.doc.lineAt(at);if(ct.from>tt&&(nt==rt||rt>ct.from)){tt=ct.from;let ut=/^\s*/.exec(ct.text)[0].length,ft=ut==ct.length,dt=ct.text.slice(ut,ut+st.length)==st?ut:-1;ut<ct.text.length&&ut<ot&&(ot=ut),et.push({line:ct,comment:dt,token:st,indent:ut,empty:ft,single:!1})}at=ct.to+1}if(ot<1e9)for(let at=it;at<et.length;at++)et[at].indent<et[at].line.text.length&&(et[at].indent=ot);et.length==it+1&&(et[it].single=!0)}}if(J!=2&&et.some(nt=>nt.comment<0&&(!nt.empty||nt.single))){let nt=[];for(let{line:it,token:ot,indent:st,empty:at,single:ct}of et)(ct||!at)&&nt.push({from:it.from+st,insert:ot+" "});let rt=$.changes(nt);return{changes:rt,selection:$.selection.map(rt,1)}}else if(J!=1&&et.some(nt=>nt.comment>=0)){let nt=[];for(let{line:rt,comment:it,token:ot}of et)if(it>=0){let st=rt.from+it,at=st+ot.length;rt.text[at-rt.from]==" "&&at++,nt.push({from:st,to:at})}return{changes:nt}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(J){return combineConfig(J,{minDepth:100,newGroupDelay:500,joinToEvent:($,_e)=>_e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:($,_e)=>(et,tt)=>$(et,tt)||_e(et,tt)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(J,$){let _e=$.state.facet(historyConfig),et=$.annotation(fromHistory);if(et){let ot=HistEvent.fromTransaction($,et.selection),st=et.side,at=st==0?J.undone:J.done;return ot?at=updateBranch(at,at.length,_e.minDepth,ot):at=addSelection(at,$.startState.selection),new HistoryState(st==0?et.rest:at,st==0?at:et.rest)}let tt=$.annotation(isolateHistory);if((tt=="full"||tt=="before")&&(J=J.isolate()),$.annotation(Transaction.addToHistory)===!1)return $.changes.empty?J:J.addMapping($.changes.desc);let nt=HistEvent.fromTransaction($),rt=$.annotation(Transaction.time),it=$.annotation(Transaction.userEvent);return nt?J=J.addChanges(nt,rt,it,_e,$):$.selection&&(J=J.addSelection($.startState.selection,rt,it,_e.newGroupDelay)),(tt=="full"||tt=="after")&&(J=J.isolate()),J},toJSON(J){return{done:J.done.map($=>$.toJSON()),undone:J.undone.map($=>$.toJSON())}},fromJSON(J){return new HistoryState(J.done.map(HistEvent.fromJSON),J.undone.map(HistEvent.fromJSON))}});function history(J={}){return[historyField_,historyConfig.of(J),EditorView.domEventHandlers({beforeinput($,_e){let et=$.inputType=="historyUndo"?undo:$.inputType=="historyRedo"?redo:null;return et?($.preventDefault(),et(_e)):!1}})]}function cmd(J,$){return function({state:_e,dispatch:et}){if(!$&&_e.readOnly)return!1;let tt=_e.field(historyField_,!1);if(!tt)return!1;let nt=tt.pop(J,_e,$);return nt?(et(nt),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor($,_e,et,tt,nt){this.changes=$,this.effects=_e,this.mapped=et,this.startSelection=tt,this.selectionsAfter=nt}setSelAfter($){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,$)}toJSON(){var $,_e,et;return{changes:($=this.changes)===null||$===void 0?void 0:$.toJSON(),mapped:(_e=this.mapped)===null||_e===void 0?void 0:_e.toJSON(),startSelection:(et=this.startSelection)===null||et===void 0?void 0:et.toJSON(),selectionsAfter:this.selectionsAfter.map(tt=>tt.toJSON())}}static fromJSON($){return new HistEvent($.changes&&ChangeSet.fromJSON($.changes),[],$.mapped&&ChangeDesc.fromJSON($.mapped),$.startSelection&&EditorSelection.fromJSON($.startSelection),$.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction($,_e){let et=none;for(let tt of $.startState.facet(invertedEffects)){let nt=tt($);nt.length&&(et=et.concat(nt))}return!et.length&&$.changes.empty?null:new HistEvent($.changes.invert($.startState.doc),et,void 0,_e||$.startState.selection,none)}static selection($){return new HistEvent(void 0,none,void 0,void 0,$)}}function updateBranch(J,$,_e,et){let tt=$+1>_e+20?$-_e-1:0,nt=J.slice(tt,$);return nt.push(et),nt}function isAdjacent(J,$){let _e=[],et=!1;return J.iterChangedRanges((tt,nt)=>_e.push(tt,nt)),$.iterChangedRanges((tt,nt,rt,it)=>{for(let ot=0;ot<_e.length;){let st=_e[ot++],at=_e[ot++];it>=st&&rt<=at&&(et=!0)}}),et}function eqSelectionShape(J,$){return J.ranges.length==$.ranges.length&&J.ranges.filter((_e,et)=>_e.empty!=$.ranges[et].empty).length===0}function conc(J,$){return J.length?$.length?J.concat($):J:$}const none=[],MaxSelectionsPerEvent=200;function addSelection(J,$){if(J.length){let _e=J[J.length-1],et=_e.selectionsAfter.slice(Math.max(0,_e.selectionsAfter.length-MaxSelectionsPerEvent));return et.length&&et[et.length-1].eq($)?J:(et.push($),updateBranch(J,J.length-1,1e9,_e.setSelAfter(et)))}else return[HistEvent.selection([$])]}function popSelection(J){let $=J[J.length-1],_e=J.slice();return _e[J.length-1]=$.setSelAfter($.selectionsAfter.slice(0,$.selectionsAfter.length-1)),_e}function addMappingToBranch(J,$){if(!J.length)return J;let _e=J.length,et=none;for(;_e;){let tt=mapEvent(J[_e-1],$,et);if(tt.changes&&!tt.changes.empty||tt.effects.length){let nt=J.slice(0,_e);return nt[_e-1]=tt,nt}else $=tt.mapped,_e--,et=tt.selectionsAfter}return et.length?[HistEvent.selection(et)]:none}function mapEvent(J,$,_e){let et=conc(J.selectionsAfter.length?J.selectionsAfter.map(it=>it.map($)):none,_e);if(!J.changes)return HistEvent.selection(et);let tt=J.changes.map($),nt=$.mapDesc(J.changes,!0),rt=J.mapped?J.mapped.composeDesc(nt):nt;return new HistEvent(tt,StateEffect.mapEffects(J.effects,$),rt,J.startSelection.map(nt),et)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor($,_e,et=0,tt=void 0){this.done=$,this.undone=_e,this.prevTime=et,this.prevUserEvent=tt}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges($,_e,et,tt,nt){let rt=this.done,it=rt[rt.length-1];return it&&it.changes&&!it.changes.empty&&$.changes&&(!et||joinableUserEvent.test(et))&&(!it.selectionsAfter.length&&_e-this.prevTime<tt.newGroupDelay&&tt.joinToEvent(nt,isAdjacent(it.changes,$.changes))||et=="input.type.compose")?rt=updateBranch(rt,rt.length-1,tt.minDepth,new HistEvent($.changes.compose(it.changes),conc(StateEffect.mapEffects($.effects,it.changes),it.effects),it.mapped,it.startSelection,none)):rt=updateBranch(rt,rt.length,tt.minDepth,$),new HistoryState(rt,none,_e,et)}addSelection($,_e,et,tt){let nt=this.done.length?this.done[this.done.length-1].selectionsAfter:none;return nt.length>0&&_e-this.prevTime<tt&&et==this.prevUserEvent&&et&&/^select($|\.)/.test(et)&&eqSelectionShape(nt[nt.length-1],$)?this:new HistoryState(addSelection(this.done,$),this.undone,_e,et)}addMapping($){return new HistoryState(addMappingToBranch(this.done,$),addMappingToBranch(this.undone,$),this.prevTime,this.prevUserEvent)}pop($,_e,et){let tt=$==0?this.done:this.undone;if(tt.length==0)return null;let nt=tt[tt.length-1],rt=nt.selectionsAfter[0]||_e.selection;if(et&&nt.selectionsAfter.length)return _e.update({selection:nt.selectionsAfter[nt.selectionsAfter.length-1],annotations:fromHistory.of({side:$,rest:popSelection(tt),selection:rt}),userEvent:$==0?"select.undo":"select.redo",scrollIntoView:!0});if(nt.changes){let it=tt.length==1?none:tt.slice(0,tt.length-1);return nt.mapped&&(it=addMappingToBranch(it,nt.mapped)),_e.update({changes:nt.changes,selection:nt.startSelection,effects:nt.effects,annotations:fromHistory.of({side:$,rest:it,selection:rt}),filter:!1,userEvent:$==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none,none);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(J,$){return EditorSelection.create(J.ranges.map($),J.mainIndex)}function setSel(J,$){return J.update({selection:$,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:J,dispatch:$},_e){let et=updateSel(J.selection,_e);return et.eq(J.selection,!0)?!1:($(setSel(J,et)),!0)}function rangeEnd(J,$){return EditorSelection.cursor($?J.to:J.from)}function cursorByChar(J,$){return moveSel(J,_e=>_e.empty?J.moveByChar(_e,$):rangeEnd(_e,$))}function ltrAtCursor(J){return J.textDirectionAt(J.state.selection.main.head)==Direction.LTR}const cursorCharLeft=J=>cursorByChar(J,!ltrAtCursor(J)),cursorCharRight=J=>cursorByChar(J,ltrAtCursor(J));function cursorByGroup(J,$){return moveSel(J,_e=>_e.empty?J.moveByGroup(_e,$):rangeEnd(_e,$))}const cursorGroupLeft=J=>cursorByGroup(J,!ltrAtCursor(J)),cursorGroupRight=J=>cursorByGroup(J,ltrAtCursor(J));function interestingNode(J,$,_e){if($.type.prop(_e))return!0;let et=$.to-$.from;return et&&(et>2||/[^\s,.;:]/.test(J.sliceDoc($.from,$.to)))||$.firstChild}function moveBySyntax(J,$,_e){let et=syntaxTree(J).resolveInner($.head),tt=_e?NodeProp.closedBy:NodeProp.openedBy;for(let ot=$.head;;){let st=_e?et.childAfter(ot):et.childBefore(ot);if(!st)break;interestingNode(J,st,tt)?et=st:ot=_e?st.to:st.from}let nt=et.type.prop(tt),rt,it;return nt&&(rt=_e?matchBrackets(J,et.from,1):matchBrackets(J,et.to,-1))&&rt.matched?it=_e?rt.end.to:rt.end.from:it=_e?et.to:et.from,EditorSelection.cursor(it,_e?-1:1)}const cursorSyntaxLeft=J=>moveSel(J,$=>moveBySyntax(J.state,$,!ltrAtCursor(J))),cursorSyntaxRight=J=>moveSel(J,$=>moveBySyntax(J.state,$,ltrAtCursor(J)));function cursorByLine(J,$){return moveSel(J,_e=>{if(!_e.empty)return rangeEnd(_e,$);let et=J.moveVertically(_e,$);return et.head!=_e.head?et:J.moveToLineBoundary(_e,$)})}const cursorLineUp=J=>cursorByLine(J,!1),cursorLineDown=J=>cursorByLine(J,!0);function pageInfo(J){let $=J.scrollDOM.clientHeight<J.scrollDOM.scrollHeight-2,_e=0,et=0,tt;if($){for(let nt of J.state.facet(EditorView.scrollMargins)){let rt=nt(J);rt!=null&&rt.top&&(_e=Math.max(rt==null?void 0:rt.top,_e)),rt!=null&&rt.bottom&&(et=Math.max(rt==null?void 0:rt.bottom,et))}tt=J.scrollDOM.clientHeight-_e-et}else tt=(J.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:_e,marginBottom:et,selfScroll:$,height:Math.max(J.defaultLineHeight,tt-5)}}function cursorByPage(J,$){let _e=pageInfo(J),{state:et}=J,tt=updateSel(et.selection,rt=>rt.empty?J.moveVertically(rt,$,_e.height):rangeEnd(rt,$));if(tt.eq(et.selection))return!1;let nt;if(_e.selfScroll){let rt=J.coordsAtPos(et.selection.main.head),it=J.scrollDOM.getBoundingClientRect(),ot=it.top+_e.marginTop,st=it.bottom-_e.marginBottom;rt&&rt.top>ot&&rt.bottom<st&&(nt=EditorView.scrollIntoView(tt.main.head,{y:"start",yMargin:rt.top-ot}))}return J.dispatch(setSel(et,tt),{effects:nt}),!0}const cursorPageUp=J=>cursorByPage(J,!1),cursorPageDown=J=>cursorByPage(J,!0);function moveByLineBoundary(J,$,_e){let et=J.lineBlockAt($.head),tt=J.moveToLineBoundary($,_e);if(tt.head==$.head&&tt.head!=(_e?et.to:et.from)&&(tt=J.moveToLineBoundary($,_e,!1)),!_e&&tt.head==et.from&&et.length){let nt=/^\s*/.exec(J.state.sliceDoc(et.from,Math.min(et.from+100,et.to)))[0].length;nt&&$.head!=et.from+nt&&(tt=EditorSelection.cursor(et.from+nt))}return tt}const cursorLineBoundaryForward=J=>moveSel(J,$=>moveByLineBoundary(J,$,!0)),cursorLineBoundaryBackward=J=>moveSel(J,$=>moveByLineBoundary(J,$,!1)),cursorLineBoundaryLeft=J=>moveSel(J,$=>moveByLineBoundary(J,$,!ltrAtCursor(J))),cursorLineBoundaryRight=J=>moveSel(J,$=>moveByLineBoundary(J,$,ltrAtCursor(J))),cursorLineStart=J=>moveSel(J,$=>EditorSelection.cursor(J.lineBlockAt($.head).from,1)),cursorLineEnd=J=>moveSel(J,$=>EditorSelection.cursor(J.lineBlockAt($.head).to,-1));function toMatchingBracket(J,$,_e){let et=!1,tt=updateSel(J.selection,nt=>{let rt=matchBrackets(J,nt.head,-1)||matchBrackets(J,nt.head,1)||nt.head>0&&matchBrackets(J,nt.head-1,1)||nt.head<J.doc.length&&matchBrackets(J,nt.head+1,-1);if(!rt||!rt.end)return nt;et=!0;let it=rt.start.from==nt.head?rt.end.to:rt.end.from;return EditorSelection.cursor(it)});return et?($(setSel(J,tt)),!0):!1}const cursorMatchingBracket=({state:J,dispatch:$})=>toMatchingBracket(J,$);function extendSel(J,$){let _e=updateSel(J.state.selection,et=>{let tt=$(et);return EditorSelection.range(et.anchor,tt.head,tt.goalColumn,tt.bidiLevel||void 0)});return _e.eq(J.state.selection)?!1:(J.dispatch(setSel(J.state,_e)),!0)}function selectByChar(J,$){return extendSel(J,_e=>J.moveByChar(_e,$))}const selectCharLeft=J=>selectByChar(J,!ltrAtCursor(J)),selectCharRight=J=>selectByChar(J,ltrAtCursor(J));function selectByGroup(J,$){return extendSel(J,_e=>J.moveByGroup(_e,$))}const selectGroupLeft=J=>selectByGroup(J,!ltrAtCursor(J)),selectGroupRight=J=>selectByGroup(J,ltrAtCursor(J)),selectSyntaxLeft=J=>extendSel(J,$=>moveBySyntax(J.state,$,!ltrAtCursor(J))),selectSyntaxRight=J=>extendSel(J,$=>moveBySyntax(J.state,$,ltrAtCursor(J)));function selectByLine(J,$){return extendSel(J,_e=>J.moveVertically(_e,$))}const selectLineUp=J=>selectByLine(J,!1),selectLineDown=J=>selectByLine(J,!0);function selectByPage(J,$){return extendSel(J,_e=>J.moveVertically(_e,$,pageInfo(J).height))}const selectPageUp=J=>selectByPage(J,!1),selectPageDown=J=>selectByPage(J,!0),selectLineBoundaryForward=J=>extendSel(J,$=>moveByLineBoundary(J,$,!0)),selectLineBoundaryBackward=J=>extendSel(J,$=>moveByLineBoundary(J,$,!1)),selectLineBoundaryLeft=J=>extendSel(J,$=>moveByLineBoundary(J,$,!ltrAtCursor(J))),selectLineBoundaryRight=J=>extendSel(J,$=>moveByLineBoundary(J,$,ltrAtCursor(J))),selectLineStart=J=>extendSel(J,$=>EditorSelection.cursor(J.lineBlockAt($.head).from)),selectLineEnd=J=>extendSel(J,$=>EditorSelection.cursor(J.lineBlockAt($.head).to)),cursorDocStart=({state:J,dispatch:$})=>($(setSel(J,{anchor:0})),!0),cursorDocEnd=({state:J,dispatch:$})=>($(setSel(J,{anchor:J.doc.length})),!0),selectDocStart=({state:J,dispatch:$})=>($(setSel(J,{anchor:J.selection.main.anchor,head:0})),!0),selectDocEnd=({state:J,dispatch:$})=>($(setSel(J,{anchor:J.selection.main.anchor,head:J.doc.length})),!0),selectAll=({state:J,dispatch:$})=>($(J.update({selection:{anchor:0,head:J.doc.length},userEvent:"select"})),!0),selectLine=({state:J,dispatch:$})=>{let _e=selectedLineBlocks(J).map(({from:et,to:tt})=>EditorSelection.range(et,Math.min(tt+1,J.doc.length)));return $(J.update({selection:EditorSelection.create(_e),userEvent:"select"})),!0},selectParentSyntax=({state:J,dispatch:$})=>{let _e=updateSel(J.selection,et=>{let tt=syntaxTree(J),nt=tt.resolveStack(et.from,1);if(et.empty){let rt=tt.resolveStack(et.from,-1);rt.node.from>=nt.node.from&&rt.node.to<=nt.node.to&&(nt=rt)}for(let rt=nt;rt;rt=rt.next){let{node:it}=rt;if((it.from<et.from&&it.to>=et.to||it.to>et.to&&it.from<=et.from)&&rt.next)return EditorSelection.range(it.to,it.from)}return et});return _e.eq(J.selection)?!1:($(setSel(J,_e)),!0)},simplifySelection=({state:J,dispatch:$})=>{let _e=J.selection,et=null;return _e.ranges.length>1?et=EditorSelection.create([_e.main]):_e.main.empty||(et=EditorSelection.create([EditorSelection.cursor(_e.main.head)])),et?($(setSel(J,et)),!0):!1};function deleteBy(J,$){if(J.state.readOnly)return!1;let _e="delete.selection",{state:et}=J,tt=et.changeByRange(nt=>{let{from:rt,to:it}=nt;if(rt==it){let ot=$(nt);ot<rt?(_e="delete.backward",ot=skipAtomic(J,ot,!1)):ot>rt&&(_e="delete.forward",ot=skipAtomic(J,ot,!0)),rt=Math.min(rt,ot),it=Math.max(it,ot)}else rt=skipAtomic(J,rt,!1),it=skipAtomic(J,it,!0);return rt==it?{range:nt}:{changes:{from:rt,to:it},range:EditorSelection.cursor(rt,rt<nt.head?-1:1)}});return tt.changes.empty?!1:(J.dispatch(et.update(tt,{scrollIntoView:!0,userEvent:_e,effects:_e=="delete.selection"?EditorView.announce.of(et.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(J,$,_e){if(J instanceof EditorView)for(let et of J.state.facet(EditorView.atomicRanges).map(tt=>tt(J)))et.between($,$,(tt,nt)=>{tt<$&&nt>$&&($=_e?nt:tt)});return $}const deleteByChar=(J,$,_e)=>deleteBy(J,et=>{let tt=et.from,{state:nt}=J,rt=nt.doc.lineAt(tt),it,ot;if(_e&&!$&&tt>rt.from&&tt<rt.from+200&&!/[^ \t]/.test(it=rt.text.slice(0,tt-rt.from))){if(it[it.length-1]=="	")return tt-1;let st=countColumn(it,nt.tabSize),at=st%getIndentUnit(nt)||getIndentUnit(nt);for(let ct=0;ct<at&&it[it.length-1-ct]==" ";ct++)tt--;ot=tt}else ot=findClusterBreak(rt.text,tt-rt.from,$,$)+rt.from,ot==tt&&rt.number!=($?nt.doc.lines:1)?ot+=$?1:-1:!$&&/[\ufe00-\ufe0f]/.test(rt.text.slice(ot-rt.from,tt-rt.from))&&(ot=findClusterBreak(rt.text,ot-rt.from,!1,!1)+rt.from);return ot}),deleteCharBackward=J=>deleteByChar(J,!1,!0),deleteCharForward=J=>deleteByChar(J,!0,!1),deleteByGroup=(J,$)=>deleteBy(J,_e=>{let et=_e.head,{state:tt}=J,nt=tt.doc.lineAt(et),rt=tt.charCategorizer(et);for(let it=null;;){if(et==($?nt.to:nt.from)){et==_e.head&&nt.number!=($?tt.doc.lines:1)&&(et+=$?1:-1);break}let ot=findClusterBreak(nt.text,et-nt.from,$)+nt.from,st=nt.text.slice(Math.min(et,ot)-nt.from,Math.max(et,ot)-nt.from),at=rt(st);if(it!=null&&at!=it)break;(st!=" "||et!=_e.head)&&(it=at),et=ot}return et}),deleteGroupBackward=J=>deleteByGroup(J,!1),deleteGroupForward=J=>deleteByGroup(J,!0),deleteToLineEnd=J=>deleteBy(J,$=>{let _e=J.lineBlockAt($.head).to;return $.head<_e?_e:Math.min(J.state.doc.length,$.head+1)}),deleteLineBoundaryBackward=J=>deleteBy(J,$=>{let _e=J.moveToLineBoundary($,!1).head;return $.head>_e?_e:Math.max(0,$.head-1)}),deleteLineBoundaryForward=J=>deleteBy(J,$=>{let _e=J.moveToLineBoundary($,!0).head;return $.head<_e?_e:Math.min(J.state.doc.length,$.head+1)}),splitLine=({state:J,dispatch:$})=>{if(J.readOnly)return!1;let _e=J.changeByRange(et=>({changes:{from:et.from,to:et.to,insert:Text$1.of(["",""])},range:EditorSelection.cursor(et.from)}));return $(J.update(_e,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:J,dispatch:$})=>{if(J.readOnly)return!1;let _e=J.changeByRange(et=>{if(!et.empty||et.from==0||et.from==J.doc.length)return{range:et};let tt=et.from,nt=J.doc.lineAt(tt),rt=tt==nt.from?tt-1:findClusterBreak(nt.text,tt-nt.from,!1)+nt.from,it=tt==nt.to?tt+1:findClusterBreak(nt.text,tt-nt.from,!0)+nt.from;return{changes:{from:rt,to:it,insert:J.doc.slice(tt,it).append(J.doc.slice(rt,tt))},range:EditorSelection.cursor(it)}});return _e.changes.empty?!1:($(J.update(_e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(J){let $=[],_e=-1;for(let et of J.selection.ranges){let tt=J.doc.lineAt(et.from),nt=J.doc.lineAt(et.to);if(!et.empty&&et.to==nt.from&&(nt=J.doc.lineAt(et.to-1)),_e>=tt.number){let rt=$[$.length-1];rt.to=nt.to,rt.ranges.push(et)}else $.push({from:tt.from,to:nt.to,ranges:[et]});_e=nt.number+1}return $}function moveLine(J,$,_e){if(J.readOnly)return!1;let et=[],tt=[];for(let nt of selectedLineBlocks(J)){if(_e?nt.to==J.doc.length:nt.from==0)continue;let rt=J.doc.lineAt(_e?nt.to+1:nt.from-1),it=rt.length+1;if(_e){et.push({from:nt.to,to:rt.to},{from:nt.from,insert:rt.text+J.lineBreak});for(let ot of nt.ranges)tt.push(EditorSelection.range(Math.min(J.doc.length,ot.anchor+it),Math.min(J.doc.length,ot.head+it)))}else{et.push({from:rt.from,to:nt.from},{from:nt.to,insert:J.lineBreak+rt.text});for(let ot of nt.ranges)tt.push(EditorSelection.range(ot.anchor-it,ot.head-it))}}return et.length?($(J.update({changes:et,scrollIntoView:!0,selection:EditorSelection.create(tt,J.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:J,dispatch:$})=>moveLine(J,$,!1),moveLineDown=({state:J,dispatch:$})=>moveLine(J,$,!0);function copyLine(J,$,_e){if(J.readOnly)return!1;let et=[];for(let tt of selectedLineBlocks(J))_e?et.push({from:tt.from,insert:J.doc.slice(tt.from,tt.to)+J.lineBreak}):et.push({from:tt.to,insert:J.lineBreak+J.doc.slice(tt.from,tt.to)});return $(J.update({changes:et,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:J,dispatch:$})=>copyLine(J,$,!1),copyLineDown=({state:J,dispatch:$})=>copyLine(J,$,!0),deleteLine=J=>{if(J.state.readOnly)return!1;let{state:$}=J,_e=$.changes(selectedLineBlocks($).map(({from:tt,to:nt})=>(tt>0?tt--:nt<$.doc.length&&nt++,{from:tt,to:nt}))),et=updateSel($.selection,tt=>{let nt;if(J.lineWrapping){let rt=J.lineBlockAt(tt.head),it=J.coordsAtPos(tt.head,tt.assoc||1);it&&(nt=rt.bottom+J.documentTop-it.bottom+J.defaultLineHeight/2)}return J.moveVertically(tt,!0,nt)}).map(_e);return J.dispatch({changes:_e,selection:et,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(J,$){if(/\(\)|\[\]|\{\}/.test(J.sliceDoc($-1,$+1)))return{from:$,to:$};let _e=syntaxTree(J).resolveInner($),et=_e.childBefore($),tt=_e.childAfter($),nt;return et&&tt&&et.to<=$&&tt.from>=$&&(nt=et.type.prop(NodeProp.closedBy))&&nt.indexOf(tt.name)>-1&&J.doc.lineAt(et.to).from==J.doc.lineAt(tt.from).from&&!/\S/.test(J.sliceDoc(et.to,tt.from))?{from:et.to,to:tt.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(J){return({state:$,dispatch:_e})=>{if($.readOnly)return!1;let et=$.changeByRange(tt=>{let{from:nt,to:rt}=tt,it=$.doc.lineAt(nt),ot=!J&&nt==rt&&isBetweenBrackets($,nt);J&&(nt=rt=(rt<=it.to?it:$.doc.lineAt(rt)).to);let st=new IndentContext($,{simulateBreak:nt,simulateDoubleBreak:!!ot}),at=getIndentation(st,nt);for(at==null&&(at=countColumn(/^\s*/.exec($.doc.lineAt(nt).text)[0],$.tabSize));rt<it.to&&/\s/.test(it.text[rt-it.from]);)rt++;ot?{from:nt,to:rt}=ot:nt>it.from&&nt<it.from+100&&!/\S/.test(it.text.slice(0,nt))&&(nt=it.from);let ct=["",indentString($,at)];return ot&&ct.push(indentString($,st.lineIndent(it.from,-1))),{changes:{from:nt,to:rt,insert:Text$1.of(ct)},range:EditorSelection.cursor(nt+1+ct[1].length)}});return _e($.update(et,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(J,$){let _e=-1;return J.changeByRange(et=>{let tt=[];for(let rt=et.from;rt<=et.to;){let it=J.doc.lineAt(rt);it.number>_e&&(et.empty||et.to>it.from)&&($(it,tt,et),_e=it.number),rt=it.to+1}let nt=J.changes(tt);return{changes:tt,range:EditorSelection.range(nt.mapPos(et.anchor,1),nt.mapPos(et.head,1))}})}const indentSelection=({state:J,dispatch:$})=>{if(J.readOnly)return!1;let _e=Object.create(null),et=new IndentContext(J,{overrideIndentation:nt=>{let rt=_e[nt];return rt??-1}}),tt=changeBySelectedLine(J,(nt,rt,it)=>{let ot=getIndentation(et,nt.from);if(ot==null)return;/\S/.test(nt.text)||(ot=0);let st=/^\s*/.exec(nt.text)[0],at=indentString(J,ot);(st!=at||it.from<nt.from+st.length)&&(_e[nt.from]=ot,rt.push({from:nt.from,to:nt.from+st.length,insert:at}))});return tt.changes.empty||$(J.update(tt,{userEvent:"indent"})),!0},indentMore=({state:J,dispatch:$})=>J.readOnly?!1:($(J.update(changeBySelectedLine(J,(_e,et)=>{et.push({from:_e.from,insert:J.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:J,dispatch:$})=>J.readOnly?!1:($(J.update(changeBySelectedLine(J,(_e,et)=>{let tt=/^\s*/.exec(_e.text)[0];if(!tt)return;let nt=countColumn(tt,J.tabSize),rt=0,it=indentString(J,Math.max(0,nt-getIndentUnit(J)));for(;rt<tt.length&&rt<it.length&&tt.charCodeAt(rt)==it.charCodeAt(rt);)rt++;et.push({from:_e.from+rt,to:_e.from+tt.length,insert:it.slice(rt)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=J=>(J.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(J=>({mac:J.key,run:J.run,shift:J.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var J=arguments[0];typeof J=="string"&&(J=document.createElement(J));var $=1,_e=arguments[1];if(_e&&typeof _e=="object"&&_e.nodeType==null&&!Array.isArray(_e)){for(var et in _e)if(Object.prototype.hasOwnProperty.call(_e,et)){var tt=_e[et];typeof tt=="string"?J.setAttribute(et,tt):tt!=null&&(J[et]=tt)}$++}for(;$<arguments.length;$++)add(J,arguments[$]);return J}function add(J,$){if(typeof $=="string")J.appendChild(document.createTextNode($));else if($!=null)if($.nodeType!=null)J.appendChild($);else if(Array.isArray($))for(var _e=0;_e<$.length;_e++)add(J,$[_e]);else throw new RangeError("Unsupported child node: "+$)}const basicNormalize=typeof String.prototype.normalize=="function"?J=>J.normalize("NFKD"):J=>J;class SearchCursor{constructor($,_e,et=0,tt=$.length,nt,rt){this.test=rt,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=$.iterRange(et,tt),this.bufferStart=et,this.normalize=nt?it=>nt(basicNormalize(it)):basicNormalize,this.query=this.normalize(_e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let $=this.peek();if($<0)return this.done=!0,this;let _e=fromCodePoint($),et=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize($);let tt=this.normalize(_e);if(tt.length)for(let nt=0,rt=et;;nt++){let it=tt.charCodeAt(nt),ot=this.match(it,rt,this.bufferPos+this.bufferStart);if(nt==tt.length-1){if(ot)return this.value=ot,this;break}rt==et&&nt<_e.length&&_e.charCodeAt(nt)==it&&rt++}}}match($,_e,et){let tt=null;for(let nt=0;nt<this.matches.length;nt+=2){let rt=this.matches[nt],it=!1;this.query.charCodeAt(rt)==$&&(rt==this.query.length-1?tt={from:this.matches[nt+1],to:et}:(this.matches[nt]++,it=!0)),it||(this.matches.splice(nt,2),nt-=2)}return this.query.charCodeAt(0)==$&&(this.query.length==1?tt={from:_e,to:et}:this.matches.push(1,_e)),tt&&this.test&&!this.test(tt.from,tt.to,this.buffer,this.bufferStart)&&(tt=null),tt}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor($,_e,et,tt=0,nt=$.length){if(this.text=$,this.to=nt,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(_e))return new MultilineRegExpCursor($,_e,et,tt,nt);this.re=new RegExp(_e,baseFlags+(et!=null&&et.ignoreCase?"i":"")),this.test=et==null?void 0:et.test,this.iter=$.iter();let rt=$.lineAt(tt);this.curLineStart=rt.from,this.matchPos=toCharEnd($,tt),this.getLine(this.curLineStart)}getLine($){this.iter.next($),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let $=this.matchPos-this.curLineStart;;){this.re.lastIndex=$;let _e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(_e){let et=this.curLineStart+_e.index,tt=et+_e[0].length;if(this.matchPos=toCharEnd(this.text,tt+(et==tt?1:0)),et==this.curLineStart+this.curLine.length&&this.nextLine(),(et<tt||et>this.value.to)&&(!this.test||this.test(et,tt,_e)))return this.value={from:et,to:tt,match:_e},this;$=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),$=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor($,_e){this.from=$,this.text=_e}get to(){return this.from+this.text.length}static get($,_e,et){let tt=flattened.get($);if(!tt||tt.from>=et||tt.to<=_e){let it=new FlattenedDoc(_e,$.sliceString(_e,et));return flattened.set($,it),it}if(tt.from==_e&&tt.to==et)return tt;let{text:nt,from:rt}=tt;return rt>_e&&(nt=$.sliceString(_e,rt)+nt,rt=_e),tt.to<et&&(nt+=$.sliceString(tt.to,et)),flattened.set($,new FlattenedDoc(rt,nt)),new FlattenedDoc(_e,nt.slice(_e-rt,et-rt))}}class MultilineRegExpCursor{constructor($,_e,et,tt,nt){this.text=$,this.to=nt,this.done=!1,this.value=empty,this.matchPos=toCharEnd($,tt),this.re=new RegExp(_e,baseFlags+(et!=null&&et.ignoreCase?"i":"")),this.test=et==null?void 0:et.test,this.flat=FlattenedDoc.get($,tt,this.chunkEnd(tt+5e3))}chunkEnd($){return $>=this.to?this.to:this.text.lineAt($).to}next(){for(;;){let $=this.re.lastIndex=this.matchPos-this.flat.from,_e=this.re.exec(this.flat.text);if(_e&&!_e[0]&&_e.index==$&&(this.re.lastIndex=$+1,_e=this.re.exec(this.flat.text)),_e){let et=this.flat.from+_e.index,tt=et+_e[0].length;if((this.flat.to>=this.to||_e.index+_e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(et,tt,_e)))return this.value={from:et,to:tt,match:_e},this.matchPos=toCharEnd(this.text,tt+(et==tt?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(J){try{return new RegExp(J,baseFlags),!0}catch{return!1}}function toCharEnd(J,$){if($>=J.length)return $;let _e=J.lineAt($),et;for(;$<_e.to&&(et=_e.text.charCodeAt($-_e.from))>=56320&&et<57344;)$++;return $}function createLineDialog(J){let $=String(J.state.doc.lineAt(J.state.selection.main.head).number),_e=crelt("input",{class:"cm-textfield",name:"line",value:$}),et=crelt("form",{class:"cm-gotoLine",onkeydown:nt=>{nt.keyCode==27?(nt.preventDefault(),J.dispatch({effects:dialogEffect.of(!1)}),J.focus()):nt.keyCode==13&&(nt.preventDefault(),tt())},onsubmit:nt=>{nt.preventDefault(),tt()}},crelt("label",J.state.phrase("Go to line"),": ",_e)," ",crelt("button",{class:"cm-button",type:"submit"},J.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{J.dispatch({effects:dialogEffect.of(!1)}),J.focus()},"aria-label":J.state.phrase("close"),type:"button"},[""]));function tt(){let nt=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(_e.value);if(!nt)return;let{state:rt}=J,it=rt.doc.lineAt(rt.selection.main.head),[,ot,st,at,ct]=nt,ut=at?+at.slice(1):0,ft=st?+st:it.number;if(st&&ct){let vt=ft/100;ot&&(vt=vt*(ot=="-"?-1:1)+it.number/rt.doc.lines),ft=Math.round(rt.doc.lines*vt)}else st&&ot&&(ft=ft*(ot=="-"?-1:1)+it.number);let dt=rt.doc.line(Math.max(1,Math.min(rt.doc.lines,ft))),pt=EditorSelection.cursor(dt.from+Math.max(0,Math.min(ut,dt.length)));J.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(pt.from,{y:"center"})],selection:pt}),J.focus()}return{dom:et}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(J,$){for(let _e of $.effects)_e.is(dialogEffect)&&(J=_e.value);return J},provide:J=>showPanel.from(J,$=>$?createLineDialog:null)}),gotoLine=J=>{let $=getPanel(J,createLineDialog);if(!$){let _e=[dialogEffect.of(!0)];J.state.field(dialogField,!1)==null&&_e.push(StateEffect.appendConfig.of([dialogField,baseTheme$1])),J.dispatch({effects:_e}),$=getPanel(J,createLineDialog)}return $&&$.dom.querySelector("input").select(),!0},baseTheme$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(J){return combineConfig(J,defaultHighlightOptions,{highlightWordAroundCursor:($,_e)=>$||_e,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(J){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(J,$,_e,et){return(_e==0||J($.sliceDoc(_e-1,_e))!=CharCategory.Word)&&(et==$.doc.length||J($.sliceDoc(et,et+1))!=CharCategory.Word)}function insideWord(J,$,_e,et){return J($.sliceDoc(_e,_e+1))==CharCategory.Word&&J($.sliceDoc(et-1,et))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){(J.selectionSet||J.docChanged||J.viewportChanged)&&(this.decorations=this.getDeco(J.view))}getDeco(J){let $=J.state.facet(highlightConfig),{state:_e}=J,et=_e.selection;if(et.ranges.length>1)return Decoration.none;let tt=et.main,nt,rt=null;if(tt.empty){if(!$.highlightWordAroundCursor)return Decoration.none;let ot=_e.wordAt(tt.head);if(!ot)return Decoration.none;rt=_e.charCategorizer(tt.head),nt=_e.sliceDoc(ot.from,ot.to)}else{let ot=tt.to-tt.from;if(ot<$.minSelectionLength||ot>200)return Decoration.none;if($.wholeWords){if(nt=_e.sliceDoc(tt.from,tt.to),rt=_e.charCategorizer(tt.head),!(insideWordBoundaries(rt,_e,tt.from,tt.to)&&insideWord(rt,_e,tt.from,tt.to)))return Decoration.none}else if(nt=_e.sliceDoc(tt.from,tt.to),!nt)return Decoration.none}let it=[];for(let ot of J.visibleRanges){let st=new SearchCursor(_e.doc,nt,ot.from,ot.to);for(;!st.next().done;){let{from:at,to:ct}=st.value;if((!rt||insideWordBoundaries(rt,_e,at,ct))&&(tt.empty&&at<=tt.from&&ct>=tt.to?it.push(mainMatchDeco.range(at,ct)):(at>=tt.to||ct<=tt.from)&&it.push(matchDeco.range(at,ct)),it.length>$.maxMatches))return Decoration.none}}return Decoration.set(it)}},{decorations:J=>J.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:J,dispatch:$})=>{let{selection:_e}=J,et=EditorSelection.create(_e.ranges.map(tt=>J.wordAt(tt.head)||EditorSelection.cursor(tt.head)),_e.mainIndex);return et.eq(_e)?!1:($(J.update({selection:et})),!0)};function findNextOccurrence(J,$){let{main:_e,ranges:et}=J.selection,tt=J.wordAt(_e.head),nt=tt&&tt.from==_e.from&&tt.to==_e.to;for(let rt=!1,it=new SearchCursor(J.doc,$,et[et.length-1].to);;)if(it.next(),it.done){if(rt)return null;it=new SearchCursor(J.doc,$,0,Math.max(0,et[et.length-1].from-1)),rt=!0}else{if(rt&&et.some(ot=>ot.from==it.value.from))continue;if(nt){let ot=J.wordAt(it.value.from);if(!ot||ot.from!=it.value.from||ot.to!=it.value.to)continue}return it.value}}const selectNextOccurrence=({state:J,dispatch:$})=>{let{ranges:_e}=J.selection;if(_e.some(nt=>nt.from===nt.to))return selectWord({state:J,dispatch:$});let et=J.sliceDoc(_e[0].from,_e[0].to);if(J.selection.ranges.some(nt=>J.sliceDoc(nt.from,nt.to)!=et))return!1;let tt=findNextOccurrence(J,et);return tt?($(J.update({selection:J.selection.addRange(EditorSelection.range(tt.from,tt.to),!1),effects:EditorView.scrollIntoView(tt.to)})),!0):!1},searchConfigFacet=Facet.define({combine(J){return combineConfig(J,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:$=>new SearchPanel($),scrollToMatch:$=>EditorView.scrollIntoView($)})}});class SearchQuery{constructor($){this.search=$.search,this.caseSensitive=!!$.caseSensitive,this.literal=!!$.literal,this.regexp=!!$.regexp,this.replace=$.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!$.wholeWord}unquote($){return this.literal?$:$.replace(/\\([nrt\\])/g,(_e,et)=>et=="n"?`
`:et=="r"?"\r":et=="t"?"	":"\\")}eq($){return this.search==$.search&&this.replace==$.replace&&this.caseSensitive==$.caseSensitive&&this.regexp==$.regexp&&this.wholeWord==$.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor($,_e=0,et){let tt=$.doc?$:EditorState.create({doc:$});return et==null&&(et=tt.doc.length),this.regexp?regexpCursor(this,tt,_e,et):stringCursor(this,tt,_e,et)}}class QueryType{constructor($){this.spec=$}}function stringCursor(J,$,_e,et){return new SearchCursor($.doc,J.unquoted,_e,et,J.caseSensitive?void 0:tt=>tt.toLowerCase(),J.wholeWord?stringWordTest($.doc,$.charCategorizer($.selection.main.head)):void 0)}function stringWordTest(J,$){return(_e,et,tt,nt)=>((nt>_e||nt+tt.length<et)&&(nt=Math.max(0,_e-2),tt=J.sliceString(nt,Math.min(J.length,et+2))),($(charBefore(tt,_e-nt))!=CharCategory.Word||$(charAfter(tt,_e-nt))!=CharCategory.Word)&&($(charAfter(tt,et-nt))!=CharCategory.Word||$(charBefore(tt,et-nt))!=CharCategory.Word))}class StringQuery extends QueryType{constructor($){super($)}nextMatch($,_e,et){let tt=stringCursor(this.spec,$,et,$.doc.length).nextOverlapping();if(tt.done){let nt=Math.min($.doc.length,_e+this.spec.unquoted.length);tt=stringCursor(this.spec,$,0,nt).nextOverlapping()}return tt.done||tt.value.from==_e&&tt.value.to==et?null:tt.value}prevMatchInRange($,_e,et){for(let tt=et;;){let nt=Math.max(_e,tt-1e4-this.spec.unquoted.length),rt=stringCursor(this.spec,$,nt,tt),it=null;for(;!rt.nextOverlapping().done;)it=rt.value;if(it)return it;if(nt==_e)return null;tt-=1e4}}prevMatch($,_e,et){let tt=this.prevMatchInRange($,0,_e);return tt||(tt=this.prevMatchInRange($,Math.max(0,et-this.spec.unquoted.length),$.doc.length)),tt&&(tt.from!=_e||tt.to!=et)?tt:null}getReplacement($){return this.spec.unquote(this.spec.replace)}matchAll($,_e){let et=stringCursor(this.spec,$,0,$.doc.length),tt=[];for(;!et.next().done;){if(tt.length>=_e)return null;tt.push(et.value)}return tt}highlight($,_e,et,tt){let nt=stringCursor(this.spec,$,Math.max(0,_e-this.spec.unquoted.length),Math.min(et+this.spec.unquoted.length,$.doc.length));for(;!nt.next().done;)tt(nt.value.from,nt.value.to)}}function regexpCursor(J,$,_e,et){return new RegExpCursor($.doc,J.search,{ignoreCase:!J.caseSensitive,test:J.wholeWord?regexpWordTest($.charCategorizer($.selection.main.head)):void 0},_e,et)}function charBefore(J,$){return J.slice(findClusterBreak(J,$,!1),$)}function charAfter(J,$){return J.slice($,findClusterBreak(J,$))}function regexpWordTest(J){return($,_e,et)=>!et[0].length||(J(charBefore(et.input,et.index))!=CharCategory.Word||J(charAfter(et.input,et.index))!=CharCategory.Word)&&(J(charAfter(et.input,et.index+et[0].length))!=CharCategory.Word||J(charBefore(et.input,et.index+et[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch($,_e,et){let tt=regexpCursor(this.spec,$,et,$.doc.length).next();return tt.done&&(tt=regexpCursor(this.spec,$,0,_e).next()),tt.done?null:tt.value}prevMatchInRange($,_e,et){for(let tt=1;;tt++){let nt=Math.max(_e,et-tt*1e4),rt=regexpCursor(this.spec,$,nt,et),it=null;for(;!rt.next().done;)it=rt.value;if(it&&(nt==_e||it.from>nt+10))return it;if(nt==_e)return null}}prevMatch($,_e,et){return this.prevMatchInRange($,0,_e)||this.prevMatchInRange($,et,$.doc.length)}getReplacement($){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(_e,et)=>{if(et=="&")return $.match[0];if(et=="$")return"$";for(let tt=et.length;tt>0;tt--){let nt=+et.slice(0,tt);if(nt>0&&nt<$.match.length)return $.match[nt]+et.slice(tt)}return _e})}matchAll($,_e){let et=regexpCursor(this.spec,$,0,$.doc.length),tt=[];for(;!et.next().done;){if(tt.length>=_e)return null;tt.push(et.value)}return tt}highlight($,_e,et,tt){let nt=regexpCursor(this.spec,$,Math.max(0,_e-250),Math.min(et+250,$.doc.length));for(;!nt.next().done;)tt(nt.value.from,nt.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(J){return new SearchState(defaultQuery(J).create(),null)},update(J,$){for(let _e of $.effects)_e.is(setSearchQuery)?J=new SearchState(_e.value.create(),J.panel):_e.is(togglePanel$1)&&(J=new SearchState(J.query,_e.value?createSearchPanel:null));return J},provide:J=>showPanel.from(J,$=>$.panel)});class SearchState{constructor($,_e){this.query=$,this.panel=_e}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(J){this.view=J,this.decorations=this.highlight(J.state.field(searchState))}update(J){let $=J.state.field(searchState);($!=J.startState.field(searchState)||J.docChanged||J.selectionSet||J.viewportChanged)&&(this.decorations=this.highlight($))}highlight({query:J,panel:$}){if(!$||!J.spec.valid)return Decoration.none;let{view:_e}=this,et=new RangeSetBuilder;for(let tt=0,nt=_e.visibleRanges,rt=nt.length;tt<rt;tt++){let{from:it,to:ot}=nt[tt];for(;tt<rt-1&&ot>nt[tt+1].from-2*250;)ot=nt[++tt].to;J.highlight(_e.state,it,ot,(st,at)=>{let ct=_e.state.selection.ranges.some(ut=>ut.from==st&&ut.to==at);et.add(st,at,ct?selectedMatchMark:matchMark)})}return et.finish()}},{decorations:J=>J.decorations});function searchCommand(J){return $=>{let _e=$.state.field(searchState,!1);return _e&&_e.query.spec.valid?J($,_e):openSearchPanel($)}}const findNext=searchCommand((J,{query:$})=>{let{to:_e}=J.state.selection.main,et=$.nextMatch(J.state,_e,_e);if(!et)return!1;let tt=EditorSelection.single(et.from,et.to),nt=J.state.facet(searchConfigFacet);return J.dispatch({selection:tt,effects:[announceMatch(J,et),nt.scrollToMatch(tt.main,J)],userEvent:"select.search"}),selectSearchInput(J),!0}),findPrevious=searchCommand((J,{query:$})=>{let{state:_e}=J,{from:et}=_e.selection.main,tt=$.prevMatch(_e,et,et);if(!tt)return!1;let nt=EditorSelection.single(tt.from,tt.to),rt=J.state.facet(searchConfigFacet);return J.dispatch({selection:nt,effects:[announceMatch(J,tt),rt.scrollToMatch(nt.main,J)],userEvent:"select.search"}),selectSearchInput(J),!0}),selectMatches=searchCommand((J,{query:$})=>{let _e=$.matchAll(J.state,1e3);return!_e||!_e.length?!1:(J.dispatch({selection:EditorSelection.create(_e.map(et=>EditorSelection.range(et.from,et.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:J,dispatch:$})=>{let _e=J.selection;if(_e.ranges.length>1||_e.main.empty)return!1;let{from:et,to:tt}=_e.main,nt=[],rt=0;for(let it=new SearchCursor(J.doc,J.sliceDoc(et,tt));!it.next().done;){if(nt.length>1e3)return!1;it.value.from==et&&(rt=nt.length),nt.push(EditorSelection.range(it.value.from,it.value.to))}return $(J.update({selection:EditorSelection.create(nt,rt),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((J,{query:$})=>{let{state:_e}=J,{from:et,to:tt}=_e.selection.main;if(_e.readOnly)return!1;let nt=$.nextMatch(_e,et,et);if(!nt)return!1;let rt=nt,it=[],ot,st,at=[];if(rt.from==et&&rt.to==tt&&(st=_e.toText($.getReplacement(rt)),it.push({from:rt.from,to:rt.to,insert:st}),rt=$.nextMatch(_e,rt.from,rt.to),at.push(EditorView.announce.of(_e.phrase("replaced match on line $",_e.doc.lineAt(et).number)+"."))),rt){let ct=it.length==0||it[0].from>=nt.to?0:nt.to-nt.from-st.length;ot=EditorSelection.single(rt.from-ct,rt.to-ct),at.push(announceMatch(J,rt)),at.push(_e.facet(searchConfigFacet).scrollToMatch(ot.main,J))}return J.dispatch({changes:it,selection:ot,effects:at,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((J,{query:$})=>{if(J.state.readOnly)return!1;let _e=$.matchAll(J.state,1e9).map(tt=>{let{from:nt,to:rt}=tt;return{from:nt,to:rt,insert:$.getReplacement(tt)}});if(!_e.length)return!1;let et=J.state.phrase("replaced $ matches",_e.length)+".";return J.dispatch({changes:_e,effects:EditorView.announce.of(et),userEvent:"input.replace.all"}),!0});function createSearchPanel(J){return J.state.facet(searchConfigFacet).createPanel(J)}function defaultQuery(J,$){var _e,et,tt,nt,rt;let it=J.selection.main,ot=it.empty||it.to>it.from+100?"":J.sliceDoc(it.from,it.to);if($&&!ot)return $;let st=J.facet(searchConfigFacet);return new SearchQuery({search:((_e=$==null?void 0:$.literal)!==null&&_e!==void 0?_e:st.literal)?ot:ot.replace(/\n/g,"\\n"),caseSensitive:(et=$==null?void 0:$.caseSensitive)!==null&&et!==void 0?et:st.caseSensitive,literal:(tt=$==null?void 0:$.literal)!==null&&tt!==void 0?tt:st.literal,regexp:(nt=$==null?void 0:$.regexp)!==null&&nt!==void 0?nt:st.regexp,wholeWord:(rt=$==null?void 0:$.wholeWord)!==null&&rt!==void 0?rt:st.wholeWord})}function getSearchInput(J){let $=getPanel(J,createSearchPanel);return $&&$.dom.querySelector("[main-field]")}function selectSearchInput(J){let $=getSearchInput(J);$&&$==J.root.activeElement&&$.select()}const openSearchPanel=J=>{let $=J.state.field(searchState,!1);if($&&$.panel){let _e=getSearchInput(J);if(_e&&_e!=J.root.activeElement){let et=defaultQuery(J.state,$.query.spec);et.valid&&J.dispatch({effects:setSearchQuery.of(et)}),_e.focus(),_e.select()}}else J.dispatch({effects:[togglePanel$1.of(!0),$?setSearchQuery.of(defaultQuery(J.state,$.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=J=>{let $=J.state.field(searchState,!1);if(!$||!$.panel)return!1;let _e=getPanel(J,createSearchPanel);return _e&&_e.dom.contains(J.root.activeElement)&&J.focus(),J.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor($){this.view=$;let _e=this.query=$.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:_e.search,placeholder:phrase($,"Find"),"aria-label":phrase($,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:_e.replace,placeholder:phrase($,"Replace"),"aria-label":phrase($,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:_e.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:_e.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:_e.wholeWord,onchange:this.commit});function et(tt,nt,rt){return crelt("button",{class:"cm-button",name:tt,onclick:nt,type:"button"},rt)}this.dom=crelt("div",{onkeydown:tt=>this.keydown(tt),class:"cm-search"},[this.searchField,et("next",()=>findNext($),[phrase($,"next")]),et("prev",()=>findPrevious($),[phrase($,"previous")]),et("select",()=>selectMatches($),[phrase($,"all")]),crelt("label",null,[this.caseField,phrase($,"match case")]),crelt("label",null,[this.reField,phrase($,"regexp")]),crelt("label",null,[this.wordField,phrase($,"by word")]),...$.state.readOnly?[]:[crelt("br"),this.replaceField,et("replace",()=>replaceNext($),[phrase($,"replace")]),et("replaceAll",()=>replaceAll($),[phrase($,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel($),"aria-label":phrase($,"close"),type:"button"},[""])])}commit(){let $=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});$.eq(this.query)||(this.query=$,this.view.dispatch({effects:setSearchQuery.of($)}))}keydown($){runScopeHandlers(this.view,$,"search-panel")?$.preventDefault():$.keyCode==13&&$.target==this.searchField?($.preventDefault(),($.shiftKey?findPrevious:findNext)(this.view)):$.keyCode==13&&$.target==this.replaceField&&($.preventDefault(),replaceNext(this.view))}update($){for(let _e of $.transactions)for(let et of _e.effects)et.is(setSearchQuery)&&!et.value.eq(this.query)&&this.setQuery(et.value)}setQuery($){this.query=$,this.searchField.value=$.search,this.replaceField.value=$.replace,this.caseField.checked=$.caseSensitive,this.reField.checked=$.regexp,this.wordField.checked=$.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(J,$){return J.state.phrase($)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(J,{from:$,to:_e}){let et=J.state.doc.lineAt($),tt=J.state.doc.lineAt(_e).to,nt=Math.max(et.from,$-AnnounceMargin),rt=Math.min(tt,_e+AnnounceMargin),it=J.state.sliceDoc(nt,rt);if(nt!=et.from){for(let ot=0;ot<AnnounceMargin;ot++)if(!Break.test(it[ot+1])&&Break.test(it[ot])){it=it.slice(ot);break}}if(rt!=tt){for(let ot=it.length-1;ot>it.length-AnnounceMargin;ot--)if(!Break.test(it[ot-1])&&Break.test(it[ot])){it=it.slice(0,ot);break}}return EditorView.announce.of(`${J.state.phrase("current match")}. ${it} ${J.state.phrase("on line")} ${et.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class SelectedDiagnostic{constructor($,_e,et){this.from=$,this.to=_e,this.diagnostic=et}}class LintState{constructor($,_e,et){this.diagnostics=$,this.panel=_e,this.selected=et}static init($,_e,et){let tt=$,nt=et.facet(lintConfig).markerFilter;nt&&(tt=nt(tt,et));let rt=$.slice().sort((ct,ut)=>ct.from-ut.from||ct.to-ut.to),it=new RangeSetBuilder,ot=[],st=0;for(let ct=0;;){let ut=ct==rt.length?null:rt[ct];if(!ut&&!ot.length)break;let ft,dt;for(ot.length?(ft=st,dt=ot.reduce((vt,mt)=>Math.min(vt,mt.to),ut&&ut.from>ft?ut.from:1e8)):(ft=ut.from,dt=ut.to,ot.push(ut),ct++);ct<rt.length;){let vt=rt[ct];if(vt.from==ft&&(vt.to>vt.from||vt.to==ft))ot.push(vt),ct++,dt=Math.min(vt.to,dt);else{dt=Math.min(vt.from,dt);break}}let pt=maxSeverity(ot);if(ot.some(vt=>vt.from==vt.to||vt.from==vt.to-1&&et.doc.lineAt(vt.from).to==vt.from))it.add(ft,ft,Decoration.widget({widget:new DiagnosticWidget(pt),diagnostics:ot.slice()}));else{let vt=ot.reduce((mt,Ot)=>Ot.markClass?mt+" "+Ot.markClass:mt,"");it.add(ft,dt,Decoration.mark({class:"cm-lintRange cm-lintRange-"+pt+vt,diagnostics:ot.slice(),inclusiveEnd:ot.some(mt=>mt.to>dt)}))}st=dt;for(let vt=0;vt<ot.length;vt++)ot[vt].to<=st&&ot.splice(vt--,1)}let at=it.finish();return new LintState(at,_e,findDiagnostic(at))}}function findDiagnostic(J,$=null,_e=0){let et=null;return J.between(_e,1e9,(tt,nt,{spec:rt})=>{if(!($&&rt.diagnostics.indexOf($)<0))if(!et)et=new SelectedDiagnostic(tt,nt,$||rt.diagnostics[0]);else{if(rt.diagnostics.indexOf(et.diagnostic)<0)return!1;et=new SelectedDiagnostic(et.from,nt,et.diagnostic)}}),et}function hideTooltip(J,$){let _e=$.pos,et=$.end||_e,tt=J.state.facet(lintConfig).hideOn(J,_e,et);if(tt!=null)return tt;let nt=J.startState.doc.lineAt($.pos);return!!(J.effects.some(rt=>rt.is(setDiagnosticsEffect))||J.changes.touchesRange(nt.from,Math.max(nt.to,et)))}function maybeEnableLint(J,$){return J.field(lintState,!1)?$:$.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(J,$){if($.docChanged&&J.diagnostics.size){let _e=J.diagnostics.map($.changes),et=null,tt=J.panel;if(J.selected){let nt=$.changes.mapPos(J.selected.from,1);et=findDiagnostic(_e,J.selected.diagnostic,nt)||findDiagnostic(_e,null,nt)}!_e.size&&tt&&$.state.facet(lintConfig).autoPanel&&(tt=null),J=new LintState(_e,tt,et)}for(let _e of $.effects)if(_e.is(setDiagnosticsEffect)){let et=$.state.facet(lintConfig).autoPanel?_e.value.length?LintPanel.open:null:J.panel;J=LintState.init(_e.value,et,$.state)}else _e.is(togglePanel)?J=new LintState(J.diagnostics,_e.value?LintPanel.open:null,J.selected):_e.is(movePanelSelection)&&(J=new LintState(J.diagnostics,J.panel,_e.value));return J},provide:J=>[showPanel.from(J,$=>$.panel),EditorView.decorations.from(J,$=>$.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(J,$,_e){let{diagnostics:et}=J.state.field(lintState),tt,nt=-1,rt=-1;et.between($-(_e<0?1:0),$+(_e>0?1:0),(ot,st,{spec:at})=>{if($>=ot&&$<=st&&(ot==st||($>ot||_e>0)&&($<st||_e<0)))return tt=at.diagnostics,nt=ot,rt=st,!1});let it=J.state.facet(lintConfig).tooltipFilter;return tt&&it&&(tt=it(tt,J.state)),tt?{pos:nt,end:rt,above:J.state.doc.lineAt(nt).to<rt,create(){return{dom:diagnosticsTooltip(J,tt)}}}:null}function diagnosticsTooltip(J,$){return crelt("ul",{class:"cm-tooltip-lint"},$.map(_e=>renderDiagnostic(J,_e,!1)))}const openLintPanel=J=>{let $=J.state.field(lintState,!1);(!$||!$.panel)&&J.dispatch({effects:maybeEnableLint(J.state,[togglePanel.of(!0)])});let _e=getPanel(J,LintPanel.open);return _e&&_e.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=J=>{let $=J.state.field(lintState,!1);return!$||!$.panel?!1:(J.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=J=>{let $=J.state.field(lintState,!1);if(!$)return!1;let _e=J.state.selection.main,et=$.diagnostics.iter(_e.to+1);return!et.value&&(et=$.diagnostics.iter(0),!et.value||et.from==_e.from&&et.to==_e.to)?!1:(J.dispatch({selection:{anchor:et.from,head:et.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(J){return Object.assign({sources:J.map($=>$.source).filter($=>$!=null)},combineConfig(J.map($=>$.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:($,_e)=>$?_e?et=>$(et)||_e(et):$:_e}))}});function assignKeys(J){let $=[];if(J)e:for(let{name:_e}of J){for(let et=0;et<_e.length;et++){let tt=_e[et];if(/[a-zA-Z]/.test(tt)&&!$.some(nt=>nt.toLowerCase()==tt.toLowerCase())){$.push(tt);continue e}}$.push("")}return $}function renderDiagnostic(J,$,_e){var et;let tt=_e?assignKeys($.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+$.severity},crelt("span",{class:"cm-diagnosticText"},$.renderMessage?$.renderMessage(J):$.message),(et=$.actions)===null||et===void 0?void 0:et.map((nt,rt)=>{let it=!1,ot=ut=>{if(ut.preventDefault(),it)return;it=!0;let ft=findDiagnostic(J.state.field(lintState).diagnostics,$);ft&&nt.apply(J,ft.from,ft.to)},{name:st}=nt,at=tt[rt]?st.indexOf(tt[rt]):-1,ct=at<0?st:[st.slice(0,at),crelt("u",st.slice(at,at+1)),st.slice(at+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:ot,onmousedown:ot,"aria-label":` Action: ${st}${at<0?"":` (access key "${tt[rt]})"`}.`},ct)}),$.source&&crelt("div",{class:"cm-diagnosticSource"},$.source))}class DiagnosticWidget extends WidgetType{constructor($){super(),this.sev=$}eq($){return $.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor($,_e){this.diagnostic=_e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic($,_e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor($){this.view=$,this.items=[];let _e=tt=>{if(tt.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(tt.keyCode==38||tt.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(tt.keyCode==40||tt.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(tt.keyCode==36)this.moveSelection(0);else if(tt.keyCode==35)this.moveSelection(this.items.length-1);else if(tt.keyCode==13)this.view.focus();else if(tt.keyCode>=65&&tt.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:nt}=this.items[this.selectedIndex],rt=assignKeys(nt.actions);for(let it=0;it<rt.length;it++)if(rt[it].toUpperCase().charCodeAt(0)==tt.keyCode){let ot=findDiagnostic(this.view.state.field(lintState).diagnostics,nt);ot&&nt.actions[it].apply($,ot.from,ot.to)}}else return;tt.preventDefault()},et=tt=>{for(let nt=0;nt<this.items.length;nt++)this.items[nt].dom.contains(tt.target)&&this.moveSelection(nt)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:_e,onclick:et}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let $=this.view.state.field(lintState).selected;if(!$)return-1;for(let _e=0;_e<this.items.length;_e++)if(this.items[_e].diagnostic==$.diagnostic)return _e;return-1}update(){let{diagnostics:$,selected:_e}=this.view.state.field(lintState),et=0,tt=!1,nt=null,rt=new Set;for($.between(0,this.view.state.doc.length,(it,ot,{spec:st})=>{for(let at of st.diagnostics){if(rt.has(at))continue;rt.add(at);let ct=-1,ut;for(let ft=et;ft<this.items.length;ft++)if(this.items[ft].diagnostic==at){ct=ft;break}ct<0?(ut=new PanelItem(this.view,at),this.items.splice(et,0,ut),tt=!0):(ut=this.items[ct],ct>et&&(this.items.splice(et,ct-et),tt=!0)),_e&&ut.diagnostic==_e.diagnostic?ut.dom.hasAttribute("aria-selected")||(ut.dom.setAttribute("aria-selected","true"),nt=ut):ut.dom.hasAttribute("aria-selected")&&ut.dom.removeAttribute("aria-selected"),et++}});et<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)tt=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),tt=!0),nt?(this.list.setAttribute("aria-activedescendant",nt.id),this.view.requestMeasure({key:this,read:()=>({sel:nt.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:it,panel:ot})=>{let st=ot.height/this.list.offsetHeight;it.top<ot.top?this.list.scrollTop-=(ot.top-it.top)/st:it.bottom>ot.bottom&&(this.list.scrollTop+=(it.bottom-ot.bottom)/st)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),tt&&this.sync()}sync(){let $=this.list.firstChild;function _e(){let et=$;$=et.nextSibling,et.remove()}for(let et of this.items)if(et.dom.parentNode==this.list){for(;$!=et.dom;)_e();$=et.dom.nextSibling}else this.list.insertBefore(et.dom,$);for(;$;)_e()}moveSelection($){if(this.selectedIndex<0)return;let _e=this.view.state.field(lintState),et=findDiagnostic(_e.diagnostics,this.items[$].diagnostic);et&&this.view.dispatch({selection:{anchor:et.from,head:et.to},scrollIntoView:!0,effects:movePanelSelection.of(et)})}static open($){return new LintPanel($)}}function svg(J,$='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${$}>${encodeURIComponent(J)}</svg>')`}function underline(J){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${J}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(J){return J=="error"?4:J=="warning"?3:J=="info"?2:1}function maxSeverity(J){let $="hint",_e=1;for(let et of J){let tt=severityWeight(et.severity);tt>_e&&(_e=tt,$=et.severity)}return $}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],J=>{let{selected:$,panel:_e}=J.field(lintState);return!$||!_e||$.from==$.to?Decoration.none:Decoration.set([activeMark.range($.from,$.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function J($){$===void 0&&($={});var{crosshairCursor:_e=!1}=$,et=[];$.closeBracketsKeymap!==!1&&(et=et.concat(closeBracketsKeymap)),$.defaultKeymap!==!1&&(et=et.concat(defaultKeymap)),$.searchKeymap!==!1&&(et=et.concat(searchKeymap)),$.historyKeymap!==!1&&(et=et.concat(historyKeymap)),$.foldKeymap!==!1&&(et=et.concat(foldKeymap)),$.completionKeymap!==!1&&(et=et.concat(completionKeymap)),$.lintKeymap!==!1&&(et=et.concat(lintKeymap));var tt=[];return $.lineNumbers!==!1&&tt.push(lineNumbers()),$.highlightActiveLineGutter!==!1&&tt.push(highlightActiveLineGutter()),$.highlightSpecialChars!==!1&&tt.push(highlightSpecialChars()),$.history!==!1&&tt.push(history()),$.foldGutter!==!1&&tt.push(foldGutter()),$.drawSelection!==!1&&tt.push(drawSelection()),$.dropCursor!==!1&&tt.push(dropCursor()),$.allowMultipleSelections!==!1&&tt.push(EditorState.allowMultipleSelections.of(!0)),$.indentOnInput!==!1&&tt.push(indentOnInput()),$.syntaxHighlighting!==!1&&tt.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),$.bracketMatching!==!1&&tt.push(bracketMatching()),$.closeBrackets!==!1&&tt.push(closeBrackets()),$.autocompletion!==!1&&tt.push(autocompletion()),$.rectangularSelection!==!1&&tt.push(rectangularSelection()),_e!==!1&&tt.push(crosshairCursor()),$.highlightActiveLine!==!1&&tt.push(highlightActiveLine()),$.highlightSelectionMatches!==!1&&tt.push(highlightSelectionMatches()),$.tabSize&&typeof $.tabSize=="number"&&tt.push(indentUnit.of(" ".repeat($.tabSize))),tt.concat([keymap.of(et.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function J($){$===void 0&&($={});var{indentWithTab:_e=!0,editable:et=!0,readOnly:tt=!1,theme:nt="light",placeholder:rt="",basicSetup:it=!0}=$,ot=[];switch(_e&&ot.unshift(keymap.of([indentWithTab])),it&&(typeof it=="boolean"?ot.unshift(basicSetup()):ot.unshift(basicSetup(it))),rt&&ot.unshift(placeholder(rt)),nt){case"light":ot.push(defaultLightThemeOption);break;case"dark":ot.push(oneDark);break;case"none":break;default:ot.push(nt);break}return et===!1&&ot.push(EditorView.editable.of(!1)),tt&&ot.push(EditorState.readOnly.of(!0)),[...ot]},getStatistics=J=>({line:J.state.doc.lineAt(J.state.selection.main.from),lineCount:J.state.doc.lines,lineBreak:J.state.lineBreak,length:J.state.doc.length,readOnly:J.state.readOnly,tabSize:J.state.tabSize,selection:J.state.selection,selectionAsSingle:J.state.selection.asSingle().main,ranges:J.state.selection.ranges,selectionCode:J.state.sliceDoc(J.state.selection.main.from,J.state.selection.main.to),selections:J.state.selection.ranges.map($=>J.state.sliceDoc($.from,$.to)),selectedText:J.state.selection.ranges.some($=>!$.empty)}),External=Annotation.define(),emptyExtensions=[];function useCodeMirror(J){var{value:$,selection:_e,onChange:et,onStatistics:tt,onCreateEditor:nt,onUpdate:rt,extensions:it=emptyExtensions,autoFocus:ot,theme:st="light",height:at=null,minHeight:ct=null,maxHeight:ut=null,width:ft=null,minWidth:dt=null,maxWidth:pt=null,placeholder:vt="",editable:mt=!0,readOnly:Ot=!1,indentWithTab:yt=!0,basicSetup:wt=!0,root:bt,initialState:Ct}=J,[kt,Et]=useState$1(),[_t,At]=useState$1(),[Dt,jt]=useState$1(),Wt=EditorView.theme({"&":{height:at,minHeight:ct,maxHeight:ut,width:ft,minWidth:dt,maxWidth:pt},"& .cm-scroller":{height:"100% !important"}}),Zt=EditorView.updateListener.of($t=>{if($t.docChanged&&typeof et=="function"&&!$t.transactions.some(Lt=>Lt.annotation(External))){var Tt=$t.state.doc,Rt=Tt.toString();et(Rt,$t)}tt&&tt(getStatistics($t))}),It=getDefaultExtensions({theme:st,editable:mt,readOnly:Ot,placeholder:vt,indentWithTab:yt,basicSetup:wt}),Vt=[Zt,Wt,...It];return rt&&typeof rt=="function"&&Vt.push(EditorView.updateListener.of(rt)),Vt=Vt.concat(it),useEffect$2(()=>{if(kt&&!Dt){var $t={doc:$,selection:_e,extensions:Vt},Tt=Ct?EditorState.fromJSON(Ct.json,$t,Ct.fields):EditorState.create($t);if(jt(Tt),!_t){var Rt=new EditorView({state:Tt,parent:kt,root:bt});At(Rt),nt&&nt(Rt,Tt)}}return()=>{_t&&(jt(void 0),At(void 0))}},[kt,Dt]),useEffect$2(()=>Et(J.container),[J.container]),useEffect$2(()=>()=>{_t&&(_t.destroy(),At(void 0))},[_t]),useEffect$2(()=>{ot&&_t&&_t.focus()},[ot,_t]),useEffect$2(()=>{_t&&_t.dispatch({effects:StateEffect.reconfigure.of(Vt)})},[st,it,at,ct,ut,ft,dt,pt,vt,mt,Ot,yt,wt,et,rt]),useEffect$2(()=>{if($!==void 0){var $t=_t?_t.state.doc.toString():"";_t&&$!==$t&&_t.dispatch({changes:{from:0,to:$t.length,insert:$||""},annotations:[External.of(!0)]})}},[$,_t]),{state:Dt,setState:jt,view:_t,setView:At,container:kt,setContainer:Et}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=forwardRef((J,$)=>{var{className:_e,value:et="",selection:tt,extensions:nt=[],onChange:rt,onStatistics:it,onCreateEditor:ot,onUpdate:st,autoFocus:at,theme:ct="light",height:ut,minHeight:ft,maxHeight:dt,width:pt,minWidth:vt,maxWidth:mt,basicSetup:Ot,placeholder:yt,indentWithTab:wt,editable:bt,readOnly:Ct,root:kt,initialState:Et}=J,_t=_objectWithoutPropertiesLoose(J,_excluded),At=useRef$1(null),{state:Dt,view:jt,container:Wt}=useCodeMirror({container:At.current,root:kt,value:et,autoFocus:at,theme:ct,height:ut,minHeight:ft,maxHeight:dt,width:pt,minWidth:vt,maxWidth:mt,basicSetup:Ot,placeholder:yt,indentWithTab:wt,editable:bt,readOnly:Ct,selection:tt,onChange:rt,onStatistics:it,onCreateEditor:ot,onUpdate:st,extensions:nt,initialState:Et});if(useImperativeHandle($,()=>({editor:At.current,state:Dt,view:jt}),[At,Wt,Dt,jt]),typeof et!="string")throw new Error("value must be typeof string but got "+typeof et);var Zt=typeof ct=="string"?"cm-theme-"+ct:"cm-theme";return jsxRuntimeExports.jsx("div",_extends$3({ref:At,className:""+Zt+(_e?" "+_e:"")},_t))});ReactCodeMirror.displayName="CodeMirror";const widgetPropEditorStateSelector=createShallowSelector(selectApp,selectActiveWidgetProps,(J,$)=>({isVisible:J.isPropsEditorOpen,widgetProps:$,hasPropsError:J.hasPropsError})),WidgetPropEditor=memo(({trigger:J})=>{const $=useTranslate(),{isVisible:_e,widgetProps:et,hasPropsError:tt}=useAppSelector(widgetPropEditorStateSelector),nt=useRef$1(et),rt=useAppDispatch();return useEffect$2(()=>{tt&&(window.alert($("Bathtub.PropEditor.ValidationError")),rt(appActions.clearPropsError()))},[tt]),jsxs(Fragment,{children:[J,jsxs(Modal,{isOpen:_e,onRequestClose:()=>rt(appActions.setIsPropsEditorOpen(!1)),style:{overlay:{zIndex:1e20,height:"75vh"}},children:[jsx$1("h1",{children:$("Bathtub.PropEditor.Title")}),jsx$1(ReactCodeMirror,{theme:"dark",value:et,width:"100%",height:"50vh",extensions:[javascript({jsx:!0})],onChange:it=>{nt.current=it}}),jsxs(ReactHotkeys,{keyName:"esc",onKeyDown:()=>{rt(appActions.setIsPropsEditorOpen(!1)),rt(appActions.clearPropsError())},children:[jsx$1("button",{onClick:()=>{nt.current&&nt.current!==et&&rt(appActions.setActiveWidgetProps(nt.current))},"data-qa":"props-editor-update",children:$("Bathtub.PropEditor.Update")}),jsx$1("button",{onClick:()=>rt(appActions.setIsPropsEditorOpen(!1)),children:"close"})]})]})]})}),ErrorBoundaryContext=createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends Component{constructor($){super($),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError($){return{didCatch:!0,error:$}}resetErrorBoundary(){const{error:$}=this.state;if($!==null){for(var _e,et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];(_e=(et=this.props).onReset)===null||_e===void 0||_e.call(et,{args:nt,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch($,_e){var et,tt;(et=(tt=this.props).onError)===null||et===void 0||et.call(tt,$,_e)}componentDidUpdate($,_e){const{didCatch:et}=this.state,{resetKeys:tt}=this.props;if(et&&_e.error!==null&&hasArrayChanged($.resetKeys,tt)){var nt,rt;(nt=(rt=this.props).onReset)===null||nt===void 0||nt.call(rt,{next:tt,prev:$.resetKeys,reason:"keys"}),this.setState(initialState)}}render(){const{children:$,fallbackRender:_e,FallbackComponent:et,fallback:tt}=this.props,{didCatch:nt,error:rt}=this.state;let it=$;if(nt){const ot={error:rt,resetErrorBoundary:this.resetErrorBoundary};if(typeof _e=="function")it=_e(ot);else if(et)it=createElement(et,ot);else if(tt!==void 0)it=tt;else throw rt}return createElement(ErrorBoundaryContext.Provider,{value:{didCatch:nt,error:rt,resetErrorBoundary:this.resetErrorBoundary}},it)}}function hasArrayChanged(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return J.length!==$.length||J.some((_e,et)=>!Object.is(_e,$[et]))}const errorTypeRE=/^(.*?):\s*/,getMessage=J=>J instanceof Error?J.message:String(J),getType=J=>{if(J instanceof Error){const $=J.stack;if($){const _e=$.match(errorTypeRE);if(_e)return _e[1]}}return"Error"},parseStack=J=>{if(J instanceof Error){const $=J.stack;if($){const _e=$.match(/at\s+(.*)\s+\((.*):(\d+):(\d+)\)/);if(_e){const[,tt,nt,rt,it]=_e;return{file:nt.trim(),widget:tt.trim(),location:`${rt.trim()}:${it.trim()}`}}const et=$.match(/at\s+()(.*):(\d+):(\d+)/);if(et){const[,tt,nt,rt,it]=et;return{file:nt.trim(),widget:tt.trim(),location:`${rt.trim()}:${it.trim()}`}}}}return{file:"",location:"",widget:""}},parseError=J=>{const{file:$,location:_e,widget:et}=parseStack(J);return{type:getType(J),message:getMessage(J),file:$,location:_e,widget:et,stack:J instanceof Error?J.stack??"":""}},Title=newStyled.p`
  font-family: ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono',
    'Roboto Mono', 'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro',
    'Fira Mono', 'Droid Sans Mono', 'Courier New', monospace;
  color: ${J=>J.type==="error"?"#DB3939":"#191823"};
  font-weight: 600;
  padding: 0;
  margin: 0;
`,xs="16px",Text=newStyled.p`
  margin: 0;
  padding: ${xs} 0 0 0;
`,Pre=newStyled.pre`
  white-space: pre-wrap;
  font-family: ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono',
    'Roboto Mono', 'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro',
    'Fira Mono', 'Droid Sans Mono', 'Courier New', monospace;
`,borderRadiusDefault="2px",spacingS="24px",bgColorCanvasDocument="#ebeff3",Section=newStyled(Box)`
  padding: ${spacingS};
  borderradius: ${borderRadiusDefault};
  background: ${bgColorCanvasDocument};
`,Fallback=({error:J,resetErrorBoundary:$})=>{const _e=useTranslate(),et=useAppDispatch(),tt=parseError(J),nt=()=>{$==null||$(),et(appActions.renderWidget())};return jsxs(Column,{gap:spacingS,children:[jsx$1(Section,{children:jsxs(Row,{css:{alignContent:"center"},children:[jsxs(Column,{justify:"center",children:[jsx$1(Title,{"data-qa":"bathtub.error.type",type:"error",children:tt.type}),jsx$1("h2",{"data-qa":"bathtub.error.heading",children:_e("Bathtub.Renderer.HelpFailedHeader")}),jsx$1(Text,{children:_e("Bathtub.Renderer.HelpFailed")})]}),jsx$1(ReactHotkeys,{keyName:"cmd+esc",onKeyDown:nt,children:jsx$1("button",{onClick:nt,children:_e("Bathtub.Renderer.HelpFailedAction")})})]})}),jsx$1(Section,{children:jsxs(Row,{css:{alignContent:"center"},children:[jsxs(Row.Flex,{flex:"1",justify:"center",children:[jsx$1(Title,{"data-qa":"bathtub.error.message",type:"error",children:tt.message}),jsx$1(Title,{"data-qa":"bathtub.error.location",type:"info",children:_e("Bathtub.Renderer.HelpFailureLocation",{WIDGET:tt.widget,LOCATION:tt.location})})]}),jsx$1("a",{href:`${tt.file}`,target:"_blank",children:_e("Bathtub.Renderer.HelpFailureOpenFile")})]})}),jsx$1(Column.Flex,{flex:"1",children:jsxs(Section,{children:[jsx$1("h3",{"data-qa":"bathtub.error.stackHeading",children:_e("Bathtub.Renderer.HelpFailureStackTrace")}),jsx$1(Pre,{children:tt.stack})]})})]})},ErrorOverlay=({children:J})=>jsx$1(ErrorBoundary,{FallbackComponent:Fallback,children:J}),safeParseProps=widgetProps=>{try{return eval("("+widgetProps+")")}catch(J){return{kitchenSink:"testing"}}},WidgetRenderer=memo(({platform:J})=>{useAppDispatch();const $=useAppSelector(selectActiveWidgetUrl),_e=useAppSelector(selectActiveWidgetProps),et=useAppSelector(selectWidgetRefreshSignal),tt=useMemo$1(()=>{if($)return J.utils.widgets.getByUrl($)},[$,et]),nt=safeParseProps(_e);return jsx$1(ErrorOverlay,{children:jsx$1(tt,{...nt})})}),HeaderWrapper=newStyled(Box)`
  box-shadow: 0px 2px 8px rgba(25, 24, 35, 0.15);
  grid-area: header;
`,AppHeader=memo(()=>{const J=useAppDispatch(),$=useAppSelector(selectWidget),_e=useTranslate();return useEffect$2(()=>{document.title=($==null?void 0:$.widgetId)??"@1ds/bathtub"},[$]),jsx$1(HeaderWrapper,{children:jsxs("div",{children:[jsx$1(Row,{css:{gap:"16px",justifyContent:"flex-start",align:"center"},children:jsx$1(ReactHotkeys,{keyName:"cmd+shift+c",onKeyDown:()=>{$?navigator.clipboard.writeText(`https://apps.dev.docusign.net/bathtub/?widget=${$.widgetId}`):navigator.clipboard.writeText(window.location.href)},children:jsx$1(ReactHotkeys,{keyName:"cmd+/",onKeyDown:()=>{J(appActions.setIsWidgetSwitcherOpen(!0))},children:jsx$1(WidgetSwitcher,{trigger:jsx$1("button",{"data-qa":"widget-switcher-launch-button",onClick:()=>{J(appActions.setIsWidgetSwitcherOpen(!0))},children:_e("Bathtub.Header.Waffle")})})})})}),jsxs(Row,{css:{gap:"16px",justifyContent:"flex-start",align:"center"},children:[jsx$1(ReactHotkeys,{keyName:"cmd+p",onKeyDown:(et,tt)=>{tt.preventDefault(),tt.stopImmediatePropagation(),J(appActions.setIsPropsEditorOpen(!0))},children:jsx$1(WidgetPropEditor,{trigger:jsx$1("button",{"data-qa":"widget-prop-editor-button",onClick:()=>{J(appActions.setIsPropsEditorOpen(!0))},children:_e("Bathtub.Header.Editor")})})}),jsx$1("button",{onClick:()=>{J(appActions.reset())},children:_e("Bathtub.Header.Reset")}),jsx$1("button",{onClick:()=>{J(appActions.renderWidget())},children:_e("Bathtub.Header.Render")})]})]})})});/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(J){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(J[et]=_e[et])}return J},_extends$1.apply(this,arguments)}var Action;(function(J){J.Pop="POP",J.Push="PUSH",J.Replace="REPLACE"})(Action||(Action={}));function createMemoryHistory(J){J===void 0&&(J={});let{initialEntries:$=["/"],initialIndex:_e,v5Compat:et=!1}=J,tt;tt=$.map((ft,dt)=>at(ft,typeof ft=="string"?null:ft.state,dt===0?"default":void 0));let nt=ot(_e??tt.length-1),rt=Action.Pop,it=null;function ot(ft){return Math.min(Math.max(ft,0),tt.length-1)}function st(){return tt[nt]}function at(ft,dt,pt){dt===void 0&&(dt=null);let vt=createLocation(tt?st().pathname:"/",ft,dt,pt);return warning(vt.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(ft)),vt}function ct(ft){return typeof ft=="string"?ft:createPath(ft)}return{get index(){return nt},get action(){return rt},get location(){return st()},createHref:ct,createURL(ft){return new URL(ct(ft),"http://localhost")},encodeLocation(ft){let dt=typeof ft=="string"?parsePath(ft):ft;return{pathname:dt.pathname||"",search:dt.search||"",hash:dt.hash||""}},push(ft,dt){rt=Action.Push;let pt=at(ft,dt);nt+=1,tt.splice(nt,tt.length,pt),et&&it&&it({action:rt,location:pt,delta:1})},replace(ft,dt){rt=Action.Replace;let pt=at(ft,dt);tt[nt]=pt,et&&it&&it({action:rt,location:pt,delta:0})},go(ft){rt=Action.Pop;let dt=ot(nt+ft),pt=tt[dt];nt=dt,it&&it({action:rt,location:pt,delta:ft})},listen(ft){return it=ft,()=>{it=null}}}}function invariant(J,$){throw new Error($)}function warning(J,$){if(!J){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createLocation(J,$,_e,et){return _e===void 0&&(_e=null),_extends$1({pathname:typeof J=="string"?J:J.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||et||createKey()})}function createPath(J){let{pathname:$="/",search:_e="",hash:et=""}=J;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),et&&et!=="#"&&($+=et.charAt(0)==="#"?et:"#"+et),$}function parsePath(J){let $={};if(J){let _e=J.indexOf("#");_e>=0&&($.hash=J.substr(_e),J=J.substr(0,_e));let et=J.indexOf("?");et>=0&&($.search=J.substr(et),J=J.substr(0,et)),J&&($.pathname=J)}return $}var ResultType;(function(J){J.data="data",J.deferred="deferred",J.redirect="redirect",J.error="error"})(ResultType||(ResultType={}));function stripBasename(J,$){if($==="/")return J;if(!J.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,et=J.charAt(_e);return et&&et!=="/"?null:J.slice(_e)||"/"}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(J){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(J[et]=_e[et])}return J},_extends.apply(this,arguments)}const NavigationContext=React$2.createContext(null),LocationContext=React$2.createContext(null);function useInRouterContext(){return React$2.useContext(LocationContext)!=null}const alreadyWarned={};function warnOnce(J,$){alreadyWarned[$]||(alreadyWarned[$]=!0,console.warn($))}const logDeprecation=(J,$,_e)=>warnOnce(J,"  React Router Future Flag Warning: "+$+". "+("You can use the `"+J+"` future flag to opt-in early. ")+("For more information, see "+_e+"."));function logV6DeprecationWarnings(J,$){(J==null?void 0:J.v7_startTransition)===void 0&&logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(J==null?void 0:J.v7_relativeSplatPath)===void 0&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function MemoryRouter(J){let{basename:$,children:_e,initialEntries:et,initialIndex:tt,future:nt}=J,rt=React$2.useRef();rt.current==null&&(rt.current=createMemoryHistory({initialEntries:et,initialIndex:tt,v5Compat:!0}));let it=rt.current,[ot,st]=React$2.useState({action:it.action,location:it.location}),{v7_startTransition:at}=nt||{},ct=React$2.useCallback(ut=>{at&&startTransitionImpl?startTransitionImpl(()=>st(ut)):st(ut)},[st,at]);return React$2.useLayoutEffect(()=>it.listen(ct),[it,ct]),React$2.useEffect(()=>logV6DeprecationWarnings(nt),[nt]),React$2.createElement(Router,{basename:$,children:_e,location:ot.location,navigationType:ot.action,navigator:it,future:nt})}function Router(J){let{basename:$="/",children:_e=null,location:et,navigationType:tt=Action.Pop,navigator:nt,static:rt=!1,future:it}=J;useInRouterContext()&&invariant();let ot=$.replace(/^\/*/,"/"),st=React$2.useMemo(()=>({basename:ot,navigator:nt,static:rt,future:_extends({v7_relativeSplatPath:!1},it)}),[ot,it,nt,rt]);typeof et=="string"&&(et=parsePath(et));let{pathname:at="/",search:ct="",hash:ut="",state:ft=null,key:dt="default"}=et,pt=React$2.useMemo(()=>{let vt=stripBasename(at,ot);return vt==null?null:{location:{pathname:vt,search:ct,hash:ut,state:ft,key:dt},navigationType:tt}},[ot,at,ct,ut,ft,dt,tt]);return pt==null?null:React$2.createElement(NavigationContext.Provider,{value:st},React$2.createElement(LocationContext.Provider,{children:_e,value:pt}))}new Promise(()=>{});const Wrapper=newStyled(Box)`
  height: 100%;

  > div {
    height: 100%;
  }
`,withProvider=J=>function(_e){return jsx$1(Wrapper,{"data-qa":"bathtub.provider",children:jsx$1(Provider,{store,children:jsx$1(LocationContext.Provider,{value:null,children:jsx$1(MemoryRouter,{children:jsx$1(J,{..._e})})})})})},Layout=newStyled(Box)`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-template-columns: 100%;
  grid-template-areas: 'header' 'content';
  height: 100%;
  width: 100%;
`,Content=newStyled.main`
  grid-area: content;
  overflow: auto;
  height: 100%;
  width: 100%;
`,WidgetInner=memo(J=>{const{isLoading:$,error:_e}=useAppSelector(selectLoadingOrError),et=useAppSelector(selectActiveWidgetUrl);return jsxs(Layout,{children:[jsx$1(AppHeader,{}),jsx$1(Content,{id:"main",children:et?jsx$1(WidgetRenderer,{...J}):jsx$1("div",{children:"Widget browser coming soon..."})})]})}),Widget=exports("default",withProvider(WidgetInner))}}});